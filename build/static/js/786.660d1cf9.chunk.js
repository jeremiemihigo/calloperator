"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[786],{199786:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var i=a(809019),n=a(416031),o=a.n(n),l=a(747313),r=a(270501),s=a(286961),c=a(624631),d=a(369099),u=a(396180),p=a(835662),m=a(62195),v=a(661395),g=a(528756),h=a(346417);const x=function(e){let{plainteSelect:t}=e;const[a,n]=l.useState(""),[o,r]=l.useState(""),[x,f]=l.useState(""),[b,Z]=u.ZP.useMessage(),y=(0,s.I0)(),j=async e=>{if(e.preventDefault(),8===a){const e={statut:t,minutes:x};200===(await p.Z.post(v.mA+"/default_delai",e,v.vc)).status&&(i="Done",n="success",b.open({type:n,content:""+i,duration:10}))}else{const e={plainte:t,jour:""+a,debut:o,minutes:x};y((0,m.F7)(e))}var i,n};return(0,h.jsxs)(h.Fragment,{children:[Z,(0,h.jsxs)(i.ZP,{container:!0,children:[(0,h.jsx)(i.ZP,{item:!0,lg:3,children:(0,h.jsx)(g.Z,{label:"Jour",data:[{id:1,title:"Lundi",value:1},{id:2,title:"Mardi",value:2},{id:3,title:"Mercredi",value:3},{id:4,title:"Jeudi",value:4},{id:5,title:"Vendredi",value:5},{id:6,title:"Samedi",value:6},{id:7,title:"Dimanche",value:7},{id:8,title:"Default",value:8}],value:a,setValue:n})}),8!==a&&(0,h.jsx)(i.ZP,{item:!0,lg:3,children:(0,h.jsx)("div",{style:{margin:"0px 10px"},children:(0,h.jsx)(c.Z,{onChange:e=>r(e.target.value),type:"time",name:"time",autoComplete:"off",fullWidth:!0,label:"Time"})})}),(0,h.jsx)(i.ZP,{item:!0,lg:3,children:(0,h.jsx)("div",{style:{margin:"0px 10px"},children:(0,h.jsx)(c.Z,{type:"number",onChange:e=>f(e.target.value),name:"minutes",autoComplete:"off",fullWidth:!0,label:"Minutes"})})}),(0,h.jsx)(i.ZP,{item:!0,lg:3,children:(0,h.jsx)("div",{style:{margin:"0px 10px"},children:(0,h.jsx)(d.Z,{onClick:e=>j(e),fullWidth:!0,variant:"contained",color:"primary",children:"Valider"})})})]})]})};const f=function(){var e;const t=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],[a,n]=l.useState(""),c=(0,s.v9)((e=>{var t;return null===(t=e.delai)||void 0===t?void 0:t.delai})),[d,u]=l.useState();return l.useEffect((()=>{u(o().filter(c,{plainte:a}))}),[a]),console.log(d),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(i.ZP,{container:!0,children:[(0,h.jsx)(i.ZP,{item:!0,lg:4,children:[{id:0,title:"Back office",value:"escalade"},{id:1,title:"Resolved awaiting confirmation",value:"resolved_awaiting_confirmation"},{id:2,title:"Open_technician_visit",value:"Open_technician_visit"},{id:3,title:"Awaiting confirmation",value:"awaiting_confirmation"},{id:4,title:"Not_resolved",value:"Not_resolved"},{id:5,title:"Ongoing",value:"Ongoing"}].map((e=>(0,h.jsx)(i.ZP,{onClick:()=>n(e.value),className:e.value===a?"plainte select":"plainte",children:(0,h.jsx)("p",{children:e.title})},e.id)))}),(0,h.jsxs)(i.ZP,{item:!0,lg:8,sx:{padding:"0px 10px"},children:[(0,h.jsx)(x,{plainteSelect:a}),(0,h.jsxs)(i.ZP,{sx:{marginTop:"15px"},children:[d&&d.length>0&&d[0].critere.length>0&&d[0].critere.map(((e,a)=>(0,h.jsxs)(r.Z,{sx:{padding:"5px",marginBottom:"5px"},elevation:1,children:[t[e.jour],"; de ",e.debut,"; delai : ",e.delai+"minutes"]},a))),d&&d.length>0&&(0,h.jsxs)(r.Z,{sx:{padding:"5px",marginTop:"5px"},elevation:1,children:["Default; delai : ",(null===(e=d[0])||void 0===e?void 0:e.defaut)+"minutes"]})]})]})]})})}},528756:(e,t,a)=>{a.d(t,{Z:()=>c});var i=a(747313),n=a(315090),o=a(51405),l=a(301550),r=a(788797),s=a(346417);const c=function(e){const{label:t,data:a,value:c,setValue:d}=e,[u,p]=i.useState(!1);return(0,s.jsxs)(l.Z,{sx:{width:"100%"},children:[(0,s.jsx)(n.Z,{id:"demo-controlled-open-select-label",children:t}),(0,s.jsx)(r.Z,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:u,onClose:()=>{p(!1)},onOpen:()=>{p(!0)},value:c,label:t,onChange:e=>{d(e.target.value)},children:function(e){return e.map(((e,t)=>(0,s.jsx)(o.Z,{value:e.value,children:e.title},t)))}(a)})]})}},51405:(e,t,a)=>{a.d(t,{Z:()=>j});var i=a(747313),n=a(683061),o=a(608007),l=a(913392),r=a(617592),s=a(577342),c=a(851195),d=a(338743),u=a(324993),p=a(286983),m=a(999273),v=a(637363),g=a(811081),h=a(814363),x=a(601167);function f(e){return(0,x.ZP)("MuiMenuItem",e)}const b=(0,h.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var Z=a(346417);const y=(0,r.ZP)(d.Z,{shouldForwardProp:e=>(0,r.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap",...!a.disableGutters&&{paddingLeft:16,paddingRight:16},...a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(b.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(b.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(b.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(b.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(b.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(m.Z.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(m.Z.inset)]:{marginLeft:52},["& .".concat(g.Z.root)]:{marginTop:0,marginBottom:0},["& .".concat(g.Z.inset)]:{paddingLeft:36},["& .".concat(v.Z.root)]:{minWidth:36},...!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},...a.dense&&{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,["& .".concat(v.Z.root," svg")]:{fontSize:"1.25rem"}}}})),j=i.forwardRef((function(e,t){const a=(0,s.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:r="li",dense:d=!1,divider:m=!1,disableGutters:v=!1,focusVisibleClassName:g,role:h="menuitem",tabIndex:x,className:b,...j}=a,C=i.useContext(c.Z),O=i.useMemo((()=>({dense:d||C.dense||!1,disableGutters:v})),[C.dense,d,v]),k=i.useRef(null);(0,u.Z)((()=>{l&&k.current&&k.current.focus()}),[l]);const S={...a,dense:O.dense,divider:m,disableGutters:v},w=(e=>{const{disabled:t,dense:a,divider:i,disableGutters:n,selected:l,classes:r}=e,s={root:["root",a&&"dense",t&&"disabled",!n&&"gutters",i&&"divider",l&&"selected"]},c=(0,o.Z)(s,f,r);return{...r,...c}})(a),M=(0,p.Z)(k,t);let P;return a.disabled||(P=void 0!==x?x:-1),(0,Z.jsx)(c.Z.Provider,{value:O,children:(0,Z.jsx)(y,{ref:M,role:h,tabIndex:P,component:r,focusVisibleClassName:(0,n.Z)(w.focusVisible,g),className:(0,n.Z)(w.root,b),...j,ownerState:S,classes:w})})}))}}]);