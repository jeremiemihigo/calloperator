"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[885],{803105:(e,n,t)=>{t.d(n,{Z:()=>l});var o=t(876767),r=t(648623),i=t(624631),a=t(346417);const s=(0,o.D)();const l=function(e){let{value:n,setValue:t,options:o,title:l,propr:c}=e;return(0,a.jsx)(r.Z,{value:n,onChange:(e,n)=>{"string"===typeof n?t({title:n}):n&&n.inputValue?t({title:n.inputValue}):t(n)},filterOptions:(e,n)=>s(e,n),selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with",options:o,getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e[""+c],renderOption:(e,n)=>(0,a.jsx)("li",{...e,children:n[""+c]},n.id),sx:{width:"100%"},freeSolo:!0,renderInput:e=>(0,a.jsx)(i.Z,{...e,label:l||"Titre"})})}},680509:(e,n,t)=>{t.d(n,{Z:()=>a});var o=t(936373),r=t(747313),i=t(346417);const a=function(e){const{message:n}=e,[t,a]=r.useState(!0);return(0,i.jsx)("div",{children:(0,i.jsx)(o.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,onClose:()=>{a(!1)},message:n},"bottom center")})}},927885:(e,n,t)=>{t.r(n),t.d(n,{default:()=>j});var o=t(270501),r=t(818580),i=t(576940),a=t(835662),s=t(747313),l=t(594500),c=t(661395),d=t(985038),u=t(624631),p=t(369099),h=t(585281),g=t(318394),f=t(680509),m=t(346417);const v=function(){const[e,n]=(0,s.useState)(""),t=(0,l.I0)(),o=(0,l.v9)((e=>e.zone)),[r,i]=(0,s.useState)(!1);return(0,m.jsxs)("div",{style:{padding:"10px",width:"20rem"},children:["rejected"===o.addZone&&(0,m.jsx)(f.Z,{message:o.addZoneError,open:r,setOpen:i}),"success"===o.addZone&&(0,m.jsx)(f.Z,{message:"Enregistrement effectuer",open:!0,setOpen:i}),(0,m.jsxs)("div",{style:{display:"flex"},children:[(0,m.jsx)(u.Z,{onChange:e=>{e.preventDefault(),n(e.target.value)},value:e,label:"D\xe9nomination",name:"etablissement",autoComplete:"off",fullWidth:!0}),(0,m.jsxs)(p.Z,{sx:{marginLeft:"10px"},variant:"contained",disabled:"pending"===o.addZone,onClick:n=>(n=>{n.preventDefault();try{t((0,g.DS)(e)),i(!0)}catch(o){}})(n),children:["pending"===o.addZone&&(0,m.jsx)(h.Z,{color:"inherit",size:20}),(0,m.jsx)("span",{style:{marginLeft:"10px"},children:"Enregistrer"})]})]})]})};var x=t(803105),Z=t(160609);const w=function(){const[e,n]=(0,s.useState)({shop:"",adresse:""}),{shop:t,adresse:o}=e,r=(0,l.I0)(),i=(0,l.v9)((e=>e.zone.zone)),[a,c]=s.useState("");return(0,m.jsxs)("div",{style:{padding:"10px",width:"20rem"},children:[(0,m.jsx)("div",{children:(0,m.jsx)(u.Z,{onChange:t=>{t.preventDefault(),n({...e,shop:t.target.value})},value:t,label:"Shop *",name:"shop",autoComplete:"off",fullWidth:!0})}),(0,m.jsx)("div",{style:{marginTop:"10px",marginBottom:"10px"},children:(0,m.jsx)(u.Z,{onChange:t=>{t.preventDefault(),n({...e,adresse:t.target.value})},value:o,label:"Adresse du shop",name:"adresse",autoComplete:"off",fullWidth:!0})}),(0,m.jsx)("div",{children:i&&(0,m.jsx)(x.Z,{value:a,setValue:c,options:i,title:"Selectionnez la region",propr:"denomination"})}),(0,m.jsxs)(p.Z,{onClick:e=>(e=>{e.preventDefault(),r((0,Z.Bx)({shop:t,adresse:o,idZone:""!==a&&a.idZone}))})(e),sx:{marginTop:"10px"},variant:"contained",fullWidth:!0,children:[(0,m.jsx)(h.Z,{color:"inherit",size:20}),(0,m.jsx)("span",{style:{marginLeft:"10px"},children:"Enregistrer"})]})]})};const b=function(){return(0,m.jsx)("div",{children:(0,m.jsx)(w,{})})};const j=function(){const[e,n]=(0,s.useState)(),[t,u]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{const e=await a.Z.get(c.V6+"/zone",c.vc);n(e.data)})()}),[]);const p=(0,l.v9)((e=>e.shop.shop)),h=(0,l.v9)((e=>e.user.user));return(0,m.jsxs)(o.Z,{elevation:3,sx:{padding:"10px"},children:["superUser"===(null===h||void 0===h?void 0:h.fonction)&&(0,m.jsx)(v,{}),(0,m.jsxs)("div",{style:{display:"flex"},children:[(0,m.jsx)("div",{style:{width:"50%"},children:e&&(0,m.jsx)(r._$,{rows:e,columns:[{field:"idZone",headerName:"ID_Region",width:100,editable:!1},{field:"denomination",headerName:"REGION",width:150,editable:!1}],initialState:{pagination:{paginationModel:{pageSize:6}}},pageSizeOptions:[6],checkboxSelection:!0,disableRowSelectionOnClick:!0})}),(0,m.jsxs)("div",{style:{width:"50%"},children:["superUser"===(null===h||void 0===h?void 0:h.fonction)&&(0,m.jsx)(i.ZP,{type:"primary",onClick:()=>u(!0),children:"Ajoutez un shop"}),p&&(0,m.jsx)(r._$,{rows:p,columns:[{field:"region",headerName:"REGION",width:80,editable:!1,renderCell:e=>e.row.region.denomination},{field:"idShop",headerName:"ID SHOP",width:100,editable:!1},{field:"shop",headerName:"SHOP",width:100,editable:!1}],initialState:{pagination:{paginationModel:{pageSize:6}}},pageSizeOptions:[6],checkboxSelection:!0,disableRowSelectionOnClick:!0})]})]}),(0,m.jsx)(d.Z,{open:t,setOpen:u,title:"Ajoutez un shop",children:(0,m.jsx)(b,{})})]})}},936373:(e,n,t)=>{t.d(n,{Z:()=>O});var o=t(747313),r=t(608007),i=t(919648),a=t(731685),s=t(951782),l=t(534816);var c=t(617592),d=t(319860),u=t(577342),p=t(691615),h=t(473365),g=t(683061),f=t(913392),m=t(270501),v=t(814363),x=t(601167);function Z(e){return(0,x.ZP)("MuiSnackbarContent",e)}(0,v.Z)("MuiSnackbarContent",["root","message","action"]);var w=t(346417);const b=(0,c.ZP)(m.Z,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,n)=>n.root})((e=>{let{theme:n}=e;const t="light"===n.palette.mode?.8:.98,o=(0,f._4)(n.palette.background.default,t);return{...n.typography.body2,color:n.vars?n.vars.palette.SnackbarContent.color:n.palette.getContrastText(o),backgroundColor:n.vars?n.vars.palette.SnackbarContent.bg:o,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,flexGrow:1,[n.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),j=(0,c.ZP)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,n)=>n.message})({padding:"8px 0"}),S=(0,c.ZP)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,n)=>n.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),C=o.forwardRef((function(e,n){const t=(0,u.Z)({props:e,name:"MuiSnackbarContent"}),{action:o,className:i,message:a,role:s="alert",...l}=t,c=t,d=(e=>{const{classes:n}=e;return(0,r.Z)({root:["root"],action:["action"],message:["message"]},Z,n)})(c);return(0,w.jsxs)(b,{role:s,square:!0,elevation:6,className:(0,g.Z)(d.root,i),ownerState:c,ref:n,...l,children:[(0,w.jsx)(j,{className:d.message,ownerState:c,children:a}),o?(0,w.jsx)(S,{className:d.action,ownerState:c,children:o}):null]})}));function k(e){return(0,x.ZP)("MuiSnackbar",e)}(0,v.Z)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const y=(0,c.ZP)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n[`anchorOrigin${(0,p.Z)(t.anchorOrigin.vertical)}${(0,p.Z)(t.anchorOrigin.horizontal)}`]]}})((e=>{let{theme:n,ownerState:t}=e;return{zIndex:(n.vars||n).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",..."top"===t.anchorOrigin.vertical?{top:8}:{bottom:8},..."left"===t.anchorOrigin.horizontal&&{justifyContent:"flex-start"},..."right"===t.anchorOrigin.horizontal&&{justifyContent:"flex-end"},[n.breakpoints.up("sm")]:{..."top"===t.anchorOrigin.vertical?{top:24}:{bottom:24},..."center"===t.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},..."left"===t.anchorOrigin.horizontal&&{left:24,right:"auto"},..."right"===t.anchorOrigin.horizontal&&{right:24,left:"auto"}}}})),O=o.forwardRef((function(e,n){const t=(0,u.Z)({props:e,name:"MuiSnackbar"}),c=(0,d.Z)(),g={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{action:f,anchorOrigin:{vertical:m,horizontal:v}={vertical:"bottom",horizontal:"left"},autoHideDuration:x=null,children:Z,className:b,ClickAwayListenerProps:j,ContentProps:S,disableWindowBlurListener:O=!1,message:z,onBlur:E,onClose:L,onFocus:R,onMouseEnter:M,onMouseLeave:D,open:P,resumeHideDuration:T,TransitionComponent:N=h.Z,transitionDuration:B=g,TransitionProps:{onEnter:I,onExited:W,...A}={},...H}=t,V={...t,anchorOrigin:{vertical:m,horizontal:v},autoHideDuration:x,disableWindowBlurListener:O,TransitionComponent:N,transitionDuration:B},$=(e=>{const{classes:n,anchorOrigin:t}=e,o={root:["root",`anchorOrigin${(0,p.Z)(t.vertical)}${(0,p.Z)(t.horizontal)}`]};return(0,r.Z)(o,k,n)})(V),{getRootProps:F,onClickAway:G}=function(e){const{autoHideDuration:n=null,disableWindowBlurListener:t=!1,onClose:r,open:i,resumeHideDuration:a}=e,c=o.useRef();o.useEffect((()=>{if(i)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==r||r(e,"escapeKeyDown")}}),[i,r]);const d=(0,s.Z)(((e,n)=>{null==r||r(e,n)})),u=(0,s.Z)((e=>{r&&null!=e&&(clearTimeout(c.current),c.current=setTimeout((()=>{d(null,"timeout")}),e))}));o.useEffect((()=>(i&&u(n),()=>{clearTimeout(c.current)})),[i,n,u]);const p=()=>{clearTimeout(c.current)},h=o.useCallback((()=>{null!=n&&u(null!=a?a:.5*n)}),[n,a,u]),g=e=>n=>{const t=e.onBlur;null==t||t(n),h()},f=e=>n=>{const t=e.onFocus;null==t||t(n),p()},m=e=>n=>{const t=e.onMouseEnter;null==t||t(n),p()},v=e=>n=>{const t=e.onMouseLeave;null==t||t(n),h()};return o.useEffect((()=>{if(!t&&i)return window.addEventListener("focus",h),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",p)}}),[t,h,i]),{getRootProps:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...(0,l.Z)(e),...n};return{role:"presentation",...t,onBlur:g(t),onFocus:f(t),onMouseEnter:m(t),onMouseLeave:v(t)}},onClickAway:e=>{null==r||r(e,"clickaway")}}}({...V}),[_,K]=o.useState(!0),U=(0,i.Z)({elementType:y,getSlotProps:F,externalForwardedProps:H,ownerState:V,additionalProps:{ref:n},className:[$.root,b]});return!P&&_?null:(0,w.jsx)(a.Z,{onClickAway:G,...j,children:(0,w.jsx)(y,{...U,children:(0,w.jsx)(N,{appear:!0,in:P,timeout:B,direction:"top"===m?"down":"up",onEnter:(e,n)=>{K(!1),I&&I(e,n)},onExited:e=>{K(!0),W&&W(e)},...A,children:Z||(0,w.jsx)(C,{message:z,action:f,...S})})})})}))}}]);