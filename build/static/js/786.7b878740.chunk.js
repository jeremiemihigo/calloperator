"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[786],{199786:(e,i,t)=>{t.r(i),t.d(i,{default:()=>g});var l=t(809019),r=t(416031),n=t.n(r),a=t(747313),o=t(270501),d=t(286961),s=t(624631),u=t(369099),c=t(396180),p=t(835662),m=t(62195),v=t(661395),f=t(528756),x=t(346417);const h=function(e){let{plainteSelect:i}=e;const[t,r]=a.useState(""),[n,o]=a.useState(""),[h,g]=a.useState(""),[Z,j]=c.ZP.useMessage(),b=(0,d.I0)(),P=async e=>{if(e.preventDefault(),8===t){const e={statut:i,minutes:h};200===(await p.Z.post(v.mA+"/default_delai",e,v.vc)).status&&(l="Done",r="success",Z.open({type:r,content:""+l,duration:10}))}else{const e={plainte:i,jour:""+t,debut:n,minutes:h};b((0,m.F7)(e))}var l,r};return(0,x.jsxs)(x.Fragment,{children:[j,(0,x.jsxs)(l.ZP,{container:!0,children:[(0,x.jsx)(l.ZP,{item:!0,lg:3,children:(0,x.jsx)(f.Z,{label:"Jour",data:[{id:1,title:"Lundi",value:1},{id:2,title:"Mardi",value:2},{id:3,title:"Mercredi",value:3},{id:4,title:"Jeudi",value:4},{id:5,title:"Vendredi",value:5},{id:6,title:"Samedi",value:6},{id:7,title:"Dimanche",value:7},{id:8,title:"Default",value:8}],value:t,setValue:r})}),8!==t&&(0,x.jsx)(l.ZP,{item:!0,lg:3,children:(0,x.jsx)("div",{style:{margin:"0px 10px"},children:(0,x.jsx)(s.Z,{onChange:e=>o(e.target.value),type:"time",name:"time",autoComplete:"off",fullWidth:!0,label:"Time"})})}),(0,x.jsx)(l.ZP,{item:!0,lg:3,children:(0,x.jsx)("div",{style:{margin:"0px 10px"},children:(0,x.jsx)(s.Z,{type:"number",onChange:e=>g(e.target.value),name:"minutes",autoComplete:"off",fullWidth:!0,label:"Minutes"})})}),(0,x.jsx)(l.ZP,{item:!0,lg:3,children:(0,x.jsx)("div",{style:{margin:"0px 10px"},children:(0,x.jsx)(u.Z,{onClick:e=>P(e),fullWidth:!0,variant:"contained",color:"primary",children:"Valider"})})})]})]})};const g=function(){var e;const i=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],[t,r]=a.useState(""),s=(0,d.v9)((e=>{var i;return null===(i=e.delai)||void 0===i?void 0:i.delai})),[u,c]=a.useState();return a.useEffect((()=>{c(n().filter(s,{plainte:t}))}),[t]),console.log(u),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(l.ZP,{container:!0,children:[(0,x.jsx)(l.ZP,{item:!0,lg:4,children:[{id:0,title:"Back office",value:"escalade"},{id:1,title:"Resolved awaiting confirmation",value:"resolved_awaiting_confirmation"},{id:2,title:"Open_technician_visit",value:"Open_technician_visit"},{id:3,title:"Awaiting confirmation",value:"awaiting_confirmation"},{id:4,title:"Not_resolved",value:"Not_resolved"},{id:5,title:"Ongoing",value:"Ongoing"},{id:6,title:"Resolved",value:"resolved"}].map((e=>(0,x.jsx)(l.ZP,{onClick:()=>r(e.value),className:e.value===t?"plainte select":"plainte",children:(0,x.jsx)("p",{children:e.title})},e.id)))}),(0,x.jsxs)(l.ZP,{item:!0,lg:8,sx:{padding:"0px 10px"},children:[(0,x.jsx)(h,{plainteSelect:t}),(0,x.jsxs)(l.ZP,{sx:{marginTop:"15px"},children:[u&&u.length>0&&u[0].critere.length>0&&u[0].critere.map(((e,t)=>(0,x.jsxs)(o.Z,{sx:{padding:"5px",marginBottom:"5px"},elevation:1,children:[i[e.jour],"; de ",e.debut,"; delai : ",e.delai+"minutes"]},t))),u&&u.length>0&&(0,x.jsxs)(o.Z,{sx:{padding:"5px",marginTop:"5px"},elevation:1,children:["Default; delai : ",(null===(e=u[0])||void 0===e?void 0:e.defaut)+"minutes"]})]})]})]})})}},915480:(e,i,t)=>{t.d(i,{Z:()=>g});var l=t(747313),r=t(683061),n=t(608007),a=t(880300),o=t(799008),d=t(617592),s=t(691615),u=t(814363),c=t(601167);function p(e){return(0,c.ZP)("MuiFormHelperText",e)}const m=(0,u.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var v,f=t(577342),x=t(346417);const h=(0,d.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:t}=e;return[i.root,t.size&&i[`size${(0,s.Z)(t.size)}`],t.contained&&i.contained,t.filled&&i.filled]}})((e=>{let{theme:i,ownerState:t}=e;return{color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${m.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${m.error}`]:{color:(i.vars||i).palette.error.main},..."small"===t.size&&{marginTop:4},...t.contained&&{marginLeft:14,marginRight:14}}})),g=l.forwardRef((function(e,i){const t=(0,f.Z)({props:e,name:"MuiFormHelperText"}),{children:l,className:d,component:u="p",disabled:c,error:m,filled:g,focused:Z,margin:j,required:b,variant:P,...w}=t,F=(0,o.Z)(),y=(0,a.Z)({props:t,muiFormControl:F,states:["variant","size","disabled","error","filled","focused","required"]}),R={...t,component:u,contained:"filled"===y.variant||"outlined"===y.variant,variant:y.variant,size:y.size,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},C=(e=>{const{classes:i,contained:t,size:l,disabled:r,error:a,filled:o,focused:d,required:u}=e,c={root:["root",r&&"disabled",a&&"error",l&&`size${(0,s.Z)(l)}`,t&&"contained",d&&"focused",o&&"filled",u&&"required"]};return(0,n.Z)(c,p,i)})(R);return(0,x.jsx)(h,{as:u,ownerState:R,className:(0,r.Z)(C.root,d),ref:i,...w,children:" "===l?v||(v=(0,x.jsx)("span",{className:"notranslate",children:"\u200b"})):l})}))},624631:(e,i,t)=>{t.d(i,{Z:()=>P});var l=t(747313),r=t(683061),n=t(608007),a=t(160994),o=t(617592),d=t(577342),s=t(456605),u=t(844049),c=t(649914),p=t(315090),m=t(301550),v=t(915480),f=t(788797),x=t(814363),h=t(601167);function g(e){return(0,h.ZP)("MuiTextField",e)}(0,x.Z)("MuiTextField",["root"]);var Z=t(346417);const j={standard:s.Z,filled:u.Z,outlined:c.Z},b=(0,o.ZP)(m.Z,{name:"MuiTextField",slot:"Root",overridesResolver:(e,i)=>i.root})({}),P=l.forwardRef((function(e,i){const t=(0,d.Z)({props:e,name:"MuiTextField"}),{autoComplete:l,autoFocus:o=!1,children:s,className:u,color:c="primary",defaultValue:m,disabled:x=!1,error:h=!1,FormHelperTextProps:P,fullWidth:w=!1,helperText:F,id:y,InputLabelProps:R,inputProps:C,InputProps:M,inputRef:S,label:T,maxRows:k,minRows:z,multiline:q=!1,name:_,onBlur:N,onChange:W,onClick:D,onFocus:V,placeholder:$,required:B=!1,rows:H,select:L=!1,SelectProps:I,type:O,value:A,variant:J="outlined",...E}=t,G={...t,autoFocus:o,color:c,disabled:x,error:h,fullWidth:w,multiline:q,required:B,select:L,variant:J},K=(e=>{const{classes:i}=e;return(0,n.Z)({root:["root"]},g,i)})(G);const Q={};"outlined"===J&&(R&&"undefined"!==typeof R.shrink&&(Q.notched=R.shrink),Q.label=T),L&&(I&&I.native||(Q.id=void 0),Q["aria-describedby"]=void 0);const U=(0,a.Z)(y),X=F&&U?`${U}-helper-text`:void 0,Y=T&&U?`${U}-label`:void 0,ee=j[J],ie=(0,Z.jsx)(ee,{"aria-describedby":X,autoComplete:l,autoFocus:o,defaultValue:m,fullWidth:w,multiline:q,name:_,rows:H,maxRows:k,minRows:z,type:O,value:A,id:U,inputRef:S,onBlur:N,onChange:W,onFocus:V,onClick:D,placeholder:$,inputProps:C,...Q,...M});return(0,Z.jsxs)(b,{className:(0,r.Z)(K.root,u),disabled:x,error:h,fullWidth:w,ref:i,required:B,color:c,variant:J,ownerState:G,...E,children:[null!=T&&""!==T&&(0,Z.jsx)(p.Z,{htmlFor:U,id:Y,...R,children:T}),L?(0,Z.jsx)(f.Z,{"aria-describedby":X,id:U,labelId:Y,value:A,input:ie,...I,children:s}):ie,F&&(0,Z.jsx)(v.Z,{id:X,...P,children:F})]})}))}}]);