"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[89],{803105:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(81270),o=n(648623),r=n(624631),l=n(346417);const a=(0,i.D)();const s=function(e){let{value:t,setValue:n,options:i,title:s,propr:d}=e;return(0,l.jsx)(o.Z,{value:t,onChange:(e,t)=>{"string"===typeof t?n({title:t}):t&&t.inputValue?n({title:t.inputValue}):n(t)},filterOptions:(e,t)=>a(e,t),selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with",options:i,getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e[""+d],renderOption:(e,t)=>(0,l.jsx)("li",{...e,children:t[""+d]},t.id),sx:{width:"100%"},freeSolo:!0,renderInput:e=>(0,l.jsx)(r.Z,{...e,label:s||"Titre"})})}},350723:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(91554),o=n(270501),r=n(585281),l=n(346417);const a=function(e){let{open:t,title:n,taille:a}=e;return(0,l.jsx)(i.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+100},open:t,children:(0,l.jsx)(o.Z,{sx:{width:a||"7rem",display:"flex",padding:"10px",alignItems:"center",justifyContent:"center"},children:(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)(r.Z,{size:15,color:"primary"}),(0,l.jsx)("p",{style:{fontSize:"12px"},children:n||"Laading..."})]})})})}},680509:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(786138),o=n(747313),r=n(346417);const l=function(e){const{message:t}=e,[n,l]=o.useState(!0);return(0,r.jsx)("div",{children:(0,r.jsx)(i.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n,onClose:()=>{l(!1)},message:t},"bottom center")})}},792628:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(557829),o=n(565280),r=n(406740),l=n(747313),a=n(346417);function s(e){const{children:t,value:n,index:o,...r}=e;return(0,a.jsx)("div",{role:"tabpanel",hidden:n!==o,id:`simple-tabpanel-${o}`,"aria-labelledby":`simple-tab-${o}`,...r,children:n===o&&(0,a.jsx)(i.Z,{sx:{p:3},children:t})})}function d(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}function c(e){let{titres:t,components:n}=e;const[c,u]=l.useState(0);return(0,a.jsxs)(i.Z,{sx:{width:"100%"},children:[(0,a.jsx)(i.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,a.jsx)(r.Z,{value:c,onChange:(e,t)=>{u(t)},"aria-label":"icon label tabs example",style:{padding:"0px",margin:"0px"},children:t.map(((e,t)=>(0,l.createElement)(o.Z,{label:e.label,...d(e.id),key:t})))})}),n.map(((e,t)=>(0,a.jsx)(s,{value:c,index:e.id,children:e.component},t)))]})}const u=l.memo(c)},385089:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pe});var i=n(270501),o=n(792628),r=n(371207),l=n(502040),a=n(542420),s=n(614680),d=n(747313),c=n(594500),u=n(985038),p=n(624631),h=n(369099),m=n(350723),x=n(233349),v=n(528756),g=n(346417);const j=function(e){let{data:t}=e;const[n,i]=d.useState(""),[o,r]=d.useState(""),l=(0,c.v9)((e=>e.role)),[a,s]=d.useState(""),u=(0,c.I0)();return d.useEffect((()=>{t&&(i(null===t||void 0===t?void 0:t.title),r(null===t||void 0===t?void 0:t.filterBy),s(null===t||void 0===t?void 0:t.type))}),[t]),(0,g.jsxs)("div",{style:{width:"20rem",padding:"10px"},children:[("pending"===l.edit||"pending"===l.postrole)&&(0,g.jsx)(m.Z,{open:!0,title:"Please wait..."}),(0,g.jsx)("div",{children:(0,g.jsx)(p.Z,{value:n,onChange:e=>i(e.target.value),fullWidth:!0,label:"Role",id:"role"})}),(0,g.jsx)("div",{style:{margin:"10px 0px"},children:(0,g.jsx)(v.Z,{label:"filter by << default tracker >>",data:[{id:1,title:"Region",value:"region"},{id:2,title:"Shop",value:"shop"},{id:3,title:"Feedback en cours",value:"currentFeedback"},{id:4,title:"Overall",value:"all"}],value:o,setValue:r})}),(0,g.jsx)("div",{style:{margin:"10px 0px"},children:(0,g.jsx)(v.Z,{label:"Type",data:[{id:1,title:"Suivi",value:"suivi"},{id:2,title:"Operation",value:"operation"}],value:a,setValue:s})}),(0,g.jsx)("div",{style:{marginTop:"10px"},children:(0,g.jsx)(h.Z,{disabled:"pending"===l.edit||"pending"===l.postrole,onClick:t?()=>(()=>{let e={id:t._id,data:{title:n,filterBy:o,type:a}};u((0,x.tU)(e))})():e=>(async()=>{try{const e={title:n,filterBy:o,type:a};u((0,x.lL)(e))}catch(e){console.log(e)}})(),fullWidth:!0,color:t?"secondary":"primary",variant:"contained",children:t?"Edit":"Valider"})})]})};const f=function(){const[e,t]=d.useState(!1),n=(0,c.v9)((e=>e.role.role)),[o,p]=d.useState(!1),[h,m]=d.useState(),x=[{field:"idRole",headerName:"ID",width:100,editable:!1},{field:"title",headerName:"Role",width:180,editable:!1},{field:"type",headerName:"Type",width:100,editable:!1},{field:"filterBy",headerName:"filterBy",width:120,editable:!1},{field:"Edit",headerName:"Edit",width:120,editable:!1,renderCell:e=>(0,g.jsx)(a.Z,{size:"small",onClick:()=>{return t=e.row,m(t),void p(!0);var t},color:"primary",children:(0,g.jsx)(r.Z,{fontSize:"small"})})}];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.Z,{elevation:3,sx:{padding:"10px"},children:(0,g.jsx)(a.Z,{onClick:()=>t(!0),size:"small",color:"primary",children:(0,g.jsx)(l.Z,{fontSize:"small"})})}),(0,g.jsx)(i.Z,{elevation:0,sx:{padding:"10px",marginTop:"10px"},children:n&&n.length>0&&(0,g.jsx)("div",{children:(0,g.jsx)(s._$,{rows:n,columns:x,initialState:{pagination:{paginationModel:{pageSize:7}}},pageSizeOptions:[7],checkboxSelection:!0,getRowId:function(e){return e._id},disableRowSelectionOnClick:!0})})}),(0,g.jsx)(u.Z,{open:e,setOpen:t,title:"Add",children:(0,g.jsx)(j,{})}),h&&(0,g.jsx)(u.Z,{open:o,setOpen:p,title:"Edit",children:(0,g.jsx)(j,{data:h})})]})};var Z=n(680509),b=n(576940),S=n(835662),y=n(661395),w=n(808425),C=n(809019),z=n(42832),k=n(649914),P=n(915480),O=n(803105),A=n(894004),R=n(79429),E=n(403463);const V=function(){const e=(0,c.I0)(),t=(0,c.v9)((e=>e.role.role)),[n,i]=d.useState(""),o=(0,c.v9)((e=>e.zone.zone)),r=(0,c.v9)((e=>e.shop.shop)),[a,s]=d.useState(""),[u,p]=d.useState(""),[m,x]=d.useState([]),[j,f]=d.useState([]),Z=[{id:1,title:"Super utilisateur",value:"superUser"},{id:2,title:"Admin",value:"admin"},{id:3,title:"Call operator",value:"co"}],[b,S]=d.useState("");return(0,g.jsx)("div",{style:{width:"25rem"},children:(0,g.jsx)(R.J9,{initialValues:{nom:"",code:""},validationSchema:E.Ry().shape({nom:E.Z_().max(255).required("Le nom est obligatoire"),code:E.Z_().max(20).required("Le code est obligatoire")}),onSubmit:async(t,i)=>{let{setErrors:o,setStatus:r,setSubmitting:l}=i;try{const i={nom:t.nom,fonction:b,codeAgent:t.code,role:null===n||void 0===n?void 0:n.idRole};e((0,A.Cc)(i))}catch(a){r({success:!1}),o({submit:a.message}),l(!1)}},children:e=>{let{errors:d,handleBlur:c,handleChange:y,handleSubmit:A,isSubmitting:R,touched:E,values:V}=e;return(0,g.jsx)("form",{noValidate:!0,onSubmit:A,children:(0,g.jsxs)(C.ZP,{container:!0,spacing:1,children:[(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsxs)(z.Z,{spacing:1,children:[(0,g.jsx)(k.Z,{id:"nom",type:"text",value:V.nom,name:"nom",onBlur:c,onChange:y,placeholder:"Entrez le nom de l'agent",fullWidth:!0,error:Boolean(E.nom&&d.nom)}),E.nom&&d.nom&&(0,g.jsx)(P.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:d.nom})]})}),(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsx)(v.Z,{label:"Fonction",data:Z,value:b,setValue:S})}),(0,g.jsx)(C.ZP,{item:!0,xs:12,children:t?(0,g.jsx)(O.Z,{value:n,setValue:i,options:t,title:"Selectionnez le role",propr:"title"}):(0,g.jsx)("p",{style:{textAlign:"center"},children:"Loading..."})}),n&&"region"===n.filterBy&&(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsxs)(C.ZP,{container:!0,children:[(0,g.jsx)(C.ZP,{item:!0,lg:10,sx:{paddingRight:"10px"},children:(0,g.jsx)(O.Z,{value:a,setValue:s,options:o,title:"Selectionnez la region",propr:"denomination"})}),(0,g.jsx)(C.ZP,{item:!0,lg:2,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,g.jsx)(h.Z,{onClick:e=>(()=>{f([]);let e=null===a||void 0===a?void 0:a.denomination;m.includes(e)||x([...m,e])})(),variant:"contained",color:"primary",fullWidth:!0,children:(0,g.jsx)(l.Z,{fontSize:"small"})})})]})}),n&&"shop"===n.filterBy&&(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsxs)(C.ZP,{container:!0,children:[(0,g.jsx)(C.ZP,{item:!0,lg:10,sx:{paddingRight:"10px"},children:(0,g.jsx)(O.Z,{value:u,setValue:p,options:r,title:"Selectionnez le Shop",propr:"shop"})}),(0,g.jsx)(C.ZP,{item:!0,lg:2,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,g.jsx)(h.Z,{onClick:e=>(()=>{let e=null===u||void 0===u?void 0:u.shop;x([]),j.includes(e)||f([...j,e])})(),variant:"contained",color:"primary",fullWidth:!0,children:(0,g.jsx)(l.Z,{fontSize:"small"})})})]})}),(0,g.jsxs)(C.ZP,{container:!0,children:[m.map((e=>(0,g.jsx)("span",{children:e+"; "},e))),j.map((e=>(0,g.jsx)("span",{children:e+"; "},e)))]}),(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsxs)(z.Z,{children:[(0,g.jsx)(k.Z,{id:"code",type:"text",value:V.code,name:"code",onBlur:c,onChange:y,placeholder:"Nom d'utilisateur",fullWidth:!0,error:Boolean(E.code&&d.code)}),E.code&&d.code&&(0,g.jsx)(P.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:d.code})]})}),(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsxs)(h.Z,{disableElevation:!0,disabled:R,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:[(0,g.jsx)(w.Z,{fontSize:"small"}),(0,g.jsx)("span",{style:{marginLeft:"10px"},children:"Enregistrer"})]})})]})})}})})};const M=(0,n(181171).Z)((0,g.jsx)("path",{d:"M22 8V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v2h8v-2h4c1.1 0 1.99-.9 1.99-2v-5H22c0-1.1-.9-2-2-2h-7.17l1.83-1.83-1.41-1.41C9.69 10.31 10.88 9.12 9 11l4.24 4.24 1.41-1.41L12.83 12H20v5H4V5h16v3h2z"}),"ResetTvOutlined");var L=n(935192),T=n(861689),B=n(301955),D=n(416031),N=n.n(D);const F=function(e){let{agent:t}=e;const n=(0,c.I0)(),i=(0,c.v9)((e=>e.role.role)),[o,a]=d.useState(""),s=(0,c.v9)((e=>e.zone.zone)),u=(0,c.v9)((e=>e.shop.shop)),[p,m]=d.useState(""),[x,j]=d.useState(""),[f,Z]=d.useState([]),[b,S]=d.useState([]),y=[{id:1,title:"Super utilisateur",value:"superUser"},{id:2,title:"Admin",value:"admin"},{id:3,title:"Call operator",value:"co"}],[w,V]=d.useState("");return d.useEffect((()=>{if(t){let e=i.filter((e=>e.idRole===t.role));e.length>0&&a(e[0]),"shop"===e.filterBy&&S(null===t||void 0===t?void 0:t.valueFilter),"region"===e.filterBy&&Z(null===t||void 0===t?void 0:t.valueFilter)}V(null===t||void 0===t?void 0:t.fonction)}),[t]),(0,g.jsx)("div",{style:{width:"25rem"},children:(0,g.jsx)(R.J9,{initialValues:{nom:null===t||void 0===t?void 0:t.nom,code:null===t||void 0===t?void 0:t.codeAgent},validationSchema:E.Ry().shape({nom:E.Z_().max(255).required("Le nom est obligatoire"),code:E.Z_().max(20).required("Le code est obligatoire")}),onSubmit:async(e,i)=>{let{setErrors:r,setStatus:l,setSubmitting:a}=i;try{const i={link:"editAgentadmin",data:{id:t._id,data:{role:null===o||void 0===o?void 0:o.idRole,nom:e.nom,fonction:w,valueFilter:"region"===(null===o||void 0===o?void 0:o.filterBy)?f:b}}};n((0,A.Ln)(i))}catch(s){l({success:!1}),r({submit:s.message}),a(!1)}},children:e=>{let{errors:t,handleBlur:n,handleChange:d,handleSubmit:c,isSubmitting:A,touched:R,values:E}=e;return(0,g.jsx)("form",{noValidate:!0,onSubmit:c,children:(0,g.jsxs)(C.ZP,{container:!0,spacing:1,children:[(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsxs)(z.Z,{spacing:1,children:[(0,g.jsx)(k.Z,{id:"nom",type:"text",value:E.nom,name:"nom",onBlur:n,onChange:d,placeholder:"Entrez le nom de l'agent",fullWidth:!0,error:Boolean(R.nom&&t.nom)}),R.nom&&t.nom&&(0,g.jsx)(P.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:t.nom})]})}),(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsx)(v.Z,{label:"Fonction",data:y,value:w,setValue:V})}),(0,g.jsx)(C.ZP,{item:!0,xs:12,children:i?(0,g.jsx)(O.Z,{value:o,setValue:a,options:i,title:"Selectionnez le role",propr:"title"}):(0,g.jsx)("p",{style:{textAlign:"center"},children:"Loading..."})}),o&&"region"===o.filterBy&&(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsxs)(C.ZP,{container:!0,children:[(0,g.jsx)(C.ZP,{item:!0,lg:10,sx:{paddingRight:"10px"},children:(0,g.jsx)(O.Z,{value:p,setValue:m,options:s,title:"Selectionnez la region",propr:"denomination"})}),(0,g.jsx)(C.ZP,{item:!0,lg:2,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,g.jsx)(h.Z,{onClick:e=>(()=>{S([]);let e=null===p||void 0===p?void 0:p.denomination;f.includes(e)||Z([...f,e])})(),variant:"contained",color:"primary",fullWidth:!0,children:(0,g.jsx)(l.Z,{fontSize:"small"})})})]})}),o&&"shop"===o.filterBy&&(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsxs)(C.ZP,{container:!0,children:[(0,g.jsx)(C.ZP,{item:!0,lg:10,sx:{paddingRight:"10px"},children:(0,g.jsx)(O.Z,{value:x,setValue:j,options:u,title:"Selectionnez le Shop",propr:"shop"})}),(0,g.jsx)(C.ZP,{item:!0,lg:2,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,g.jsx)(h.Z,{onClick:e=>(()=>{let e=null===x||void 0===x?void 0:x.shop;Z([]),b.includes(e)||S([...b,e])})(),variant:"contained",color:"primary",fullWidth:!0,children:(0,g.jsx)(l.Z,{fontSize:"small"})})})]})}),(0,g.jsxs)(C.ZP,{container:!0,children:[f.map((e=>(0,g.jsx)("span",{children:e+"; "},e))),b.map((e=>(0,g.jsx)("span",{children:e+"; "},e)))]}),(0,g.jsx)(C.ZP,{item:!0,xs:12,children:(0,g.jsxs)(h.Z,{disableElevation:!0,disabled:A,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"info",children:[(0,g.jsx)(r.Z,{fontSize:"small"}),(0,g.jsx)("span",{style:{marginLeft:"10px"},children:"Edit"})]})})]})})}})})};const I=function(){const e=(0,c.v9)((e=>{var t;return null===(t=e.agentAdmin)||void 0===t?void 0:t.agentAdmin})),[t,n]=d.useState(),[i,o]=d.useState(!1),l=(0,c.v9)((e=>e.role.role)),[p,h]=(0,d.useState)(!1),[m,x]=(0,d.useState)(!1),[v,j]=(0,d.useState)(""),f=[{field:"codeAgent",headerName:"Code",width:120,editable:!1},{field:"nom",headerName:"NOMS",width:200,editable:!1},{field:"first",headerName:"Log",width:50,editable:!1,renderCell:e=>e.row.first?(0,g.jsx)(B.Z,{color:"error"}):(0,g.jsx)(B.Z,{color:"success"})},{field:"role",headerName:"Role",width:150,editable:!1,renderCell:e=>((e,t)=>{var n;return e.length>0?null===(n=N().filter(e,{idRole:t})[0])||void 0===n?void 0:n.title.toUpperCase():t})(l,e.row.role)},{field:"reset",headerName:"Reset",width:200,editable:!1,renderCell:e=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(T.Z,{title:"Reset password",children:(0,g.jsx)(a.Z,{color:"primary",size:"small",onClick:()=>(async e=>{const t=await S.Z.post(y.V6+"/resetAdmin",{id:e._id},y.vc);200===t.status?window.location.replace("/access"):(j(""+t.data),h(!0))})(e.row),children:(0,g.jsx)(M,{fontSize:"small"})})}),(0,g.jsx)(T.Z,{title:"Edit",children:(0,g.jsx)(a.Z,{onClick:()=>{return t=e.row,n(t),void o(!0);var t},color:"info",size:"small",sx:{margin:"0px 10px"},children:(0,g.jsx)(r.Z,{fontSize:"small"})})}),(0,g.jsx)(T.Z,{title:e.row.active?"Blocked":"Unblocked",children:(0,g.jsx)(a.Z,{color:"warning",size:"small",onClick:()=>(async e=>{const t=await S.Z.put(y.V6+"/bloquerAgentAdmin",{id:e._id,value:!e.active},y.vc);200===t.status?window.location.replace("/access"):(j(""+t.data),h(!0))})(e.row),children:(0,g.jsx)(L.Z,{fontSize:"small"})})})]})}];return(0,g.jsxs)("div",{style:{padding:"5px"},children:[p&&""!==v&&(0,g.jsx)(Z.Z,{open:p,setOpen:h,message:v}),(0,g.jsx)(b.ZP,{type:"primary",onClick:()=>x(!0),children:"Ajoutez un agent"}),(0,g.jsx)("div",{children:e&&l&&(0,g.jsx)(s._$,{rows:e,columns:f,initialState:{pagination:{paginationModel:{pageSize:7}}},pageSizeOptions:[7]})}),(0,g.jsx)(u.Z,{open:m,setOpen:x,title:"Agent",children:(0,g.jsx)(V,{})}),t&&(0,g.jsx)(u.Z,{open:i,setOpen:o,title:`Modification de l'agent ${null===t||void 0===t?void 0:t.nom}`,children:(0,g.jsx)(F,{agent:t})})]})};var _=n(189843),W=(n(245135),n(261113)),$=n(566212);function H(){const e=(0,c.v9)((e=>{var t;return null===(t=e.agentAdmin)||void 0===t?void 0:t.agentAdmin})),[t,n]=d.useState(""),i=(0,c.I0)();return(0,g.jsxs)("div",{style:{width:"22rem"},children:[e&&(0,g.jsx)("div",{style:{margin:"10px 0px"},children:(0,g.jsx)(O.Z,{value:t,setValue:n,options:e,title:"Selectionnez un agent",propr:"nom"})}),(0,g.jsx)("div",{children:(0,g.jsx)(h.Z,{onClick:e=>(e=>{e.preventDefault();const o={data:{idAgent:null===t||void 0===t?void 0:t._id,data:{backOffice_plainte:!0}},link:"backoffice"};i((0,A.Ln)(o)),n("")})(e),color:"primary",variant:"contained",fullWidth:!0,children:"Valider"})})]})}const G=d.memo(H);function U(){const e=(0,c.v9)((e=>{var t;return N().filter(null===(t=e.agentAdmin)||void 0===t?void 0:t.agentAdmin,{backOffice_plainte:!0})})),[t,n]=d.useState({isOpen:!1,title:"",subTitle:""}),[i,o]=d.useState(!1);return(0,g.jsxs)("div",{children:[(0,g.jsx)(W.Z,{component:"p",onClick:()=>o(!0),style:{color:"blue",padding:"0px",margin:"10px 0px",cursor:"pointer"},children:"Ajoutez un back office"}),e.map((e=>(0,g.jsx)($.Z,{sx:{margin:"2px"},label:e.codeAgent,onDelete:()=>{n({isOpen:!0,title:`Voulez-vous suppimer cette acces a l'agent ${e.nom}`,subTitle:"",onConfirm:()=>{n({...t,isOpen:!1})}})}},e._id))),(0,g.jsx)(u.Z,{open:i,setOpen:o,title:"Back office",children:(0,g.jsx)(G,{})}),(0,g.jsx)(_.Z,{confirmDialog:t,setConfirmDialog:n})]})}const q=d.memo(U);var K=n(319159);const J=function(e){let{disabled:t,fonction:n,title:i,type:o}=e;const[r,l]=d.useState([]);return(0,g.jsx)(b.ZP,{type:o,disabled:t,loading:r[0],onClick:()=>{return e=0,l((t=>{const n=[...t];return n[e]=!0,n})),n(),void l((t=>{const n=[...t];return n[e]=!1,n}));var e},children:i})};const X=function(){const[e,t]=d.useState(!1),[n,i]=d.useState(""),[o,r]=d.useState(""),[l,a]=d.useState(!0);return(0,g.jsxs)("div",{style:{width:"20rem"},children:[o&&(0,g.jsx)(Z.Z,{open:l,setOpen:a,message:o}),(0,g.jsx)("div",{children:(0,g.jsx)(K.default,{placeholder:"Entrez le d\xe9partement",value:n,onChange:e=>i(e.target.value)})}),(0,g.jsx)("div",{style:{marginTop:"10px"},children:(0,g.jsx)(J,{disabled:e,fonction:async()=>{try{t(!0);200===(await S.Z.post(y.V6+"/departement",{departement:n})).status?(r("Done :"+n),t(!1),i("")):(t(!1),i(""))}catch(e){r(e.response.data),t(!1),i("")}},title:"Envoyer",type:"primary"})})]})};const Y=function(){const[e,t]=d.useState(!1),[n,i]=d.useState(""),[o,r]=d.useState(""),[l,a]=d.useState(""),[s,c]=d.useState(!0),[u,p]=d.useState();return d.useEffect((()=>{(async()=>{p();try{const e=await S.Z.get(y.V6+"/departement");200===e.status&&p(e.data)}catch(e){console.log(e)}})()}),[]),(0,g.jsx)("div",{style:{width:"20rem"},children:u?(0,g.jsxs)(g.Fragment,{children:[o&&(0,g.jsx)(Z.Z,{open:s,setOpen:c,message:o}),(0,g.jsx)("div",{style:{margin:"10px 0px"},children:(0,g.jsx)(O.Z,{value:l,setValue:a,options:u,title:"D\xe9partement",propr:"departement"})}),(0,g.jsx)("div",{children:(0,g.jsx)(K.default,{placeholder:"R\xf4le",value:n,onChange:e=>i(e.target.value)})}),(0,g.jsx)("div",{style:{marginTop:"10px"},children:(0,g.jsx)(J,{disabled:e,fonction:async()=>{try{t(!0);200===(await S.Z.post(y.V6+"/permission",{departement:null===l||void 0===l?void 0:l.idDepartement,title:n})).status?(r("Done :"+n),t(!1),i("")):(t(!1),i(""))}catch(e){r(e.response.data),t(!1),i("")}},title:"Envoyer",type:"primary"})})]}):(0,g.jsx)("p",{style:{textAlign:"center",color:"blue",fontSize:"12px"},children:"Loading..."})})};function Q(){const e=(0,c.v9)((e=>e.agentAdmin)),[t,n]=d.useState(""),i=(0,c.I0)();return(0,g.jsxs)("div",{style:{width:"22rem"},children:["pending"===e.otherUpdated&&(0,g.jsx)(m.Z,{open:!0,taille:"10rem",title:"Please wait..."}),(null===e||void 0===e?void 0:e.agentAdmin)&&(0,g.jsx)("div",{style:{margin:"10px 0px"},children:(0,g.jsx)(O.Z,{value:t,setValue:n,options:null===e||void 0===e?void 0:e.agentAdmin,title:"Selectionnez un agent",propr:"nom"})}),(0,g.jsx)("div",{children:(0,g.jsx)(h.Z,{onClick:e=>(e=>{e.preventDefault();const o={idAgent:null===t||void 0===t?void 0:t._id,data:{plainte_callcenter:!0},unset:{plainteShop:!0}};i((0,A.Ln)(o)),n("")})(e),color:"primary",variant:"contained",fullWidth:!0,children:"Valider"})})]})}const ee=d.memo(Q);function te(){const e=(0,c.v9)((e=>{var t;return N().filter(null===(t=e.agentAdmin)||void 0===t?void 0:t.agentAdmin,{plainte_callcenter:!0})})),[t,n]=d.useState({isOpen:!1,title:"",subTitle:""}),[i,o]=d.useState(!1);return(0,g.jsxs)("div",{children:[(0,g.jsx)(W.Z,{component:"p",onClick:()=>o(!0),style:{color:"blue",padding:"0px",margin:"10px 0px",cursor:"pointer"},children:"Ajoutez un call operator"}),e.map((e=>(0,g.jsx)($.Z,{sx:{margin:"2px"},label:e.codeAgent,onDelete:()=>{n({isOpen:!0,title:`Voulez-vous suppimer cette acces a l'agent ${e.nom}`,subTitle:"",onConfirm:()=>{n({...t,isOpen:!1})}})}},e._id))),(0,g.jsx)(u.Z,{open:i,setOpen:o,title:"Back office",children:(0,g.jsx)(ee,{})}),(0,g.jsx)(_.Z,{confirmDialog:t,setConfirmDialog:n})]})}const ne=d.memo(te);function ie(){const e=(0,c.v9)((e=>{var t;return null===(t=e.shop)||void 0===t?void 0:t.shop})),[t,n]=d.useState(""),i=(0,c.v9)((e=>e.agentAdmin)),[o,r]=d.useState(""),l=(0,c.I0)();return(0,g.jsxs)("div",{style:{width:"22rem"},children:["pending"===i.otherUpdated&&(0,g.jsx)(m.Z,{open:!0,taille:"10rem",title:"Please wait..."}),e&&(0,g.jsx)("div",{style:{margin:"10px 0px"},children:(0,g.jsx)(O.Z,{value:t,setValue:n,options:e,title:"Shop",propr:"shop"})}),(null===i||void 0===i?void 0:i.agentAdmin)&&(0,g.jsx)("div",{style:{margin:"10px 0px"},children:(0,g.jsx)(O.Z,{value:o,setValue:r,options:null===i||void 0===i?void 0:i.agentAdmin,title:"Selectionnez un agent",propr:"nom"})}),(0,g.jsx)("div",{children:(0,g.jsx)(h.Z,{onClick:e=>(e=>{e.preventDefault();const i={idAgent:null===o||void 0===o?void 0:o._id,data:{plainteShop:null===t||void 0===t?void 0:t.shop,plainte_callcenter:!1},unset:{}};l((0,A.Ln)(i)),r(""),n("")})(e),color:"primary",variant:"contained",fullWidth:!0,children:"Valider"})})]})}const oe=d.memo(ie);const re=function(){const[e,t]=d.useState(!1),n=(0,c.v9)((e=>{var t;return null===(t=e.shop)||void 0===t?void 0:t.shop})),i=(0,c.v9)((e=>{var t;return null===(t=e.agentAdmin)||void 0===t?void 0:t.agentAdmin})),[o,r]=d.useState(),p=e=>N().filter(i,{plainteShop:e});d.useEffect((()=>{(()=>{try{let e=[];for(let t=0;t<n.length;t++)e.push({id:t,shop:n[t].shop,agent:p(n[t].shop)});r(e)}catch(e){console.log(e)}})()}),[i,n]);const[h,m]=d.useState({isOpen:!1,title:"",subTitle:""}),x=[{field:"shop",headerName:"Shop",width:100,editable:!1},{field:"agent",headerName:"Agent",width:500,editable:!1,renderCell:e=>(0,g.jsx)(g.Fragment,{children:e.row.agent.map((e=>(0,g.jsx)($.Z,{sx:{margin:"2px"},label:e.codeAgent,onDelete:()=>{m({isOpen:!0,title:`Voulez-vous suppimer cette acces a l'agent ${e.nom}`,subTitle:"",onConfirm:()=>{m({...h,isOpen:!1})}})}},e._id)))})}];return(0,g.jsxs)("div",{children:[(0,g.jsx)(T.Z,{title:"Renseigner un agent",children:(0,g.jsx)(a.Z,{size:"small",color:"primary",onClick:()=>t(!0),children:(0,g.jsx)(l.Z,{fontSize:"small"})})}),(0,g.jsx)("div",{children:o&&(0,g.jsx)(s._$,{rows:o,columns:x,initialState:{pagination:{paginationModel:{pageSize:20}}},pageSizeOptions:[20],checkboxSelection:!0,disableRowSelectionOnClick:!0})}),(0,g.jsx)(u.Z,{open:e,setOpen:t,title:"Shop",children:(0,g.jsx)(oe,{})}),(0,g.jsx)(_.Z,{confirmDialog:h,setConfirmDialog:m})]})};var le=n(644758),ae=n(183929),se=n(116429),de=n(396180);const ce=function(){const e=(0,c.v9)((e=>{var t;return N().filter(null===(t=e.agentAdmin)||void 0===t?void 0:t.agentAdmin,{fonction:"co",active:!0})})),t=(0,c.v9)((e=>{var t;return null===e||void 0===e||null===(t=e.shop)||void 0===t?void 0:t.shop})),[n,i]=d.useState([]),[o,r]=d.useState();d.useEffect((()=>{o&&null!==o&&void 0!==o&&o.synchro_shop&&(null===o||void 0===o?void 0:o.synchro_shop.length)>0?i(null===o||void 0===o?void 0:o.synchro_shop):i([])}),[o]);const[l,a]=de.ZP.useMessage(),s=async e=>{e.preventDefault();try{const e={agent:null===o||void 0===o?void 0:o.codeAgent,allShop:n};200===(await S.Z.post(y.mA+"/addsynchro",e,y.vc)).status&&(t="Done",i="success",l.open({type:i,content:""+t,duration:10}))}catch(r){console.log(r)}var t,i};return(0,g.jsxs)(C.ZP,{container:!0,children:[a,(0,g.jsxs)(C.ZP,{item:!0,lg:4,children:[e&&e.length>0&&e.map((e=>(0,g.jsx)(se.Z,{onClick:()=>r(e),sx:{cursor:"pointer"},children:(0,g.jsx)(ae.Z,{control:(0,g.jsx)(le.Z,{checked:(null===o||void 0===o?void 0:o.codeAgent)===e.codeAgent,name:e.codeAgent}),label:e.nom})},e._id))),(0,g.jsx)(h.Z,{onClick:e=>s(e),color:"primary",variant:"contained",fullWidth:!0,children:"Valider"})]}),(0,g.jsx)(C.ZP,{item:!0,lg:8,children:(0,g.jsx)(C.ZP,{container:!0,children:t&&t.length>0&&t.map((e=>(0,g.jsx)(C.ZP,{item:!0,lg:6,children:(0,g.jsx)(se.Z,{onClick:()=>{return t=e.shop,void(n.includes(t)?i(n.filter((e=>e!==t))):i([...n,t]));var t},children:(0,g.jsx)(ae.Z,{control:(0,g.jsx)(le.Z,{checked:n.includes(e.shop),name:e.idShop}),label:e.shop})})},e._id)))})})]})};const ue=function(){const[e,t]=d.useState(!1),[n,i]=d.useState(!1),[o,r]=d.useState(""),[l,a]=d.useState({isOpen:!1,title:"",subTitle:""});return(0,g.jsxs)("div",{children:[(0,g.jsxs)(C.ZP,{container:!0,children:[(0,g.jsx)(C.ZP,{item:!0,lg:4,children:(0,g.jsx)("div",{style:{marginTop:"10px"},children:[{id:"31660",title:"SUPPORT TEAM"},{id:"31661",title:"ENREGISTREMENT DES PLAINTES (shop)"},{id:"31663",title:"ENREGISTREMENT DES PLAINTES (call center)"},{id:"31662",title:"BACK OFFICE (plainte)"},{id:"31664",title:"SYNCHRO TEAM"}].map((e=>(0,g.jsx)(C.ZP,{sx:{marginBottom:"10px"},onClick:()=>r(e.id),className:o===e.id?"selected":"notSelected",children:(0,g.jsx)("p",{style:{padding:"0px",margin:"0px"},children:e.title})},e.id)))})}),"31661"===o&&(0,g.jsx)(C.ZP,{item:!0,lg:8,children:(0,g.jsx)(re,{})}),"31662"===o&&(0,g.jsx)(C.ZP,{item:!0,lg:8,children:(0,g.jsx)(q,{})}),"31663"===o&&(0,g.jsx)(C.ZP,{item:!0,lg:8,children:(0,g.jsx)(ne,{})}),"31664"===o&&(0,g.jsx)(C.ZP,{item:!0,lg:8,children:(0,g.jsx)(ce,{})}),"31660"===o&&(0,g.jsx)(C.ZP,{item:!0,lg:8,children:(0,g.jsx)("p",{style:{textAlign:"center",fontSize:"25px",padding:"0px",margin:"0px"},children:"For all call operator or super user"})})]}),(0,g.jsx)(u.Z,{open:e,setOpen:t,title:"D\xe9partement",children:(0,g.jsx)(X,{})}),(0,g.jsx)(u.Z,{open:n,setOpen:i,title:"Role",children:(0,g.jsx)(Y,{})}),(0,g.jsx)(_.Z,{confirmDialog:l,setConfirmDialog:a})]})};const pe=function(){const e=[{id:0,component:(0,g.jsx)(I,{})},{id:1,component:(0,g.jsx)(ue,{})},{id:2,component:(0,g.jsx)(f,{})}];return(0,g.jsx)(i.Z,{children:(0,g.jsx)(o.Z,{titres:[{id:0,label:"Count"},{id:1,label:"Permission"},{id:2,label:"Role"}],components:e})})}},502040:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(181171),o=n(346417);const r=(0,i.Z)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},935192:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(181171),o=n(346417);const r=(0,i.Z)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},371207:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(181171),o=n(346417);const r=(0,i.Z)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},808425:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(181171),o=n(346417);const r=(0,i.Z)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save")},542420:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(747313),o=n(683061),r=n(608007),l=n(167999),a=n(691615),s=n(577342),d=n(814363),c=n(601167);function u(e){return(0,c.ZP)("MuiFab",e)}const p=(0,d.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var h=n(617592),m=n(346417);const x=(0,h.ZP)(l.Z,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,h.FO)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,a.Z)(n.size)}`],"inherit"===n.color&&t.colorInherit,t[(0,a.Z)(n.size)],t[n.color]]}})((e=>{let{theme:t,ownerState:n}=e;var i,o;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(i=(o=t.palette).getContrastText)?void 0:i.call(o,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${p.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},..."small"===n.size&&{width:40,height:40},..."medium"===n.size&&{width:48,height:48},..."extended"===n.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},..."extended"===n.variant&&"small"===n.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},..."extended"===n.variant&&"medium"===n.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},..."inherit"===n.color&&{color:"inherit"}}}),(e=>{let{theme:t,ownerState:n}=e;return{..."inherit"!==n.color&&"default"!==n.color&&null!=(t.vars||t).palette[n.color]&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}}}}),(e=>{let{theme:t}=e;return{[`&.${p.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),v=i.forwardRef((function(e,t){const n=(0,s.Z)({props:e,name:"MuiFab"}),{children:i,className:l,color:d="default",component:c="button",disabled:p=!1,disableFocusRipple:h=!1,focusVisibleClassName:v,size:g="large",variant:j="circular",...f}=n,Z={...n,color:d,component:c,disabled:p,disableFocusRipple:h,size:g,variant:j},b=(e=>{const{color:t,variant:n,classes:i,size:o}=e,l={root:["root",n,`size${(0,a.Z)(o)}`,"inherit"===t?"colorInherit":t]},s=(0,r.Z)(l,u,i);return{...i,...s}})(Z);return(0,m.jsx)(x,{className:(0,o.Z)(b.root,l),component:c,disabled:p,focusRipple:!h,focusVisibleClassName:(0,o.Z)(b.focusVisible,v),ownerState:Z,ref:t,...f,classes:b,children:i})}))},116429:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(747313),o=n(683061),r=n(608007),l=n(617592),a=n(577342),s=n(814363),d=n(601167);function c(e){return(0,d.ZP)("MuiFormGroup",e)}(0,s.Z)("MuiFormGroup",["root","row","error"]);var u=n(799008),p=n(880300),h=n(346417);const m=(0,l.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((e=>{let{ownerState:t}=e;return{display:"flex",flexDirection:"column",flexWrap:"wrap",...t.row&&{flexDirection:"row"}}})),x=i.forwardRef((function(e,t){const n=(0,a.Z)({props:e,name:"MuiFormGroup"}),{className:i,row:l=!1,...s}=n,d=(0,u.Z)(),x=(0,p.Z)({props:n,muiFormControl:d,states:["error"]}),v={...n,row:l,error:x.error},g=(e=>{const{classes:t,row:n,error:i}=e,o={root:["root",n&&"row",i&&"error"]};return(0,r.Z)(o,c,t)})(v);return(0,h.jsx)(m,{className:(0,o.Z)(g.root,i),ownerState:v,ref:t,...s})}))},786138:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(747313),o=n(608007),r=n(329846),l=n(218765),a=n(951782),s=n(22375);var d=n(617592),c=n(319860),u=n(577342),p=n(691615),h=n(473365),m=n(683061),x=n(913392),v=n(270501),g=n(814363),j=n(601167);function f(e){return(0,j.ZP)("MuiSnackbarContent",e)}(0,g.Z)("MuiSnackbarContent",["root","message","action"]);var Z=n(346417);const b=(0,d.ZP)(v.Z,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,i=(0,x._4)(t.palette.background.default,n);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(i),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:i,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),S=(0,d.ZP)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),y=(0,d.ZP)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),w=i.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiSnackbarContent"}),{action:i,className:r,message:l,role:a="alert",...s}=n,d=n,c=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"],action:["action"],message:["message"]},f,t)})(d);return(0,Z.jsxs)(b,{role:a,square:!0,elevation:6,className:(0,m.Z)(c.root,r),ownerState:d,ref:t,...s,children:[(0,Z.jsx)(S,{className:c.message,ownerState:d,children:l}),i?(0,Z.jsx)(y,{className:c.action,ownerState:d,children:i}):null]})}));function C(e){return(0,j.ZP)("MuiSnackbar",e)}(0,g.Z)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const z=(0,d.ZP)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${(0,p.Z)(n.anchorOrigin.vertical)}${(0,p.Z)(n.anchorOrigin.horizontal)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return{zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",..."top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},..."left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},..."right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},[t.breakpoints.up("sm")]:{..."top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},..."center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},..."left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},..."right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"}}}})),k=i.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiSnackbar"}),d=(0,c.Z)(),m={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{action:x,anchorOrigin:{vertical:v,horizontal:g}={vertical:"bottom",horizontal:"left"},autoHideDuration:j=null,children:f,className:b,ClickAwayListenerProps:S,ContentProps:y,disableWindowBlurListener:k=!1,message:P,onBlur:O,onClose:A,onFocus:R,onMouseEnter:E,onMouseLeave:V,open:M,resumeHideDuration:L,TransitionComponent:T=h.Z,transitionDuration:B=m,TransitionProps:{onEnter:D,onExited:N,...F}={},...I}=n,_={...n,anchorOrigin:{vertical:v,horizontal:g},autoHideDuration:j,disableWindowBlurListener:k,TransitionComponent:T,transitionDuration:B},W=(e=>{const{classes:t,anchorOrigin:n}=e,i={root:["root",`anchorOrigin${(0,p.Z)(n.vertical)}${(0,p.Z)(n.horizontal)}`]};return(0,o.Z)(i,C,t)})(_),{getRootProps:$,onClickAway:H}=function(e){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:o,open:r,resumeHideDuration:l}=e,d=i.useRef();i.useEffect((()=>{if(r)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==o||o(e,"escapeKeyDown")}}),[r,o]);const c=(0,a.Z)(((e,t)=>{null==o||o(e,t)})),u=(0,a.Z)((e=>{o&&null!=e&&(clearTimeout(d.current),d.current=setTimeout((()=>{c(null,"timeout")}),e))}));i.useEffect((()=>(r&&u(t),()=>{clearTimeout(d.current)})),[r,t,u]);const p=()=>{clearTimeout(d.current)},h=i.useCallback((()=>{null!=t&&u(null!=l?l:.5*t)}),[t,l,u]),m=e=>t=>{const n=e.onBlur;null==n||n(t),h()},x=e=>t=>{const n=e.onFocus;null==n||n(t),p()},v=e=>t=>{const n=e.onMouseEnter;null==n||n(t),p()},g=e=>t=>{const n=e.onMouseLeave;null==n||n(t),h()};return i.useEffect((()=>{if(!n&&r)return window.addEventListener("focus",h),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",p)}}),[n,h,r]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={...(0,s.Z)(e),...t};return{role:"presentation",...n,onBlur:m(n),onFocus:x(n),onMouseEnter:v(n),onMouseLeave:g(n)}},onClickAway:e=>{null==o||o(e,"clickaway")}}}({..._}),[G,U]=i.useState(!0),q=(0,r.Z)({elementType:z,getSlotProps:$,externalForwardedProps:I,ownerState:_,additionalProps:{ref:t},className:[W.root,b]});return!M&&G?null:(0,Z.jsx)(l.Z,{onClickAway:H,...S,children:(0,Z.jsx)(z,{...q,children:(0,Z.jsx)(T,{appear:!0,in:M,timeout:B,direction:"top"===v?"down":"up",onEnter:(e,t)=>{U(!1),D&&D(e,t)},onExited:e=>{U(!0),N&&N(e)},...F,children:f||(0,Z.jsx)(w,{message:P,action:x,...y})})})})}))},245135:()=>{}}]);