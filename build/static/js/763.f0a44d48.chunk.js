"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[763],{803105:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(876767),l=n(648623),r=n(624631),s=n(346417);const a=(0,o.D)();const i=function(e){let{value:t,setValue:n,options:o,title:i,propr:c}=e;return(0,s.jsx)(l.Z,{value:t,onChange:(e,t)=>{"string"===typeof t?n({title:t}):t&&t.inputValue?n({title:t.inputValue}):n(t)},filterOptions:(e,t)=>a(e,t),selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with",options:o,getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e[""+c],renderOption:(e,t)=>(0,s.jsx)("li",{...e,children:t[""+c]},t.id),sx:{width:"100%"},freeSolo:!0,renderInput:e=>(0,s.jsx)(r.Z,{...e,label:i||"Titre"})})}},819763:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var o=n(181171),l=n(346417);const r=(0,o.Z)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");var s=n(435045),a=n(371207),i=n(883965),c=n(747313),d=n(683061),u=n(608007),p=n(913392),x=n(617592),h=n(577342),m=n(691615),g=n(270501),v=n(814363),j=n(601167);function f(e){return(0,j.ZP)("MuiAlert",e)}const Z=(0,v.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var S=n(947131);const C=(0,o.Z)((0,l.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),y=(0,o.Z)((0,l.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),z=(0,o.Z)((0,l.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),A=(0,o.Z)((0,l.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var M=n(891251);const w=(0,x.ZP)(g.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,m.Z)(n.color||n.severity))]]}})((e=>{let{theme:t,ownerState:n}=e;const o="light"===t.palette.mode?p._j:p.$n,l="light"===t.palette.mode?p.$n:p._j,r=n.color||n.severity;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",...r&&"standard"===n.variant&&{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:o(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(r,"StandardBg")]:l(t.palette[r].light,.9),["& .".concat(Z.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}},...r&&"outlined"===n.variant&&{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:o(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(Z.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}},...r&&"filled"===n.variant&&{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert["".concat(r,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(r,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}})),P=(0,x.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),b=(0,x.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),k=(0,x.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),L={success:(0,l.jsx)(C,{fontSize:"inherit"}),warning:(0,l.jsx)(y,{fontSize:"inherit"}),error:(0,l.jsx)(z,{fontSize:"inherit"}),info:(0,l.jsx)(A,{fontSize:"inherit"})},V=c.forwardRef((function(e,t){var n,o,r,s,a,i;const c=(0,h.Z)({props:e,name:"MuiAlert"}),{action:p,children:x,className:g,closeText:v="Close",color:j,components:Z={},componentsProps:C={},icon:y,iconMapping:z=L,onClose:A,role:V="alert",severity:R="success",slotProps:I={},slots:O={},variant:T="standard",...B}=c,N={...c,color:j,severity:R,variant:T},H=(e=>{const{variant:t,color:n,severity:o,classes:l}=e,r={root:["root","".concat(t).concat((0,m.Z)(n||o)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,u.Z)(r,f,l)})(N),E=null!=(n=null!=(o=O.closeButton)?o:Z.CloseButton)?n:S.Z,W=null!=(r=null!=(s=O.closeIcon)?s:Z.CloseIcon)?r:M.Z,_=null!=(a=I.closeButton)?a:C.closeButton,D=null!=(i=I.closeIcon)?i:C.closeIcon;return(0,l.jsxs)(w,{role:V,elevation:0,ownerState:N,className:(0,d.Z)(H.root,g),ref:t,...B,children:[!1!==y?(0,l.jsx)(P,{ownerState:N,className:H.icon,children:y||z[R]||L[R]}):null,(0,l.jsx)(b,{ownerState:N,className:H.message,children:x}),null!=p?(0,l.jsx)(k,{ownerState:N,className:H.action,children:p}):null,null==p&&A?(0,l.jsx)(k,{ownerState:N,className:H.action,children:(0,l.jsx)(E,{size:"small","aria-label":v,title:v,color:"inherit",onClick:A,..._,children:(0,l.jsx)(W,{fontSize:"small",...D})})}):null]})}));var R=n(809019),I=n(369099),O=n(585281),T=n(542420),B=n(803105),N=n(319159),H=n(835662),E=n(594500),W=n(661395),_=n(334811),D=n(348737);const F=function(){const e=(0,E.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user})),t=(0,E.v9)((e=>e.zone.zone)),[n,o]=c.useState(),[d,u]=c.useState(null),[p,x]=c.useState(!1),[h,m]=c.useState(!1),[g,v]=c.useState(""),[j,f]=c.useState(""),[Z,S]=c.useState({cu:"",name:""}),{cu:C,name:y}=Z;console.log(n);const[z,A]=c.useState(),[M,w]=c.useState(""),[P,b]=c.useState(!1),[k,L]=c.useState(!1);return(0,l.jsxs)("div",{children:[d&&(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)(V,{severity:"warning",variant:"standard",children:d&&d})}),e&&"admin"===e.fonction||"superUser"===e.fonction&&(0,l.jsx)("form",{className:"form-group",autoComplete:"off",children:(0,l.jsxs)(R.ZP,{container:!0,children:[(0,l.jsx)(R.ZP,{item:!0,lg:6,children:(0,l.jsx)("form",{children:(0,l.jsx)(N.default,{type:"file",name:"upload",id:"upload",onChange:e=>{if(e.preventDefault(),e.target.files){x(!0);const t=new FileReader;t.onload=e=>{const t=e.target.result,n=D.ij(t,{type:"array"}),l=n.SheetNames[0],r=n.Sheets[l],s=D.P6.sheet_to_json(r);o(s),x(!1)},t.readAsArrayBuffer(e.target.files[0])}}})})}),(0,l.jsxs)(R.ZP,{item:!0,lg:3,children:[(0,l.jsxs)(I.Z,{disabled:p,color:"primary",variant:"contained",onClick:()=>(async()=>{x(!0);try{const e=await H.Z.post(W.V6+"/paramatre",{data:n});console.log(e)}catch(e){u(e)}})(),sx:{marginLeft:"10px"},children:[p&&(0,l.jsx)(O.Z,{size:15,sx:{marginRight:"15px"},color:"inherit"})," ",!p&&(0,l.jsx)(i.default,{fontSize:"small"}),(0,l.jsx)("span",{style:{fontSize:"12px",padding:"0px",margin:"0px"},children:p?"Sending...":"Envoyer"})]}),(0,l.jsxs)(I.Z,{disabled:h,onClick:()=>(m(!0),void H.Z.delete(W.V6+"/deleteParams",W.vc).then((e=>{e&&window.location.replace("/clients")})).catch((function(e){console.log(e)}))),color:"warning",variant:"contained",sx:{marginLeft:"10px"},children:[(0,l.jsx)(r,{fontSize:"small"})," ",(0,l.jsx)("span",{style:{fontSize:"12px",padding:"0px",margin:"0px"},children:"Delete all"})]})]})]})}),(0,l.jsxs)(R.ZP,{container:!0,sx:{marginTop:"10px",marginBottom:"10px"},children:[(0,l.jsx)(R.ZP,{item:!0,lg:8,children:(0,l.jsx)(N.default,{onChange:e=>w(e.target.value),placeholder:"Code client"})}),(0,l.jsx)(R.ZP,{item:!0,lg:4,sx:{paddingLeft:"10px"},children:(0,l.jsx)(I.Z,{variant:"contained",color:"primary",onClick:()=>(async()=>{const e=await H.Z.get("".concat(W.V6,"/customer/").concat(M));A(e.data)})(),children:(0,l.jsx)(s.Z,{fontSize:"small"})})})]}),z&&(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"customer"}),(0,l.jsx)("td",{children:"customer cu"}),(0,l.jsx)("td",{children:"name"}),(0,l.jsx)("td",{children:"Region"}),(0,l.jsx)("td",{children:"Shop"}),(0,l.jsx)("td",{children:"Modifier"})]})}),(0,l.jsx)("tbody",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:z.customer}),(0,l.jsx)("td",{children:z.customer_cu}),(0,l.jsx)("td",{children:z.nomClient}),(0,l.jsx)("td",{children:z.region.denomination}),(0,l.jsx)("td",{children:z.shop.shop}),(0,l.jsx)("td",{children:(0,l.jsx)(T.Z,{size:"small",color:"primary",onClick:()=>(b(!0),void S({cu:z.customer_cu,name:z.nomClient})),children:(0,l.jsx)(a.Z,{fontSize:"small"})})})]})})]}),(0,l.jsx)(_.Z,{open:P,setOpen:b,title:"Modifiez les d\xe9tails du client",children:(0,l.jsxs)(R.ZP,{container:!0,sx:{width:"20rem"},children:[(0,l.jsx)(R.ZP,{item:!0,lg:12,sm:12,xs:12,sx:{marginTop:"10px"},children:(0,l.jsx)(N.default,{onChange:e=>S({...Z,name:e.target.value}),value:y,placeholder:"customer name"})}),(0,l.jsx)(R.ZP,{item:!0,lg:12,sm:12,xs:12,sx:{marginTop:"10px"},children:(0,l.jsx)(N.default,{value:C,onChange:e=>S({...Z,cu:e.target.value}),placeholder:"customer_cu"})}),(0,l.jsx)(R.ZP,{item:!0,lg:12,sm:12,xs:12,sx:{marginTop:"10px"},children:(0,l.jsx)(B.Z,{value:g,setValue:v,options:t,title:"Regions",propr:"denomination"})}),(0,l.jsx)(R.ZP,{item:!0,lg:12,sm:12,xs:12,sx:{marginTop:"10px"},children:""!==g&&null!==g&&(0,l.jsx)(B.Z,{value:j,setValue:f,options:g&&g.shop,title:"Shop",propr:"shop"})}),(0,l.jsx)(R.ZP,{item:!0,lg:12,sm:12,xs:12,sx:{marginTop:"10px"},children:(0,l.jsxs)(I.Z,{disabled:k,fullWidth:!0,color:"primary",variant:"contained",children:[(0,l.jsx)(a.Z,{fontSize:"small",sx:{marginRight:"7px"},onClick:()=>(async()=>{L(!0);const e=await H.Z.put(W.V6+"/parametre",{customer:z.customer,nomClient:y,codeCu:C,idZone:null===g||void 0===g?void 0:g.idZone,idShop:null===j||void 0===j?void 0:j.idShop});200===e.status&&(A(e.data),L(!1)),L(!1)})()}),"Valider"]})})]})})]})}},334811:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(747313),l=n(966149),r=n(896467),s=n(233604),a=n(850301),i=n(508586),c=n(261113),d=n(346417);const u=o.forwardRef((function(e,t){return(0,d.jsx)(a.Z,{direction:"up",ref:t,...e})}));const p=function(e){let{open:t,children:n,setOpen:o,title:a}=e;return(0,d.jsx)("div",{children:(0,d.jsxs)(l.Z,{open:t,TransitionComponent:u,keepMounted:!0,onClose:()=>{o(!1)},"aria-describedby":"alert-dialog-slide-description",children:[(0,d.jsxs)(s.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,d.jsx)(c.Z,{children:a}),(0,d.jsx)(i.Z,{fontSize:"small",color:"secondary",style:{cursor:"pointer"},onClick:()=>o(!1)})]}),(0,d.jsx)(r.Z,{children:n})]})})}},371207:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(181171),l=n(346417);const r=(0,o.Z)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")}}]);