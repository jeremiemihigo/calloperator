"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[836],{189836:(t,e,n)=>{n.r(e),n.d(e,{default:()=>lt});var i=n(181171),s=n(346417);const r=(0,i.Z)((0,s.jsx)("path",{d:"M19 9.3V4h-3v2.6L12 3 2 12h3v8h5v-6h4v6h5v-8h3l-3-2.7zm-9 .7c0-1.1.9-2 2-2s2 .9 2 2h-4z"}),"House"),o=(0,i.Z)((0,s.jsx)("path",{d:"M7 18h2V6H7v12zm4 4h2V2h-2v20zm-8-8h2v-4H3v4zm12 4h2V6h-2v12zm4-8v4h2v-4h-2z"}),"GraphicEq");var a=n(809019),l=n(270501),d=n(747313),h=n(661395),c=n(484488),x=n(835662),p=n(369099),g=n(585281),j=n(319159),f=n(416031),m=n.n(f),u=n(70816),v=n.n(u),S=n(594500),y=n(557829),Z=n(319860);const b=t=>{let{nombre:e}=t;const n=(0,Z.Z)();let i;return i=e>0?n.palette.success.main:n.palette.warning.main,(0,s.jsxs)(y.Z,{sx:{margin:0,padding:"0px 3px",borderRadius:"2px",width:"100%",textAlign:"center",cursor:"pointer",bgcolor:i},children:[e.toString(),"%"]})};const w=function(){const[t,e]=d.useState(),[n,i]=d.useState(!1),r=(0,S.v9)((t=>t.zone.zone)),[o,f]=d.useState(""),u=async t=>{f(t||o);try{if(""!==o||t){i(!0);const n=await x.Z.post(h.V6+"/analyseVisites",{date:t||o},h.vc);200===n.status&&(e(n.data),i(!1))}}catch(n){console.log(n)}};d.useEffect((()=>{u(v()(new Date).format("YYYY-MM-DD"))}),[]);const y=(e,n,i,s)=>"total"===e&&"region"===i?m().filter(t[""+n],{idZone:s}).length.toString():"total"===e&&"shop"===i?m().filter(t[""+n],{idShop:s}).length.toString():"agent"===e&&"region"===i?m().filter(t[""+n],{idZone:s,fonction:"agent"}).length.toString():"tech"===e&&"region"===i?m().filter(t[""+n],{idZone:s,fonction:"tech"}).length.toString():"agent"===e&&"shop"===i?m().filter(t[""+n],{idShop:s,fonction:"agent"}).length.toString():"tech"===e&&"shop"===i?m().filter(t[""+n],{idShop:s,fonction:"tech"}).length.toString():void 0,Z=(e,n,i)=>{const{this_month:s,last_month:r}=t;if(0===s.length)return-100;if("total"===e&&"region"===n){const t=m().filter(s,{idZone:i}).length,e=m().filter(r,{idZone:i}).length;return 0===t?-100:(100*(t-e)/t).toFixed(0)}if("total"===e&&"shop"===n){const t=m().filter(s,{idShop:i}).length,e=m().filter(r,{idShop:i}).length;return 0===t?-100:(100*(t-e)/t).toFixed(0)}if("agent"===e&&"region"===n){const t=m().filter(s,{idZone:i,fonction:"agent"}).length,e=m().filter(r,{idZone:i,fonction:"agent"}).length;return 0===t?-100:(100*(t-e)/t).toFixed(0)}if("agent"===e&&"shop"===n){const t=m().filter(s,{idShop:i,fonction:"agent"}).length,e=m().filter(r,{idShop:i,fonction:"agent"}).length;return 0===t?-100:(100*(t-e)/t).toFixed(0)}if("tech"===e&&"region"===n){const t=m().filter(s,{idZone:i,fonction:"agent"}).length,e=m().filter(r,{idZone:i,fonction:"agent"}).length;return 0===t?-100:(100*(t-e)/t).toFixed(0)}if("tech"===e&&"shop"===n){const t=m().filter(s,{idShop:i,fonction:"tech"}).length,e=m().filter(r,{idShop:i,fonction:"tech"}).length;return 0===t?-100:(100*(t-e)/t).toFixed(0)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{elevation:3,sx:{marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsxs)(a.ZP,{container:!0,children:[(0,s.jsx)(a.ZP,{item:!0,lg:6,xs:12,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)("p",{style:{padding:"0px",fontWeight:"bolder",margin:"0px",fontSize:"12px"},children:"COMPARAISON DES VISITES EN MONTH TO DATE DES AGENTS ET TECHNICIENS"})}),(0,s.jsx)(a.ZP,{item:!0,lg:4,xs:12,sx:{padding:"5px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(j.default,{onChange:t=>f(t.target.value),type:"date",placeholder:"Date"})}),(0,s.jsx)(a.ZP,{item:!0,lg:2,xs:12,sx:{padding:"5px"},children:(0,s.jsx)(p.Z,{disabled:n,fullWidth:!0,color:"primary",variant:"contained",onClick:()=>u(),children:n?(0,s.jsx)(g.Z,{size:15,color:"inherit",sx:{textAlign:"center"}}):"Search"})})]})}),(0,s.jsxs)(l.Z,{elevation:3,children:[t&&!n&&(0,s.jsxs)("table",{children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{rowSpan:"2",style:{fontSize:"12px",textAlign:"center"},children:"REGION & SHOP"}),(0,s.jsx)("td",{colSpan:"3",style:{textAlign:"center",fontSize:"12px"},children:"VISITES PA"}),(0,s.jsx)("td",{colSpan:"3",style:{textAlign:"center",fontSize:"12px"},children:"VISITE TECHNICIENS"}),(0,s.jsx)("td",{colSpan:"3",style:{textAlign:"center",fontSize:"12px"},children:"TOTAL GENERAL"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU ",(0,s.jsx)("br",{})," ",v()(t.lastDate).format("DD MMM YYYY")]}),(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU",(0,s.jsx)("br",{})," ",v()(t.today).format("DD MMM YYYY")]}),(0,s.jsx)("td",{style:{textAlign:"center",fontSize:"12px"},children:"GAP"}),(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU",(0,s.jsx)("br",{})," ",v()(t.lastDate).format("DD MMM YYYY")]}),(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU",(0,s.jsx)("br",{})," ",v()(t.today).format("DD MMM YYYY")]}),(0,s.jsx)("td",{style:{textAlign:"center",fontSize:"12px"},children:"GAP"}),(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU",(0,s.jsx)("br",{})," ",v()(t.lastDate).format("DD MMM YYYY")]}),(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU",(0,s.jsx)("br",{})," ",v()(t.today).format("DD MMM YYYY")]}),(0,s.jsx)("td",{style:{textAlign:"center",fontSize:"12px"},children:"GAP"})]})]}),(0,s.jsxs)("tbody",{children:[r&&r.map((t=>(0,s.jsxs)(d.Fragment,{children:[(0,s.jsxs)("tr",{style:{backgroundColor:"#dedede"},children:[(0,s.jsx)("td",{children:t.denomination}),(0,s.jsx)("td",{children:y("agent","last_month","region",t.idZone)}),(0,s.jsx)("td",{children:y("agent","this_month","region",t.idZone)}),(0,s.jsx)("td",{children:(0,s.jsx)(b,{nombre:Z("agent","region",t.idZone)})}),(0,s.jsx)("td",{children:y("tech","last_month","region",t.idZone)}),(0,s.jsx)("td",{children:y("tech","this_month","region",t.idZone)}),(0,s.jsxs)("td",{children:[" ",(0,s.jsx)(b,{nombre:Z("tech","region",t.idZone)})]}),(0,s.jsx)("td",{children:y("total","last_month","region",t.idZone)}),(0,s.jsx)("td",{children:y("total","this_month","region",t.idZone)}),(0,s.jsx)("td",{children:(0,s.jsx)(b,{nombre:Z("total","region",t.idZone)})})]}),t.shop.map((t=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t.shop}),(0,s.jsx)("td",{children:y("agent","last_month","shop",t.idShop)}),(0,s.jsx)("td",{children:y("agent","this_month","shop",t.idShop)}),(0,s.jsx)("td",{children:(0,s.jsx)(b,{nombre:Z("agent","shop",t.idShop)})}),(0,s.jsx)("td",{children:y("tech","last_month","shop",t.idShop)}),(0,s.jsx)("td",{children:y("tech","this_month","shop",t.idShop)}),(0,s.jsx)("td",{children:(0,s.jsx)(b,{nombre:Z("tech","shop",t.idShop)})}),(0,s.jsx)("td",{children:y("total","last_month","shop",t.idShop)}),(0,s.jsx)("td",{children:y("total","this_month","shop",t.idShop)}),(0,s.jsx)("td",{children:(0,s.jsx)(b,{nombre:Z("total","shop",t.idShop)})})]},t._id)))]},t._id))),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Total General"}),(0,s.jsx)("td",{className:"blackcolor",children:m().filter(t.last_month,{fonction:"agent"}).length}),(0,s.jsx)("td",{className:"blackcolor",children:m().filter(t.this_month,{fonction:"agent"}).length}),(0,s.jsx)("td",{children:0===t.this_month.length?(0,s.jsx)(b,{nombre:-100}):(0,s.jsx)(b,{nombre:(100*(m().filter(t.this_month,{fonction:"agent"}).length-m().filter(t.last_month,{fonction:"agent"}).length)/m().filter(t.last_month,{fonction:"agent"}).length).toFixed(0)})}),(0,s.jsx)("td",{className:"blackcolor",children:m().filter(t.last_month,{fonction:"tech"}).length}),(0,s.jsx)("td",{className:"blackcolor",children:m().filter(t.this_month,{fonction:"tech"}).length}),(0,s.jsx)("td",{children:0===t.this_month.length?(0,s.jsx)(b,{nombre:-100}):(0,s.jsx)(b,{nombre:(100*(m().filter(t.this_month,{fonction:"tech"}).length-m().filter(t.last_month,{fonction:"tech"}).length)/m().filter(t.last_month,{fonction:"tech"}).length).toFixed(0)})}),(0,s.jsx)("td",{className:"blackcolor",children:t.last_month.length}),(0,s.jsx)("td",{className:"blackcolor",children:t.this_month.length}),(0,s.jsx)("td",{children:0===t.this_month.length?(0,s.jsx)(b,{nombre:-100}):(0,s.jsx)(b,{nombre:(100*(t.this_month.length-t.last_month.length)/t.last_month.length).toFixed(0)})})]})]})]}),r&&r.length>0&&n&&(0,s.jsxs)("table",{children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{rowSpan:"2",style:{fontSize:"12px",textAlign:"center"},children:"REGION & SHOP"}),(0,s.jsx)("td",{colSpan:"3",style:{textAlign:"center",fontSize:"12px"},children:"VISITES PA"}),(0,s.jsx)("td",{colSpan:"3",style:{textAlign:"center",fontSize:"12px"},children:"VISITE TECHNICIENS"}),(0,s.jsx)("td",{colSpan:"3",style:{textAlign:"center",fontSize:"12px"},children:"TOTAL GENERAL"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU ",(0,s.jsx)("br",{})," ",v()(new Date(o).setMonth(new Date(o).getMonth()-1)).format("DD MMM YYYY")]}),(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU",(0,s.jsx)("br",{})," ",v()(new Date(o)).format("DD MMM YYYY")]}),(0,s.jsx)("td",{style:{textAlign:"center",fontSize:"12px"},children:"GAP"}),(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU ",(0,s.jsx)("br",{})," ",v()(new Date(o).setMonth(new Date(o).getMonth()-1)).format("DD MMM YYYY")]}),(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU",(0,s.jsx)("br",{})," ",v()(new Date(o)).format("DD MMM YYYY")]}),(0,s.jsx)("td",{style:{textAlign:"center",fontSize:"12px"},children:"GAP"}),(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU ",(0,s.jsx)("br",{})," ",v()(new Date(o).setMonth(new Date(o).getMonth()-1)).format("DD MMM YYYY")]}),(0,s.jsxs)("td",{style:{fontSize:"12px"},children:["MTD AU",(0,s.jsx)("br",{})," ",v()(new Date(o)).format("DD MMM YYYY")]}),(0,s.jsx)("td",{style:{textAlign:"center",fontSize:"12px"},children:"GAP"})]})]}),(0,s.jsxs)("tbody",{children:[r&&r.map((t=>(0,s.jsxs)(d.Fragment,{children:[(0,s.jsxs)("tr",{style:{backgroundColor:"#dedede"},children:[(0,s.jsx)("td",{children:t.denomination}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})})]}),t.shop.map((t=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t.shop}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})})]},t._id)))]},t._id))),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Total General"}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{variant:"text",sx:{width:"100%"}})})]})]})]})]})]})};var M=n(261113),D=n(448310),A=n(645624),C=n(483213),Y=n(87977),z=n(46123),_=n.n(z),E=n(600205),P=n(983169),T=n(74714),k=n(583447),I=n(373239);const N=["wrap","nowrap","wrap-reverse"],O=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],$=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];const G=function(t,e){return _()(Object.assign(Object.assign(Object.assign({},((t,e)=>{const n={};return N.forEach((i=>{n[`${t}-wrap-${i}`]=e.wrap===i})),n})(t,e)),((t,e)=>{const n={};return $.forEach((i=>{n[`${t}-align-${i}`]=e.align===i})),n[`${t}-align-stretch`]=!e.align&&!!e.vertical,n})(t,e)),((t,e)=>{const n={};return O.forEach((i=>{n[`${t}-justify-${i}`]=e.justify===i})),n})(t,e)))},F=t=>{const{componentCls:e}=t;return{[e]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},R=t=>{const{componentCls:e}=t;return{[e]:{"&-gap-small":{gap:t.flexGapSM},"&-gap-middle":{gap:t.flexGap},"&-gap-large":{gap:t.flexGapLG}}}},V=t=>{const{componentCls:e}=t,n={};return N.forEach((t=>{n[`${e}-wrap-${t}`]={flexWrap:t}})),n},L=t=>{const{componentCls:e}=t,n={};return $.forEach((t=>{n[`${e}-align-${t}`]={alignItems:t}})),n},U=t=>{const{componentCls:e}=t,n={};return O.forEach((t=>{n[`${e}-justify-${t}`]={justifyContent:t}})),n},B=(0,k.I$)("Flex",(t=>{const{paddingXS:e,padding:n,paddingLG:i}=t,s=(0,I.TS)(t,{flexGapSM:e,flexGap:n,flexGapLG:i});return[F(s),R(s),V(s),L(s),U(s)]}),(()=>({})));var H=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n};const X=d.forwardRef(((t,e)=>{const{prefixCls:n,rootClassName:i,className:s,style:r,flex:o,gap:a,children:l,vertical:h=!1,component:c="div"}=t,x=H(t,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:p,direction:g,getPrefixCls:j}=d.useContext(T.E_),f=j("flex",n),[m,u]=B(f),v=null!==h&&void 0!==h?h:null===p||void 0===p?void 0:p.vertical,S=_()(s,i,null===p||void 0===p?void 0:p.className,f,u,G(f,t),{[`${f}-rtl`]:"rtl"===g,[`${f}-gap-${a}`]:(0,P.n)(a),[`${f}-vertical`]:v}),y=Object.assign(Object.assign({},null===p||void 0===p?void 0:p.style),r);return o&&(y.flex=o),a&&!(0,P.n)(a)&&(y.gap=a),m(d.createElement(c,Object.assign({ref:e,className:S,style:y},(0,E.Z)(x,["justify","wrap","align"])),l))}));const W=X;var q=n(576940),K=n(966149),J=n(896467),Q=n(233604),tt=n(850301),et=n(588551);const nt=d.forwardRef((function(t,e){return(0,s.jsx)(tt.Z,{direction:"up",ref:e,...t})})),it=()=>{const[t,e]=d.useState(!0),n=(0,S.v9)((t=>{var e;return null===(e=t.user)||void 0===e?void 0:e.user})),[i,r]=d.useState({first:"",second:""}),[o,a]=d.useState("");return(0,s.jsxs)(K.Z,{open:t,TransitionComponent:nt,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[(0,s.jsx)(Q.Z,{children:(0,s.jsx)(M.Z,{component:"p",sx:{fontSize:"12px"},children:"Modifiez le mot de passe par d\xe9faut"})}),(0,s.jsxs)(J.Z,{children:[""!==o&&(0,s.jsx)("p",{style:{fontSize:"12px",marginBottom:"10px",color:"red"},children:o}),(0,s.jsx)("div",{style:{marginBottom:"10px"},children:(0,s.jsx)(j.default,{type:"password",placeholder:"Mot de passe",onChange:t=>r({...i,first:t.target.value})})}),(0,s.jsx)("div",{style:{marginBottom:"10px"},children:(0,s.jsx)(j.default,{type:"password",placeholder:"Repeter le mot de passe",onChange:t=>r({...i,second:t.target.value})})}),(0,s.jsx)(W,{vertical:!0,gap:"small",style:{width:"100%"},children:(0,s.jsxs)(q.ZP,{onClick:t=>(async t=>{t.preventDefault();try{i.first!==i.second?a("Le mot de passe n'est pas conforme"):"1234"===i.first?a("mot de passe par d\xe9faut \xe0 modifier"):200===(await x.Z.put(h.V6+"/userAdmin",{codeAgent:n&&n.codeAgent,ancien:"1234",nouvelle:i.first})).status&&e(!1)}catch(s){console.log(s)}})(t),type:"primary",block:!0,children:[(0,s.jsx)(et.I8b,{fontSize:"small"}),(0,s.jsx)("span",{style:{marginLeft:"10px"},children:"Modifier"})]})})]})]})};var st=n(358446);const rt=()=>{const[t,e]=(0,d.useState)(),[n,i]=(0,d.useState)(),[r,o]=(0,d.useState)(),[a,l]=(0,d.useState)(!1);return(0,d.useEffect)((()=>{(async()=>{l(!0);try{const t=await x.Z.get(h.V6+"/demandePourChaquePeriode",h.vc);o(t.data),l(!1)}catch(t){console.log(t)}})()}),[]),(0,d.useEffect)((()=>{(()=>{if(r&&r.length>0)try{let t=[],n=[];for(let e=0;e<r.length;e++)t.push(r[e].total),n.push(r[e]._id);e({chart:{id:"basic-bar"},xaxis:{categories:n}}),i([{name:"Demande au total",data:t}])}catch(t){console.log(t)}})()}),[r]),(0,s.jsx)("div",{children:a?(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"20rem"},children:(0,s.jsx)("p",{style:{textAlign:"center"},children:"Loading..."})}):t&&n&&(0,s.jsx)(st.Z,{options:t,series:n,type:"line",height:345})})},ot=()=>{const t=(0,S.v9)((t=>t.user.user)),e=(0,S.v9)((t=>t.reponse.reponse));return(0,s.jsxs)(a.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[t&&t.first&&(0,s.jsx)(it,{}),(0,s.jsx)(a.ZP,{item:!0,xs:12,md:7,lg:8,children:(0,s.jsxs)(l.Z,{sx:{padding:"5px"},elevation:2,children:[(0,s.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(a.ZP,{item:!0,children:(0,s.jsx)(M.Z,{variant:"h6",children:"Variation in household visits"})}),(0,s.jsx)(a.ZP,{item:!0})]}),(0,s.jsx)(rt,{})]})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,md:5,lg:4,children:(0,s.jsxs)(l.Z,{elevation:2,sx:{padding:"5px"},children:[(0,s.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(a.ZP,{item:!0,children:(0,s.jsx)(M.Z,{variant:"h6",children:"This month to date "})}),(0,s.jsx)(a.ZP,{item:!0})]}),(0,s.jsxs)(D.Z,{sx:{p:0,"& .MuiListItemButton-root":{py:2}},children:[!e&&(0,s.jsx)("p",{style:{textAlign:"center"},children:"Loading..."}),e&&e.length>0&&e.map(((t,e)=>(0,s.jsxs)(A.Z,{divider:!0,children:[(0,s.jsx)(C.Z,{primary:t._id}),(0,s.jsx)(M.Z,{sx:{marginLeft:"10px"},variant:"h5",children:(0,s.jsx)(Y.ZP,{start:0,end:t.nombre||0,duration:2.5})})]},e)))]})]})})]})};const at={texte:{margin:"0px",padding:"0px",textAlign:"center",fontSize:"12px",marginTop:"10px"},flex:{display:"flex",alignItems:"center",justifyContent:"center"},papier:{padding:"5px",cursor:"pointer",marginBottom:"10px"},papierselect:{backgroundColor:"rgb(0,169,254)",color:"white",padding:"5px",cursor:"pointer",marginBottom:"10px"}},lt=function(){const[t,e]=d.useState(0),[n,i]=d.useState();return d.useEffect((()=>{(async()=>{try{const t=await x.Z.get(`${h.xK}/toutesDemandeAttente/1500`,h.vc);201===t.status&&"token expired"===t.data&&(localStorage.removeItem("auth"),window.location.replace("/login")),200===t.status&&i(t.data.length)}catch(t){console.log(t)}})()}),[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.ZP,{container:!0,children:[(0,s.jsxs)(a.ZP,{item:!0,lg:2,sx:{padding:"10px"},children:[(0,s.jsx)(l.Z,{elevation:2,sx:{backgroundColo:"rgb(0,169,254)"},children:n?(0,s.jsxs)("p",{style:{padding:"10px",fontSize:"12px"},children:[n," visites sont en attente"]}):(0,s.jsx)(c.Z,{type:"text"})}),(0,s.jsxs)(l.Z,{onClick:()=>e(0),sx:0===t?at.papierselect:at.papier,children:[(0,s.jsx)("div",{style:at.flex,children:(0,s.jsx)(r,{})}),(0,s.jsx)("p",{style:at.texte,children:"Visite Menage"})]}),(0,s.jsxs)(l.Z,{onClick:()=>e(1),sx:1===t?at.papierselect:at.papier,children:[(0,s.jsx)("div",{style:at.flex,children:(0,s.jsx)(o,{})}),(0,s.jsx)("p",{style:at.texte,children:"Analyse VM"})]})]}),(0,s.jsxs)(a.ZP,{item:!0,lg:10,children:[0===t&&(0,s.jsx)(ot,{}),1===t&&(0,s.jsx)(w,{})]})]})})}},484488:(t,e,n)=>{n.d(e,{Z:()=>w});var i=n(747313),s=n(683061),r=n(130686),o=n(608007);function a(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function l(t){return parseFloat(t)}var d=n(913392),h=n(617592),c=n(577342),x=n(814363),p=n(601167);function g(t){return(0,p.ZP)("MuiSkeleton",t)}(0,x.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var j=n(346417);let f,m,u,v,S=t=>t;const y=(0,r.F4)(f||(f=S`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Z=(0,r.F4)(m||(m=S`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),b=(0,h.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!1!==n.animation&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})((t=>{let{theme:e,ownerState:n}=t;const i=a(e.shape.borderRadius)||"px",s=l(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,d.Fq)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em",..."text"===n.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${s}${i}/${Math.round(s/.6*10)/10}${i}`,"&:empty:before":{content:'"\\00a0"'}},..."circular"===n.variant&&{borderRadius:"50%"},..."rounded"===n.variant&&{borderRadius:(e.vars||e).shape.borderRadius},...n.hasChildren&&{"& > *":{visibility:"hidden"}},...n.hasChildren&&!n.width&&{maxWidth:"fit-content"},...n.hasChildren&&!n.height&&{height:"auto"}}}),(t=>{let{ownerState:e}=t;return"pulse"===e.animation&&(0,r.iv)(u||(u=S`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),y)}),(t=>{let{ownerState:e,theme:n}=t;return"wave"===e.animation&&(0,r.iv)(v||(v=S`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Z,(n.vars||n).palette.action.hover)})),w=i.forwardRef((function(t,e){const n=(0,c.Z)({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:r,component:a="span",height:l,style:d,variant:h="text",width:x,...p}=n,f={...n,animation:i,component:a,variant:h,hasChildren:Boolean(p.children)},m=(t=>{const{classes:e,variant:n,animation:i,hasChildren:s,width:r,height:a}=t,l={root:["root",n,i,s&&"withChildren",s&&!r&&"fitContent",s&&!a&&"heightAuto"]};return(0,o.Z)(l,g,e)})(f);return(0,j.jsx)(b,{as:a,ref:e,className:(0,s.Z)(m.root,r),ownerState:f,...p,style:{width:x,height:l,...d}})}))},983169:(t,e,n)=>{function i(t){return["small","middle","large"].includes(t)}function s(t){return!!t&&("number"===typeof t&&!Number.isNaN(t))}n.d(e,{T:()=>s,n:()=>i})}}]);