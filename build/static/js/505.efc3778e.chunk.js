"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[505],{862505:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ae});var r=n(747313),o=n.t(r,2),i=n(346417);const l=(0,r.createContext)(),a=e=>{const[t,n]=r.useState(),[o,a]=r.useState();return(0,i.jsx)(l.Provider,{value:{init:t,setInit:n,projetselect:o,setProjetSelect:a},children:e.children})},s=r.memo(a);var d=n(181171);const c=(0,d.Z)((0,i.jsx)("path",{d:"M12 3 2 21h20L12 3zm1 5.92L18.6 19H13V8.92zm-2 0V19H5.4L11 8.92z"}),"Details");var u=n(542420),p=n(270501),f=n(261113),h=n(614680),g=n(911198),x=n(850301),b=n(966149),m=n(75908),v=n(276147),j=n(809019),y=n(947131);const w=r.forwardRef((function(e,t){return(0,i.jsx)(x.Z,{direction:"up",ref:t,...e})}));function k(e){let{title:t,open:n,setOpen:o,children:l}=e;const a=()=>{o(!1)};return(0,i.jsx)(r.Fragment,{children:(0,i.jsxs)(b.Z,{fullScreen:!0,open:n,onClose:a,TransitionComponent:w,children:[(0,i.jsx)(m.Z,{sx:{position:"relative"},children:(0,i.jsx)(v.Z,{children:(0,i.jsxs)(j.ZP,{container:!0,children:[(0,i.jsxs)(j.ZP,{item:!0,lg:5,sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(y.Z,{edge:"start",color:"inherit",onClick:a,"aria-label":"close",children:(0,i.jsx)(g.default,{})}),(0,i.jsx)(f.Z,{noWrap:!0,sx:{ml:2,fontSize:"25px",flex:1},variant:"p",component:"div",children:t})]}),(0,i.jsx)(j.ZP,{item:!0,lg:7,children:(0,i.jsx)("p",{style:{textAlign:"center",padding:"0px",margin:"0px",fontSize:"25px"},children:"Configure the form by adding questions"})})]})})}),(0,i.jsx)(j.ZP,{children:l})]})})}var S=n(70816),C=n.n(S),Z=n(594500),O=n(985038);let P=0;const z=o["useId".toString()];function A(e){if(void 0!==z){const t=z();return e??t}return function(e){const[t,n]=r.useState(e),o=e||t;return r.useEffect((()=>{null==t&&(P+=1,n(`mui-${P}`))}),[t]),o}(e)}function $(e){let{controlled:t,default:n,name:o,state:i="value"}=e;const{current:l}=r.useRef(void 0!==t),[a,s]=r.useState(n);return[l?t:a,r.useCallback((e=>{l||s(e)}),[])]}const I=e=>{const t=r.useRef({});return r.useEffect((()=>{t.current=e})),t.current},R="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;const D=function(e){const t=r.useRef(e);return R((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current};function L(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:i,trim:l=!1}=e;return(e,a)=>{let{inputValue:s,getOptionLabel:d}=a,c=l?s.trim():s;n&&(c=c.toLowerCase()),t&&(c=L(c));const u=c?e.filter((e=>{let r=(i||d)(e);return n&&(r=r.toLowerCase()),t&&(r=L(r)),"start"===o?r.startsWith(c):r.indexOf(c)>-1})):e;return"number"===typeof r?u.slice(0,r):u}}(),E=5,V=e=>null!==e.current&&e.current.parentElement?.contains(document.activeElement),N=[];function F(e){const{unstable_isActiveElementInListbox:t=V,unstable_classNamePrefix:n="Mui",autoComplete:o=!1,autoHighlight:i=!1,autoSelect:l=!1,blurOnSelect:a=!1,clearOnBlur:s=!e.freeSolo,clearOnEscape:d=!1,componentName:c="useAutocomplete",defaultValue:u=(e.multiple?N:null),disableClearable:p=!1,disableCloseOnSelect:f=!1,disabled:h,disabledItemsFocusable:g=!1,disableListWrap:x=!1,filterOptions:b=T,filterSelectedOptions:m=!1,freeSolo:v=!1,getOptionDisabled:j,getOptionKey:y,getOptionLabel:w=(e=>e.label??e),groupBy:k,handleHomeEndKeys:S=!e.freeSolo,id:C,includeInputInList:Z=!1,inputValue:O,isOptionEqualToValue:P=((e,t)=>e===t),multiple:z=!1,onChange:R,onClose:L,onHighlightChange:F,onInputChange:M,onOpen:H,open:W,openOnFocus:q=!1,options:B,readOnly:K=!1,selectOnFocus:_=!e.freeSolo,value:U}=e,Q=A(C);let G=w;G=e=>{const t=w(e);return"string"!==typeof t?String(t):t};const J=r.useRef(!1),X=r.useRef(!0),Y=r.useRef(null),ee=r.useRef(null),[te,ne]=r.useState(null),[re,oe]=r.useState(-1),ie=i?0:-1,le=r.useRef(ie),[ae,se]=$({controlled:U,default:u,name:c}),[de,ce]=$({controlled:O,default:"",name:c,state:"inputValue"}),[ue,pe]=r.useState(!1),fe=r.useCallback(((e,t,n)=>{if(!(z?ae.length<t.length:null!==t)&&!s)return;let r;if(z)r="";else if(null==t)r="";else{const e=G(t);r="string"===typeof e?e:""}de!==r&&(ce(r),M&&M(e,r,n))}),[G,de,z,M,ce,s,ae]),[he,ge]=$({controlled:W,default:!1,name:c,state:"open"}),[xe,be]=r.useState(!0),me=!z&&null!=ae&&de===G(ae),ve=he&&!K,je=ve?b(B.filter((e=>!m||!(z?ae:[ae]).some((t=>null!==t&&P(e,t))))),{inputValue:me&&xe?"":de,getOptionLabel:G}):[],ye=I({filteredOptions:je,value:ae,inputValue:de});r.useEffect((()=>{const e=ae!==ye.value;ue&&!e||v&&!e||fe(null,ae,"reset")}),[ae,fe,ue,ye.value,v]);const we=he&&je.length>0&&!K;const ke=D((e=>{-1===e?Y.current.focus():te.querySelector(`[data-tag-index="${e}"]`).focus()}));r.useEffect((()=>{z&&re>ae.length-1&&(oe(-1),ke(-1))}),[ae,z,re,ke]);const Se=D((e=>{let{event:t,index:r,reason:o="auto"}=e;if(le.current=r,-1===r?Y.current.removeAttribute("aria-activedescendant"):Y.current.setAttribute("aria-activedescendant",`${Q}-option-${r}`),F&&F(t,-1===r?null:je[r],o),!ee.current)return;const i=ee.current.querySelector(`[role="option"].${n}-focused`);i&&(i.classList.remove(`${n}-focused`),i.classList.remove(`${n}-focusVisible`));let l=ee.current;if("listbox"!==ee.current.getAttribute("role")&&(l=ee.current.parentElement.querySelector('[role="listbox"]')),!l)return;if(-1===r)return void(l.scrollTop=0);const a=ee.current.querySelector(`[data-option-index="${r}"]`);if(a&&(a.classList.add(`${n}-focused`),"keyboard"===o&&a.classList.add(`${n}-focusVisible`),l.scrollHeight>l.clientHeight&&"mouse"!==o&&"touch"!==o)){const e=a,t=l.clientHeight+l.scrollTop,n=e.offsetTop+e.offsetHeight;n>t?l.scrollTop=n-l.clientHeight:e.offsetTop-e.offsetHeight*(k?1.3:0)<l.scrollTop&&(l.scrollTop=e.offsetTop-e.offsetHeight*(k?1.3:0))}})),Ce=D((e=>{let{event:t,diff:n,direction:r="next",reason:i="auto"}=e;if(!ve)return;const l=function(e,t){if(!ee.current||e<0||e>=je.length)return-1;let n=e;for(;;){const r=ee.current.querySelector(`[data-option-index="${n}"]`),o=!g&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(r&&r.hasAttribute("tabindex")&&!o)return n;if(n="next"===t?(n+1)%je.length:(n-1+je.length)%je.length,n===e)return-1}}((()=>{const e=je.length-1;if("reset"===n)return ie;if("start"===n)return 0;if("end"===n)return e;const t=le.current+n;return t<0?-1===t&&Z?-1:x&&-1!==le.current||Math.abs(n)>1?0:e:t>e?t===e+1&&Z?-1:x||Math.abs(n)>1?e:0:t})(),r);if(Se({index:l,reason:i,event:t}),o&&"reset"!==n)if(-1===l)Y.current.value=de;else{const e=G(je[l]);Y.current.value=e;0===e.toLowerCase().indexOf(de.toLowerCase())&&de.length>0&&Y.current.setSelectionRange(de.length,e.length)}})),Ze=r.useCallback((()=>{if(!ve)return;const e=(()=>{if(-1!==le.current&&ye.filteredOptions&&ye.filteredOptions.length!==je.length&&ye.inputValue===de&&(z?ae.length===ye.value.length&&ye.value.every(((e,t)=>G(ae[t])===G(e))):(e=ye.value,t=ae,(e?G(e):"")===(t?G(t):"")))){const e=ye.filteredOptions[le.current];if(e)return je.findIndex((t=>G(t)===G(e)))}var e,t;return-1})();if(-1!==e)return void(le.current=e);const t=z?ae[0]:ae;if(0!==je.length&&null!=t){if(ee.current)if(null==t)le.current>=je.length-1?Se({index:je.length-1}):Se({index:le.current});else{const e=je[le.current];if(z&&e&&-1!==ae.findIndex((t=>P(e,t))))return;const n=je.findIndex((e=>P(e,t)));-1===n?Ce({diff:"reset"}):Se({index:n})}}else Ce({diff:"reset"})}),[je.length,!z&&ae,m,Ce,Se,ve,de,z]),Oe=D((e=>{!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(ee,e),e&&Ze()}));r.useEffect((()=>{Ze()}),[Ze]);const Pe=e=>{he||(ge(!0),be(!0),H&&H(e))},ze=(e,t)=>{he&&(ge(!1),L&&L(e,t))},Ae=(e,t,n,r)=>{if(z){if(ae.length===t.length&&ae.every(((e,n)=>e===t[n])))return}else if(ae===t)return;R&&R(e,t,n,r),se(t)},$e=r.useRef(!1),Ie=function(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",o=t;if(z){o=Array.isArray(ae)?ae.slice():[];const e=o.findIndex((e=>P(t,e)));-1===e?o.push(t):"freeSolo"!==n&&(o.splice(e,1),r="removeOption")}fe(e,o,r),Ae(e,o,r,{option:t}),f||e&&(e.ctrlKey||e.metaKey)||ze(e,r),(!0===a||"touch"===a&&$e.current||"mouse"===a&&!$e.current)&&Y.current.blur()};const Re=(e,t)=>{if(!z)return;""===de&&ze(e,"toggleInput");let n=re;-1===re?""===de&&"previous"===t&&(n=ae.length-1):(n+="next"===t?1:-1,n<0&&(n=0),n===ae.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;let n=e;for(;;){if("next"===t&&n===ae.length||"previous"===t&&-1===n)return-1;const e=te.querySelector(`[data-tag-index="${n}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),oe(n),ke(n)},De=e=>{J.current=!0,ce(""),M&&M(e,"","clear"),Ae(e,z?[]:null,"clear")},Le=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==re&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(oe(-1),ke(-1)),229!==t.which))switch(t.key){case"Home":ve&&S&&(t.preventDefault(),Ce({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":ve&&S&&(t.preventDefault(),Ce({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),Ce({diff:-E,direction:"previous",reason:"keyboard",event:t}),Pe(t);break;case"PageDown":t.preventDefault(),Ce({diff:E,direction:"next",reason:"keyboard",event:t}),Pe(t);break;case"ArrowDown":t.preventDefault(),Ce({diff:1,direction:"next",reason:"keyboard",event:t}),Pe(t);break;case"ArrowUp":t.preventDefault(),Ce({diff:-1,direction:"previous",reason:"keyboard",event:t}),Pe(t);break;case"ArrowLeft":Re(t,"previous");break;case"ArrowRight":Re(t,"next");break;case"Enter":if(-1!==le.current&&ve){const e=je[le.current],n=!!j&&j(e);if(t.preventDefault(),n)return;Ie(t,e,"selectOption"),o&&Y.current.setSelectionRange(Y.current.value.length,Y.current.value.length)}else v&&""!==de&&!1===me&&(z&&t.preventDefault(),Ie(t,de,"createOption","freeSolo"));break;case"Escape":ve?(t.preventDefault(),t.stopPropagation(),ze(t,"escape")):d&&(""!==de||z&&ae.length>0)&&(t.preventDefault(),t.stopPropagation(),De(t));break;case"Backspace":if(z&&!K&&""===de&&ae.length>0){const e=-1===re?ae.length-1:re,n=ae.slice();n.splice(e,1),Ae(t,n,"removeOption",{option:ae[e]})}break;case"Delete":if(z&&!K&&""===de&&ae.length>0&&-1!==re){const e=re,n=ae.slice();n.splice(e,1),Ae(t,n,"removeOption",{option:ae[e]})}}},Te=e=>{pe(!0),q&&!J.current&&Pe(e)},Ee=e=>{t(ee)?Y.current.focus():(pe(!1),X.current=!0,J.current=!1,l&&-1!==le.current&&ve?Ie(e,je[le.current],"blur"):l&&v&&""!==de?Ie(e,de,"blur","freeSolo"):s&&fe(e,ae,"blur"),ze(e,"blur"))},Ve=e=>{const t=e.target.value;de!==t&&(ce(t),be(!1),M&&M(e,t,"input")),""===t?p||z||Ae(e,null,"clear"):Pe(e)},Ne=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));le.current!==t&&Se({event:e,index:t,reason:"mouse"})},Fe=e=>{Se({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),$e.current=!0},Me=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ie(e,je[t],"selectOption"),$e.current=!1},He=e=>t=>{const n=ae.slice();n.splice(e,1),Ae(t,n,"removeOption",{option:ae[e]})},We=e=>{he?ze(e,"toggleInput"):Pe(e)},qe=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==Q&&e.preventDefault()},Be=e=>{e.currentTarget.contains(e.target)&&(Y.current.focus(),_&&X.current&&Y.current.selectionEnd-Y.current.selectionStart===0&&Y.current.select(),X.current=!1)},Ke=e=>{h||""!==de&&he||We(e)};let _e=v&&de.length>0;_e=_e||(z?ae.length>0:null!==ae);let Ue=je;if(k){new Map;Ue=je.reduce(((e,t,n)=>{const r=k(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return h&&ue&&Ee(),{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-owns":we?`${Q}-listbox`:null,...e,onKeyDown:Le(e),onMouseDown:qe,onClick:Be}},getInputLabelProps:()=>({id:`${Q}-label`,htmlFor:Q}),getInputProps:()=>({id:Q,value:de,onBlur:Ee,onFocus:Te,onChange:Ve,onMouseDown:Ke,"aria-activedescendant":ve?"":null,"aria-autocomplete":o?"both":"list","aria-controls":we?`${Q}-listbox`:void 0,"aria-expanded":we,autoComplete:"off",ref:Y,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:h}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:De}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:We}),getTagProps:e=>{let{index:t}=e;return{key:t,"data-tag-index":t,tabIndex:-1,...!K&&{onDelete:He(t)}}},getListboxProps:()=>({role:"listbox",id:`${Q}-listbox`,"aria-labelledby":`${Q}-label`,ref:Oe,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:e=>{let{index:t,option:n}=e;const r=(z?ae:[ae]).some((e=>null!=e&&P(n,e))),o=!!j&&j(n);return{key:y?.(n)??G(n),tabIndex:-1,role:"option",id:`${Q}-option-${t}`,onMouseMove:Ne,onClick:Me,onTouchStart:Fe,"data-option-index":t,"aria-disabled":o,"aria-selected":r}},id:Q,inputValue:de,value:ae,dirty:_e,expanded:ve&&te,popupOpen:ve,focused:ue||-1!==re,anchorEl:te,setAnchorEl:ne,focusedTag:re,groupedOptions:Ue}}const M=(0,d.Z)((0,i.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var H=n(808425),W=n(624631),q=n(369099),B=n(975743),K=n(348737),_=n(286961),U=n(429339),Q=n(617592);const G=(0,Q.ZP)("div")((e=>{let{theme:t}=e;return`\n  color: ${"dark"===t.palette.mode?"rgba(255,255,255,0.65)":"rgba(0,0,0,.85)"};\n  font-size: 14px;\n`})),J=(0,Q.ZP)("label")`
  padding: 0 0 4px;
  line-height: 1.5;
  display: block;
`,X=(0,Q.ZP)("div")((e=>{let{theme:t}=e;return`\n  width: 100%;\n  border: 1px solid ${"dark"===t.palette.mode?"#434343":"#d9d9d9"};\n  background-color: ${"dark"===t.palette.mode?"#141414":"#fff"};\n  border-radius: 4px;\n  padding: 1px;\n  display: flex;\n  flex-wrap: wrap;\n\n  &:hover {\n    border-color: ${"dark"===t.palette.mode?"#177ddc":"#40a9ff"};\n  }\n\n  &.focused {\n    border-color: ${"dark"===t.palette.mode?"#177ddc":"#40a9ff"};\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\n  }\n\n  & input {\n    background-color: ${"dark"===t.palette.mode?"#141414":"#fff"};\n    color: ${"dark"===t.palette.mode?"rgba(255,255,255,0.65)":"rgba(0,0,0,.85)"};\n    height: 30px;\n    box-sizing: border-box;\n    padding: 4px 6px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    border: 0;\n    margin: 0;\n    outline: 0;\n  }\n`}));const Y=(0,Q.ZP)((function(e){const{label:t,onDelete:n,...r}=e;return(0,i.jsxs)("div",{...r,children:[(0,i.jsx)("span",{children:t}),(0,i.jsx)(g.default,{onClick:n})]})}))((e=>{let{theme:t}=e;return`\n  display: flex;\n  align-items: center;\n  margin: 2px;\n  line-height: 22px;\n  background-color: ${"dark"===t.palette.mode?"rgba(255,255,255,0.08)":"#fafafa"};\n  border: 1px solid ${"dark"===t.palette.mode?"#303030":"#e8e8e8"};\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: ${"dark"===t.palette.mode?"#177ddc":"#40a9ff"};\n    background-color: ${"dark"===t.palette.mode?"#003b57":"#e6f7ff"};\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n`})),ee=(0,Q.ZP)("ul")((e=>{let{theme:t}=e;return`\n  width: 300px;\n  margin: 2px 0 0;\n  padding: 0;\n  position: absolute;\n  list-style: none;\n  background-color: ${"dark"===t.palette.mode?"#141414":"#fff"};\n  overflow: auto;\n  max-height: 250px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n\n  & li {\n    padding: 5px 12px;\n    display: flex;\n\n    & span {\n      flex-grow: 1;\n    }\n\n    & svg {\n      color: transparent;\n    }\n  }\n\n  & li[aria-selected='true'] {\n    background-color: ${"dark"===t.palette.mode?"#2b2b2b":"#fafafa"};\n    font-weight: 600;\n\n    & svg {\n      color: #1890ff;\n    }\n  }\n\n  & li.${U.Z.focused} {\n    background-color: ${"dark"===t.palette.mode?"#003b57":"#e6f7ff"};\n    cursor: pointer;\n\n    & svg {\n      color: currentColor;\n    }\n  }\n`}));const te=function(){const e=(0,Z.v9)((e=>e.agentAdmin.agentAdmin)),{getRootProps:t,getInputLabelProps:n,getInputProps:o,getTagProps:l,getListboxProps:a,getOptionProps:s,groupedOptions:d,value:c,focused:u,setAnchorEl:f}=F({id:"customized-hook-demo",multiple:!0,options:e,getOptionLabel:e=>e.codeAgent}),[h,g]=r.useState(),[x,b]=r.useState(!1),[m,v]=r.useState({name:"",date:""}),y=e=>{const{name:t,value:n}=e.target;v({...m,[t]:n})},w=(0,_.I0)();return(0,i.jsxs)(p.Z,{elevation:4,sx:{padding:"10px",margin:"10px"},children:[(0,i.jsx)("div",{children:(0,i.jsx)(W.Z,{onChange:y,label:"Nom du projet",name:"name",autoComplete:"on",fullWidth:!0})}),(0,i.jsx)("div",{style:{margin:"10px 0px"},children:(0,i.jsx)(W.Z,{onChange:y,type:"date",label:"Dur\xe9e estim\xe9e du projet",name:"date",autoComplete:"on",fullWidth:!0})}),(0,i.jsx)("div",{children:(0,i.jsxs)(G,{children:[(0,i.jsxs)("div",{...t(),children:[(0,i.jsx)(J,{...n(),children:"Intervenant"}),(0,i.jsxs)(X,{ref:f,className:u?"focused":"",children:[c.map(((e,t)=>{const{key:n,...r}=l({index:t});return(0,i.jsx)(Y,{...r,label:e.codeAgent},n)})),(0,i.jsx)("input",{...o()})]})]}),d.length>0?(0,i.jsx)(ee,{...a(),children:d.map(((e,t)=>{const{key:n,...r}=s({option:e,index:t});return(0,i.jsxs)("li",{...r,children:[(0,i.jsx)("span",{children:e.nom}),(0,i.jsx)(M,{fontSize:"small"})]},n)}))}):null]})}),(0,i.jsxs)(j.ZP,{children:[(0,i.jsx)("input",{onChange:e=>(e=>{e.preventDefault(),b(!0);try{if(e.target.files){const t=new FileReader;t.onload=e=>{const t=e.target.result,n=K.ij(t,{type:"array"}),r=n.SheetNames[0],o=n.Sheets[r],i=K.P6.sheet_to_json(o);g(i),b(!1)},t.readAsArrayBuffer(e.target.files[0])}}catch(t){alert("Error "+t)}})(e),type:"file",id:"actual-btn",accept:".xlsx",hidden:!0}),(0,i.jsx)("label",{className:"label",htmlFor:"actual-btn",children:x?"Loading...":"Clic here to choose file"})]}),(0,i.jsx)(j.ZP,{sx:{marginTop:"10px"},children:(0,i.jsxs)(q.Z,{onClick:()=>(async()=>{try{const e={customers:h,name:m.name,date:m.date,intervenant:c.map((e=>e.codeAgent))};w((0,B.b5)(e))}catch(e){console.log(e)}})(),variant:"contained",fullWidth:!0,color:"primary",children:[(0,i.jsx)(H.Z,{fontSize:"small"})," ",(0,i.jsx)("span",{style:{marginLeft:"10px"},children:"Enregistrer"})]})})]})};var ne=n(528756),re=n(588551);const oe=function(){const[e,t]=r.useState(""),[n,o]=r.useState(""),[l,a]=r.useState(""),[s,d]=r.useState([]),[c,u]=r.useState("");return(0,i.jsxs)("div",{style:{width:"25rem",padding:"7px"},children:[(0,i.jsx)("div",{children:(0,i.jsx)(W.Z,{label:"Question",name:"question_name",autoComplete:"on",fullWidth:!0})}),(0,i.jsx)("div",{style:{margin:"10px 0px"},children:(0,i.jsx)(ne.Z,{label:"Type de question",data:[{id:1,title:"Text",value:"text"},{id:2,title:"Select",value:"select"}],value:e,setValue:t})}),"select"===e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{marginBottom:"10px"},children:(0,i.jsx)(ne.Z,{label:"L'agent peut selectionner combien d'items ?",data:[{id:1,title:"Many",value:"many"},{id:2,title:"One",value:"one"}],value:n,setValue:o})}),(0,i.jsxs)(j.ZP,{container:!0,children:[(0,i.jsx)(j.ZP,{item:!0,lg:8,children:(0,i.jsx)(W.Z,{value:c,onChange:e=>u(e.target.value),label:"Ajoutez un item",name:"item",autoComplete:"on",fullWidth:!0})}),(0,i.jsx)(j.ZP,{item:!0,lg:4,sx:{padding:"5px"},children:(0,i.jsx)(q.Z,{onClick:()=>(d([c,...s]),void u("")),color:"warning",variant:"contained",fullWidth:!0,children:"Add"})})]}),s.map((e=>(0,i.jsx)("span",{children:e+"; "},e)))]}),"text"===e&&(0,i.jsx)("div",{style:{margin:"10px 0px"},children:(0,i.jsx)(ne.Z,{label:"Type de donn\xe9es",data:[{id:1,title:"Nombre",value:"number"},{id:2,title:"Texte",value:"text"},{id:3,title:"Date",value:"date"}],value:l,setValue:a})}),(0,i.jsx)("div",{style:{marginTop:"10px"},children:(0,i.jsxs)(q.Z,{fullWidth:!0,variant:"contained",color:"primary",children:[(0,i.jsx)(re.vcT,{fontSize:"small",sx:{marginRight:"10px"}})," Enregistrer"]})})]})};const ie=function(){const[e,t]=r.useState(!1),{projetselect:n}=r.useContext(l);return(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,i.jsxs)(j.ZP,{container:!0,children:[(0,i.jsx)(j.ZP,{item:!0,lg:5,children:(0,i.jsx)(te,{})}),n&&(0,i.jsx)(j.ZP,{item:!0,lg:7,children:(0,i.jsx)(p.Z,{elevation:4,sx:{padding:"10px",margin:"10px"},children:(0,i.jsx)(f.Z,{component:"p",style:{cursor:"pointer",padding:"0px",margin:"0px",color:"blue",fontWeight:"bolder"},onClick:()=>t(!0),children:"Add a question"})})})]}),(0,i.jsx)(O.Z,{open:e,setOpen:t,title:"Add a question",children:(0,i.jsx)(oe,{})})]})};const le=function(){const[e,t]=r.useState(!1),n=(0,Z.v9)((e=>e.projet.projet)),{projetselect:o,setProjetSelect:a}=r.useContext(l),s=[{field:"name",headerName:"Name",width:200,editable:!1},{field:"encours",headerName:"Fin projet",width:100,editable:!1,renderCell:e=>C()(e.row.date).fromNow()},{field:"intervenant",headerName:"Intervenant",width:70,editable:!1,renderCell:e=>{var t;return null===(t=e.row)||void 0===t?void 0:t.intervenant.length}},{field:"clients",headerName:"Clients",width:100,editable:!1,renderCell:e=>{var t;return null===(t=e.row)||void 0===t?void 0:t.customers.length}},{field:"details",headerName:"Option",width:70,editable:!1,renderCell:e=>(0,i.jsx)(u.Z,{onClick:()=>{return n=e.row,a(n),void t(!0);var n},size:"small",color:"primary",children:(0,i.jsx)(c,{fontSize:"small"})})}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{elevation:4,sx:{padding:"10px",cursor:"pointer",color:"blue",fontWeight:"bolder"},children:(0,i.jsx)(f.Z,{onClick:()=>{a(),t(!0)},style:{padding:"0px",margin:"0px"},children:"Add a survey"})}),(0,i.jsx)(p.Z,{sx:{marginTop:"10px"},children:n&&(0,i.jsx)(h._$,{rows:n,columns:s,getRowId:function(e){return e._id},initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],checkboxSelection:!0,disableRowSelectionOnClick:!0})}),(0,i.jsx)(k,{open:e,setOpen:t,title:o?o.name:"Add a project",children:(0,i.jsx)(ie,{})})]})};const ae=function(){return(0,i.jsx)(s,{children:(0,i.jsx)(le,{})})}},808425:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(181171),o=n(346417);const i=(0,r.Z)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save")},542420:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(747313),o=n(683061),i=n(608007),l=n(167999),a=n(691615),s=n(577342),d=n(814363),c=n(601167);function u(e){return(0,c.ZP)("MuiFab",e)}const p=(0,d.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var f=n(617592),h=n(346417);const g=(0,f.ZP)(l.Z,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,f.FO)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,a.Z)(n.size)}`],"inherit"===n.color&&t.colorInherit,t[(0,a.Z)(n.size)],t[n.color]]}})((e=>{let{theme:t,ownerState:n}=e;var r,o;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${p.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},..."small"===n.size&&{width:40,height:40},..."medium"===n.size&&{width:48,height:48},..."extended"===n.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},..."extended"===n.variant&&"small"===n.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},..."extended"===n.variant&&"medium"===n.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},..."inherit"===n.color&&{color:"inherit"}}}),(e=>{let{theme:t,ownerState:n}=e;return{..."inherit"!==n.color&&"default"!==n.color&&null!=(t.vars||t).palette[n.color]&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}}}}),(e=>{let{theme:t}=e;return{[`&.${p.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),x=r.forwardRef((function(e,t){const n=(0,s.Z)({props:e,name:"MuiFab"}),{children:r,className:l,color:d="default",component:c="button",disabled:p=!1,disableFocusRipple:f=!1,focusVisibleClassName:x,size:b="large",variant:m="circular",...v}=n,j={...n,color:d,component:c,disabled:p,disableFocusRipple:f,size:b,variant:m},y=(e=>{const{color:t,variant:n,classes:r,size:o}=e,l={root:["root",n,`size${(0,a.Z)(o)}`,"inherit"===t?"colorInherit":t]},s=(0,i.Z)(l,u,r);return{...r,...s}})(j);return(0,h.jsx)(g,{className:(0,o.Z)(y.root,l),component:c,disabled:p,focusRipple:!f,focusVisibleClassName:(0,o.Z)(y.focusVisible,x),ownerState:j,ref:t,...v,classes:y,children:r})}))}}]);