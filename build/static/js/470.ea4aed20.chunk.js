"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[470],{803105:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(81270),i=n(648623),r=n(624631),a=n(346417);const l=(0,o.D)();const s=function(e){let{value:t,setValue:n,options:o,title:s,propr:d}=e;return(0,a.jsx)(i.Z,{value:t,onChange:(e,t)=>{"string"===typeof t?n({title:t}):t&&t.inputValue?n({title:t.inputValue}):n(t)},filterOptions:(e,t)=>l(e,t),selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with",options:o,getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e[""+d],renderOption:(e,t)=>(0,a.jsx)("li",{...e,children:t[""+d]},t.id),sx:{width:"100%"},freeSolo:!0,renderInput:e=>(0,a.jsx)(r.Z,{...e,label:s||"Titre"})})}},680509:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(786138),i=n(747313),r=n(346417);const a=function(e){const{message:t}=e,[n,a]=i.useState(!0);return(0,r.jsx)("div",{children:(0,r.jsx)(o.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n,onClose:()=>{a(!1)},message:t},"bottom center")})}},210470:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var o=n(371207),i=n(181171),r=n(346417);const a=(0,i.Z)((0,r.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"}),"RestartAlt"),l=(0,i.Z)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");var s=n(861689),d=n(542420),c=n(270501),u=n(809019),h=n(369099),p=n(614680),v=n(680509),g=n(811400),m=n(301955),x=n(747313),f=n(594500),Z=n(458274),b=n(985038),j=n(808425),w=n(624631),S=n(585281),C=n(803105),z=n(416031),y=n.n(z);const k=function(e){let{data:t}=e;const[n,i]=x.useState({nom:"",telephone:"",codeAgent:""}),a=(0,f.I0)(),l=(0,f.v9)((e=>e.zone)),[s,d]=x.useState(""),[c,p]=x.useState(""),[m,Z]=x.useState(""),{nom:b,telephone:z,codeAgent:k}=n,O=e=>{const{name:t,value:o}=e.target;i({...n,[t]:o})};x.useEffect((()=>{if(t){i({...t});let e=P.filter((e=>e.value===t.fonction))[0];Z(e);let n=y().filter(l.zone,{idZone:t.codeZone});d(n[0]),(null===t||void 0===t?void 0:t.shop.length)>0?p(null===t||void 0===t?void 0:t.shop[0]):p("")}}),[t]);const M=(0,f.v9)((e=>e.agent)),[R,A]=x.useState(!1),P=[{id:1,title:"Technicien (TECH)",value:"tech"},{id:2,title:"Agent (SA)",value:"agent"},{id:3,title:"Zonal_Business_Manager",value:"ZBM"},{id:4,title:"Process_Officer",value:"PO"},{id:5,title:"RS",value:"RS"},{id:6,title:"Shop_Manager",value:"SM"},{id:7,title:"Team_leader",value:"TL"},{id:8,title:"Stagiaire",value:"stagiaire"},{id:8,title:"Agent_de_recouvrement_(AR)",value:"AR"},{id:9,title:"Shop_Assistante",value:"shop_assistante"}],[L,N]=x.useState();return(0,r.jsxs)("div",{style:{padding:"10px",width:"23rem"},children:["rejected"===M.addAgent&&(0,r.jsx)(v.Z,{message:M.addAgentError,open:R,setOpen:A}),"success"===M.addAgent&&(0,r.jsx)(v.Z,{message:"Enregistrement effectuer",open:!0,setOpen:A}),"success"===M.updateAgent&&(0,r.jsx)(v.Z,{message:"Modification effectu\xe9e",open:!0,setOpen:A}),"rejected"===M.updateAgent&&(0,r.jsx)(v.Z,{message:M.updateAgentError,open:!0,setOpen:A}),L&&(0,r.jsx)(v.Z,{message:L,open:R,setOpen:A}),(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)(u.ZP,{sx:{marginTop:"10px"},children:(0,r.jsx)(C.Z,{value:m,setValue:Z,options:P,title:"Fonction",propr:"title"})})}),(0,r.jsx)("div",{children:(0,r.jsx)(w.Z,{className:"textField",onChange:O,value:b,label:"Noms",name:"nom",autoComplete:"off",fullWidth:!0})}),(0,r.jsx)("div",{style:{margin:"10px 0px"},children:(0,r.jsx)(w.Z,{className:"textField",onChange:O,value:z,label:"telephone",name:"telephone",autoComplete:"on",fullWidth:!0})}),(0,r.jsx)("div",{style:{margin:"10px 0px"},children:(0,r.jsx)(w.Z,{className:"textField",onChange:O,value:k,label:"code de l'agent",name:"codeAgent",autoComplete:"off",fullWidth:!0})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.ZP,{sx:{marginTop:"10px"},children:l&&l.zone.length>0&&(0,r.jsx)(C.Z,{value:s,setValue:d,options:null===l||void 0===l?void 0:l.zone,title:l&&l.zone.length<1?"Loading...":"Regions",propr:"denomination"})}),!["PO","ZBM"].includes(null===m||void 0===m?void 0:m.value)&&(0,r.jsx)(u.ZP,{sx:{marginTop:"10px"},children:""!==s&&null!==s&&(0,r.jsx)(C.Z,{value:c,setValue:p,options:s&&s.shop,title:"Shop",propr:"shop"})})]}),(0,r.jsxs)(h.Z,{variant:"contained",disabled:"pending"===l.addZone||"pending"==M.updateAgent,style:{marginTop:"15px"},onClick:t?e=>(()=>{try{if(["ZBM","PO"].includes(null===m||void 0===m?void 0:m.value)){i({...n,fonction:null===m||void 0===m?void 0:m.value});let e={values:n,zoneSelect:null===s||void 0===s?void 0:s.idZone,shop:""};a((0,g.ni)(e))}else if(s.idZone!==c.idZone)N(`le shop << ${c.shop} >> n'est pas de la region << ${s.denomination} >>`),A(!0);else{let e={values:n,zoneSelect:null===s||void 0===s?void 0:s.idZone,shop:["ZBM","PO"].includes(null===m||void 0===m?void 0:m.value)?"":null===c||void 0===c?void 0:c.idShop};a((0,g.ni)(e))}}catch(e){console.log(e)}})():e=>(e=>{e.preventDefault();try{let e={nom:b,telephone:z,fonction:null===m||void 0===m?void 0:m.value,codeAgent:k,idZone:null===s||void 0===s?void 0:s.idZone,idShop:null===c||void 0===c?void 0:c.idShop};a((0,g.LA)(e)),i({nom:"",telephone:"",codeAgent:""}),d(""),p(""),A(!0)}catch(t){}})(e),children:["pending"===l.addZone&&(0,r.jsx)(S.Z,{color:"inherit",size:20}),t?(0,r.jsx)(o.Z,{fontSize:"small"}):(0,r.jsx)(j.Z,{}),(0,r.jsx)("span",{style:{marginLeft:"10px"},children:t?"Modifier":"Enregistrer"})]})]})};var O=n(396180),M=n(319159),R=n(835662),A=n(661395),P=n(528756),L=n(348737);const N=function(){const[e,t]=x.useState(""),[n,o]=x.useState(),[i,a]=x.useState(!0),[l,s]=O.ZP.useMessage(),d=async t=>{t.preventDefault();let o=[];for(let e=0;e<n.length;e++)o.push(n[e].ID);const i=await R.Z.put(A.V6+"/bloquerOrNo",{liste:o,action:e},A.vc);var r,a;r=""+i.data,a="success",l.open({type:a,content:""+r,duration:3})};return(0,r.jsxs)("div",{style:{minWidth:"20rem"},children:[s,(0,r.jsx)("div",{style:{marginTop:"10px"},children:(0,r.jsx)(P.Z,{label:"Action",data:[{id:1,title:"Inactive",value:!1},{id:1,title:"Active",value:!0}],value:e,setValue:t})}),(0,r.jsx)("div",{style:{marginTop:"10px"},children:(0,r.jsx)(M.default,{placeholder:"Importez le fichier",type:"file",onChange:e=>(e=>{e.preventDefault(),a(!0);try{if(e.target.files){const t=new FileReader;t.onload=e=>{const t=e.target.result,n=L.ij(t,{type:"array"}),i=n.SheetNames[0],r=n.Sheets[i],l=L.P6.sheet_to_json(r);o(l),a(!1)},t.readAsArrayBuffer(e.target.files[0])}}catch(t){alert("Error "+t)}})(e)})}),(0,r.jsx)("div",{style:{marginTop:"10px"},children:(0,r.jsx)(h.Z,{onClick:e=>d(e),variant:"contained",color:"primary",fullWidth:!0,disabled:i,children:"Send"})})]})};function E(){const[e,t]=x.useState(!1),[n,i]=x.useState(!1),j=(0,f.I0)(),[w,S]=x.useState(!1),C=(0,f.v9)((e=>e.agent)),[z,y]=x.useState(),[O,M]=x.useState(""),R=(0,f.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user})),A=[{field:"nom",headerName:"Noms",width:200,editable:!1},{field:"codeAgent",headerName:"code Agent",width:100,editable:!1},{field:"first",headerName:"Log",width:50,editable:!1,renderCell:e=>e.row.first?(0,r.jsx)(m.Z,{color:"error"}):(0,r.jsx)(m.Z,{color:"success"})},{field:"region.0.denomination",headerName:"Region",width:100,editable:!1,renderCell:e=>e.row.region.denomination},{field:"shop",headerName:"Shop",width:100,editable:!1,renderCell:e=>{var t;return null===(t=e.row.shop[0])||void 0===t?void 0:t.shop}},{field:"telephone",headerName:"T\xe9l\xe9phone",width:100,editable:!1},{field:"fonction",headerName:"Fonction",width:100,editable:!1,renderCell:e=>(0,r.jsx)("span",{style:{color:""+(e.row.active?"blue":"red"),fontWeight:"bolder"},children:e.row.fonction})},{field:"action",headerName:"Action",width:200,editable:!1,renderCell:e=>(0,r.jsxs)("p",{children:["superUser"===(null===R||void 0===R?void 0:R.fonction)&&(0,r.jsx)(s.Z,{title:"Modifiez",children:(0,r.jsx)(d.Z,{color:"primary",size:"small",onClick:t=>((e,t)=>{t.preventDefault(),y(e),i(!0)})(e.row,t),children:(0,r.jsx)(o.Z,{fontSize:"small"})})}),(0,r.jsx)(r.Fragment,{children:"pending"===C.reinitialiser?(0,r.jsx)(r.Fragment,{children:"Wait..."}):(0,r.jsx)(s.Z,{title:"R\xe9initialisez ses acc\xe8s",sx:{margin:"10px"},children:(0,r.jsx)(d.Z,{color:"success",size:"small",onClick:()=>{return t=e.row,void j((0,g.Sz)({id:t._id}));var t},children:(0,r.jsx)(a,{fontSize:"small"})})})}),"superUser"===(null===R||void 0===R?void 0:R.fonction)&&(0,r.jsx)(s.Z,{title:e.row.active?"Bloquer":"D\xe9bloquer",children:(0,r.jsx)(d.Z,{color:"warning",size:"small",onClick:()=>(e=>{M(e._id);let t={id:e._id,value:!e.active};j((0,g.rH)(t)),M("")})(e.row),children:O===e.row._id?"Wait":(0,r.jsx)(l,{fontSize:"small"})})})]})}],[P,L]=x.useState(!1);return(0,r.jsxs)(c.Z,{elevation:3,sx:{padding:"5px"},children:["superUser"===(null===R||void 0===R?void 0:R.fonction)&&(0,r.jsxs)(u.ZP,{container:!0,children:[(0,r.jsx)(u.ZP,{item:!0,lg:2,children:(0,r.jsx)(h.Z,{fullWidth:!0,onClick:()=>t(!0),variant:"contained",color:"primary",children:"Ajoutez_un_agent"})}),(0,r.jsx)(u.ZP,{item:!0,lg:2,style:{margin:"0px 5px"},children:C&&(0,r.jsx)(Z.Z,{data:C.agent,title:"Export to excel",fileName:"agents.xlsx"})}),(0,r.jsx)(u.ZP,{children:(0,r.jsx)(h.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>L(!0),children:"Bloquer | Debloquer"})})]}),w&&(0,r.jsx)(v.Z,{open:w,setOpen:S,message:"Op\xe9ration effectu\xe9e"}),C.agent&&(0,r.jsx)(p._$,{rows:C.agent,columns:A,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],checkboxSelection:!0,disableRowSelectionOnClick:!0}),(0,r.jsx)(b.Z,{open:e,setOpen:t,title:"Ajoutez un agent",children:(0,r.jsx)(k,{})}),(0,r.jsx)(b.Z,{open:n,setOpen:i,title:"Modifier l'agent",children:(0,r.jsx)(k,{data:z})}),(0,r.jsx)(b.Z,{open:P,setOpen:L,children:(0,r.jsx)(N,{})})]})}const T=(0,x.memo)(E)},458274:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(795703),i=n(369099),r=n(348737),a=n(346417);const l=function(e){let{data:t,title:n,fileName:l}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(i.Z,{color:"success",variant:"contained",fullWidth:!0,disabled:!t,onClick:()=>(e=>{const t=r.P6.json_to_sheet(e),n=r.P6.book_new();r.P6.book_append_sheet(n,t,"Visites"),r.NC(n,l)})(t),children:[(0,a.jsx)(o.Z,{fontSize:"small"})," ",(0,a.jsx)("span",{className:"ml-2",children:n})]})})}},371207:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(181171),i=n(346417);const r=(0,o.Z)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},808425:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(181171),i=n(346417);const r=(0,o.Z)((0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save")},542420:(e,t,n)=>{n.d(t,{Z:()=>m});var o=n(747313),i=n(683061),r=n(608007),a=n(167999),l=n(691615),s=n(577342),d=n(814363),c=n(601167);function u(e){return(0,c.ZP)("MuiFab",e)}const h=(0,d.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var p=n(617592),v=n(346417);const g=(0,p.ZP)(a.Z,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,p.FO)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,l.Z)(n.size)}`],"inherit"===n.color&&t.colorInherit,t[(0,l.Z)(n.size)],t[n.color]]}})((e=>{let{theme:t,ownerState:n}=e;var o,i;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(o=(i=t.palette).getContrastText)?void 0:o.call(i,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${h.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},..."small"===n.size&&{width:40,height:40},..."medium"===n.size&&{width:48,height:48},..."extended"===n.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},..."extended"===n.variant&&"small"===n.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},..."extended"===n.variant&&"medium"===n.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},..."inherit"===n.color&&{color:"inherit"}}}),(e=>{let{theme:t,ownerState:n}=e;return{..."inherit"!==n.color&&"default"!==n.color&&null!=(t.vars||t).palette[n.color]&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}}}}),(e=>{let{theme:t}=e;return{[`&.${h.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),m=o.forwardRef((function(e,t){const n=(0,s.Z)({props:e,name:"MuiFab"}),{children:o,className:a,color:d="default",component:c="button",disabled:h=!1,disableFocusRipple:p=!1,focusVisibleClassName:m,size:x="large",variant:f="circular",...Z}=n,b={...n,color:d,component:c,disabled:h,disableFocusRipple:p,size:x,variant:f},j=(e=>{const{color:t,variant:n,classes:o,size:i}=e,a={root:["root",n,`size${(0,l.Z)(i)}`,"inherit"===t?"colorInherit":t]},s=(0,r.Z)(a,u,o);return{...o,...s}})(b);return(0,v.jsx)(g,{className:(0,i.Z)(j.root,a),component:c,disabled:h,focusRipple:!p,focusVisibleClassName:(0,i.Z)(j.focusVisible,m),ownerState:b,ref:t,...Z,classes:j,children:o})}))},786138:(e,t,n)=>{n.d(t,{Z:()=>k});var o=n(747313),i=n(608007),r=n(329846),a=n(218765),l=n(951782),s=n(22375);var d=n(617592),c=n(319860),u=n(577342),h=n(691615),p=n(473365),v=n(683061),g=n(913392),m=n(270501),x=n(814363),f=n(601167);function Z(e){return(0,f.ZP)("MuiSnackbarContent",e)}(0,x.Z)("MuiSnackbarContent",["root","message","action"]);var b=n(346417);const j=(0,d.ZP)(m.Z,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,o=(0,g._4)(t.palette.background.default,n);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(o),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:o,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),w=(0,d.ZP)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),S=(0,d.ZP)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),C=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiSnackbarContent"}),{action:o,className:r,message:a,role:l="alert",...s}=n,d=n,c=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"],action:["action"],message:["message"]},Z,t)})(d);return(0,b.jsxs)(j,{role:l,square:!0,elevation:6,className:(0,v.Z)(c.root,r),ownerState:d,ref:t,...s,children:[(0,b.jsx)(w,{className:c.message,ownerState:d,children:a}),o?(0,b.jsx)(S,{className:c.action,ownerState:d,children:o}):null]})}));function z(e){return(0,f.ZP)("MuiSnackbar",e)}(0,x.Z)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const y=(0,d.ZP)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${(0,h.Z)(n.anchorOrigin.vertical)}${(0,h.Z)(n.anchorOrigin.horizontal)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return{zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",..."top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},..."left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},..."right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},[t.breakpoints.up("sm")]:{..."top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},..."center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},..."left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},..."right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"}}}})),k=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiSnackbar"}),d=(0,c.Z)(),v={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{action:g,anchorOrigin:{vertical:m,horizontal:x}={vertical:"bottom",horizontal:"left"},autoHideDuration:f=null,children:Z,className:j,ClickAwayListenerProps:w,ContentProps:S,disableWindowBlurListener:k=!1,message:O,onBlur:M,onClose:R,onFocus:A,onMouseEnter:P,onMouseLeave:L,open:N,resumeHideDuration:E,TransitionComponent:T=p.Z,transitionDuration:_=v,TransitionProps:{onEnter:F,onExited:V,...B}={},...W}=n,D={...n,anchorOrigin:{vertical:m,horizontal:x},autoHideDuration:f,disableWindowBlurListener:k,TransitionComponent:T,transitionDuration:_},I=(e=>{const{classes:t,anchorOrigin:n}=e,o={root:["root",`anchorOrigin${(0,h.Z)(n.vertical)}${(0,h.Z)(n.horizontal)}`]};return(0,i.Z)(o,z,t)})(D),{getRootProps:H,onClickAway:$}=function(e){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:i,open:r,resumeHideDuration:a}=e,d=o.useRef();o.useEffect((()=>{if(r)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==i||i(e,"escapeKeyDown")}}),[r,i]);const c=(0,l.Z)(((e,t)=>{null==i||i(e,t)})),u=(0,l.Z)((e=>{i&&null!=e&&(clearTimeout(d.current),d.current=setTimeout((()=>{c(null,"timeout")}),e))}));o.useEffect((()=>(r&&u(t),()=>{clearTimeout(d.current)})),[r,t,u]);const h=()=>{clearTimeout(d.current)},p=o.useCallback((()=>{null!=t&&u(null!=a?a:.5*t)}),[t,a,u]),v=e=>t=>{const n=e.onBlur;null==n||n(t),p()},g=e=>t=>{const n=e.onFocus;null==n||n(t),h()},m=e=>t=>{const n=e.onMouseEnter;null==n||n(t),h()},x=e=>t=>{const n=e.onMouseLeave;null==n||n(t),p()};return o.useEffect((()=>{if(!n&&r)return window.addEventListener("focus",p),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",h)}}),[n,p,r]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={...(0,s.Z)(e),...t};return{role:"presentation",...n,onBlur:v(n),onFocus:g(n),onMouseEnter:m(n),onMouseLeave:x(n)}},onClickAway:e=>{null==i||i(e,"clickaway")}}}({...D}),[q,U]=o.useState(!0),G=(0,r.Z)({elementType:y,getSlotProps:H,externalForwardedProps:W,ownerState:D,additionalProps:{ref:t},className:[I.root,j]});return!N&&q?null:(0,b.jsx)(a.Z,{onClickAway:$,...w,children:(0,b.jsx)(y,{...G,children:(0,b.jsx)(T,{appear:!0,in:N,timeout:_,direction:"top"===m?"down":"up",onEnter:(e,t)=>{U(!1),F&&F(e,t)},onExited:e=>{U(!0),V&&V(e)},...B,children:Z||(0,b.jsx)(C,{message:O,action:g,...S})})})})}))}}]);