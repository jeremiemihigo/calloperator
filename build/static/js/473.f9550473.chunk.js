"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[473],{866473:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var r=n(809019),o=n(261113),a=n(448310),i=n(435593),l=n(209478),s=n(42832),c=n(346417);const d=e=>{let{title:t,count:n,color:a}=e;return(0,c.jsx)(l.Z,{contentSX:{p:2.25,background:a},children:(0,c.jsxs)(s.Z,{spacing:.5,children:[(0,c.jsx)(o.Z,{variant:"h6",color:"textSecondary",children:t}),(0,c.jsx)(r.ZP,{container:!0,alignItems:"center",children:(0,c.jsx)(r.ZP,{item:!0,children:n?(0,c.jsx)(o.Z,{variant:"h4",color:"inherit",children:n}):(0,c.jsx)(o.Z,{variant:"h6",sx:{textAlign:"center"},color:"inherit",children:"Loading"})})})]})})};d.defaultProps={color:"primary"};const p=d;var u=n(747313),x=n(594500),m=n(645624),h=n(483213),f=n(46123),g=n.n(f),v=n(600205),Z=n(983169),j=n(74714),y=n(583447),b=n(373239);const w=["wrap","nowrap","wrap-reverse"],S=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],P=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];const C=function(e,t){return g()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const n={};return w.forEach((r=>{n["".concat(e,"-wrap-").concat(r)]=t.wrap===r})),n})(e,t)),((e,t)=>{const n={};return P.forEach((r=>{n["".concat(e,"-align-").concat(r)]=t.align===r})),n["".concat(e,"-align-stretch")]=!t.align&&!!t.vertical,n})(e,t)),((e,t)=>{const n={};return S.forEach((r=>{n["".concat(e,"-justify-").concat(r)]=t.justify===r})),n})(e,t)))},W=e=>{const{componentCls:t}=e;return{[t]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},k=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},M=e=>{const{componentCls:t}=e,n={};return w.forEach((e=>{n["".concat(t,"-wrap-").concat(e)]={flexWrap:e}})),n},D=e=>{const{componentCls:t}=e,n={};return P.forEach((e=>{n["".concat(t,"-align-").concat(e)]={alignItems:e}})),n},N=e=>{const{componentCls:t}=e,n={};return S.forEach((e=>{n["".concat(t,"-justify-").concat(e)]={justifyContent:e}})),n},O=(0,y.I$)("Flex",(e=>{const{paddingXS:t,padding:n,paddingLG:r}=e,o=(0,b.TS)(e,{flexGapSM:t,flexGap:n,flexGapLG:r});return[W(o),k(o),M(o),D(o),N(o)]}),(()=>({})));var R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const B=u.forwardRef(((e,t)=>{const{prefixCls:n,rootClassName:r,className:o,style:a,flex:i,gap:l,children:s,vertical:c=!1,component:d="div"}=e,p=R(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:x,direction:m,getPrefixCls:h}=u.useContext(j.E_),f=h("flex",n),[y,b]=O(f),w=null!==c&&void 0!==c?c:null===x||void 0===x?void 0:x.vertical,S=g()(o,r,null===x||void 0===x?void 0:x.className,f,b,C(f,e),{["".concat(f,"-rtl")]:"rtl"===m,["".concat(f,"-gap-").concat(l)]:(0,Z.n)(l),["".concat(f,"-vertical")]:w}),P=Object.assign(Object.assign({},null===x||void 0===x?void 0:x.style),a);return i&&(P.flex=i),l&&!(0,Z.n)(l)&&(P.gap=l),y(u.createElement(d,Object.assign({ref:t,className:S,style:P},(0,v.Z)(p,["justify","wrap","align"])),s))}));const E=B;var A=n(576940),T=n(966149),I=n(896467),L=n(233604),G=n(850301),F=n(319159),z=n(835662),V=n(661395),X=n(588551);const Y=u.forwardRef((function(e,t){return(0,c.jsx)(G.Z,{direction:"up",ref:t,...e})})),K=()=>{const[e,t]=u.useState(!0),n=(0,x.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user})),[r,a]=u.useState({first:"",second:""}),[i,l]=u.useState("");return(0,c.jsxs)(T.Z,{open:e,TransitionComponent:Y,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[(0,c.jsx)(L.Z,{children:(0,c.jsx)(o.Z,{component:"p",sx:{fontSize:"12px"},children:"Modifiez le mot de passe par d\xe9faut"})}),(0,c.jsxs)(I.Z,{children:[""!==i&&(0,c.jsx)("p",{style:{fontSize:"12px",marginBottom:"10px",color:"red"},children:i}),(0,c.jsx)("div",{style:{marginBottom:"10px"},children:(0,c.jsx)(F.default,{type:"password",placeholder:"Mot de passe",onChange:e=>a({...r,first:e.target.value})})}),(0,c.jsx)("div",{style:{marginBottom:"10px"},children:(0,c.jsx)(F.default,{type:"password",placeholder:"Repeter le mot de passe",onChange:e=>a({...r,second:e.target.value})})}),(0,c.jsx)(E,{vertical:!0,gap:"small",style:{width:"100%"},children:(0,c.jsxs)(A.ZP,{onClick:e=>(async e=>{e.preventDefault();try{r.first!==r.second?l("Le mot de passe n'est pas conforme"):"1234"===r.first?l("mot de passe par d\xe9faut \xe0 modifier"):200===(await z.Z.put(V.V6+"/userAdmin",{codeAgent:n&&n.codeAgent,ancien:"1234",nouvelle:r.first})).status&&t(!1)}catch(o){console.log(o)}})(e),type:"primary",block:!0,children:[(0,c.jsx)(X.I8b,{fontSize:"small"}),(0,c.jsx)("span",{style:{marginLeft:"10px"},children:"Modifier"})]})})]})]})};var _=n(358446);const H=()=>{const[e,t]=(0,u.useState)(),[n,r]=(0,u.useState)(),[o,a]=(0,u.useState)(),[i,l]=(0,u.useState)(!1);return(0,u.useEffect)((()=>{(async()=>{l(!0);try{const e=await z.Z.get(V.V6+"/demandePourChaquePeriode",V.vc);console.log(e),a(e.data),l(!1)}catch(e){console.log(e)}})()}),[]),(0,u.useEffect)((()=>{(()=>{if(o&&o.length>0)try{let e=[],n=[];for(let t=0;t<o.length;t++)e.push(o[t].total),n.push(o[t]._id);t({chart:{id:"basic-bar"},xaxis:{categories:n}}),r([{name:"Demande au total",data:e}])}catch(e){console.log(e)}})()}),[o]),(0,c.jsx)("div",{children:i?(0,c.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"20rem"},children:(0,c.jsx)("p",{style:{textAlign:"center"},children:"Loading..."})}):e&&n&&(0,c.jsx)(_.Z,{options:e,series:n,type:"line",height:345})})},q=()=>{var e,t;const n=(0,x.v9)((e=>e.user.user)),s=(0,x.v9)((e=>e.agent)),d=(0,x.v9)((e=>e.periodeActive)),f=(0,x.v9)((e=>e.reponse.reponse)),{client:g,allListe:v}=u.useContext(i.E);return(0,c.jsxs)(r.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[n&&n.first&&(0,c.jsx)(K,{}),(0,c.jsx)(r.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,c.jsx)(o.Z,{variant:"h5",children:"Dashboard"})}),(0,c.jsx)(r.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,c.jsx)(p,{color:"#efe9aa",title:"Visites en attente",count:null===v||void 0===v?void 0:v.length})}),(0,c.jsx)(r.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,c.jsx)(p,{color:"#d4d5ed",title:"Agents & Techniciens",count:null===s||void 0===s||null===(e=s.agent)||void 0===e?void 0:e.length})}),(0,c.jsx)(r.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,c.jsx)(p,{color:"#cdc8f4",title:"Mois actif",count:null===d||void 0===d||null===(t=d.periodeActive)||void 0===t?void 0:t.periode})}),(0,c.jsx)(r.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,c.jsx)(p,{color:"#efe9aa",title:"Complaints of today",count:null===g||void 0===g?void 0:g.length})}),(0,c.jsx)(r.ZP,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}}),(0,c.jsxs)(r.ZP,{item:!0,xs:12,md:7,lg:8,children:[(0,c.jsxs)(r.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,c.jsx)(r.ZP,{item:!0,children:(0,c.jsx)(o.Z,{variant:"h5",children:"Variation in household visits"})}),(0,c.jsx)(r.ZP,{item:!0})]}),(0,c.jsx)(l.Z,{sx:{mt:2},content:!1,children:(0,c.jsx)(H,{})})]}),(0,c.jsxs)(r.ZP,{item:!0,xs:12,md:5,lg:4,children:[(0,c.jsxs)(r.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,c.jsx)(r.ZP,{item:!0,children:(0,c.jsx)(o.Z,{variant:"h5",children:"Visits answered beginning of month to date"})}),(0,c.jsx)(r.ZP,{item:!0})]}),(0,c.jsx)(l.Z,{sx:{mt:2},content:!1,children:(0,c.jsxs)(a.Z,{sx:{p:0,"& .MuiListItemButton-root":{py:2}},children:[!f&&(0,c.jsx)("p",{style:{textAlign:"center"},children:"Loading..."}),f&&f.length>0&&f.map(((e,t)=>(0,c.jsxs)(m.Z,{divider:!0,children:[(0,c.jsx)(h.Z,{primary:e._id}),(0,c.jsx)(o.Z,{sx:{marginLeft:"10px"},variant:"h5",children:e.nombre})]},t)))]})})]})]})}},896467:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(747313),o=n(683061),a=n(608007),i=n(617592),l=n(577342),s=n(814363),c=n(601167);function d(e){return(0,c.ZP)("MuiDialogContent",e)}(0,s.Z)("MuiDialogContent",["root","dividers"]);var p=n(893174),u=n(346417);const x=(0,i.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",...n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(p.Z.root," + &")]:{paddingTop:0}}}})),m=r.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1,...s}=n,c={...n,dividers:i},p=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,a.Z)(r,d,t)})(c);return(0,u.jsx)(x,{className:(0,o.Z)(p.root,r),ownerState:c,ref:t,...s})}))},233604:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(747313),o=n(683061),a=n(608007),i=n(261113),l=n(617592),s=n(577342),c=n(893174),d=n(963909),p=n(346417);const u=(0,l.ZP)(i.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),x=r.forwardRef((function(e,t){const n=(0,s.Z)({props:e,name:"MuiDialogTitle"}),{className:i,id:l,...x}=n,m=n,h=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"]},c.a,t)})(m),{titleId:f=l}=r.useContext(d.Z);return(0,p.jsx)(u,{component:"h2",className:(0,o.Z)(h.root,i),ownerState:m,ref:t,variant:"h6",id:null!=l?l:f,...x})}))},893174:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>a});var r=n(814363),o=n(601167);function a(e){return(0,o.ZP)("MuiDialogTitle",e)}const i=(0,r.Z)("MuiDialogTitle",["root"])},966149:(e,t,n)=>{n.d(t,{Z:()=>P});var r=n(747313),o=n(683061),a=n(608007),i=n(160994),l=n(691615),s=n(125673),c=n(632530),d=n(270501),p=n(577342),u=n(617592),x=n(814363),m=n(601167);function h(e){return(0,m.ZP)("MuiDialog",e)}const f=(0,x.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var g=n(963909),v=n(91554),Z=n(319860),j=n(346417);const y=(0,u.ZP)(v.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),b=(0,u.ZP)(s.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),w=(0,u.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat((0,l.Z)(n.scroll))]]}})((e=>{let{ownerState:t}=e;return{height:"100%","@media print":{height:"auto"},outline:0,..."paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},..."body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}})),S=(0,u.ZP)(d.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat((0,l.Z)(n.scroll))],t["paperWidth".concat((0,l.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},..."paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},..."body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},...!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},..."xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(f.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},...n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(f.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},...n.fullWidth&&{width:"calc(100% - 64px)"},...n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(f.paperScrollBody)]:{margin:0,maxWidth:"100%"}}}})),P=r.forwardRef((function(e,t){const n=(0,p.Z)({props:e,name:"MuiDialog"}),s=(0,Z.Z)(),u={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":x,"aria-labelledby":m,BackdropComponent:f,BackdropProps:v,children:P,className:C,disableEscapeKeyDown:W=!1,fullScreen:k=!1,fullWidth:M=!1,maxWidth:D="sm",onBackdropClick:N,onClose:O,open:R,PaperComponent:B=d.Z,PaperProps:E={},scroll:A="paper",TransitionComponent:T=c.Z,transitionDuration:I=u,TransitionProps:L,...G}=n,F={...n,disableEscapeKeyDown:W,fullScreen:k,fullWidth:M,maxWidth:D,scroll:A},z=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,s={root:["root"],container:["container","scroll".concat((0,l.Z)(n))],paper:["paper","paperScroll".concat((0,l.Z)(n)),"paperWidth".concat((0,l.Z)(String(r))),o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,a.Z)(s,h,t)})(F),V=r.useRef(),X=(0,i.Z)(m),Y=r.useMemo((()=>({titleId:X})),[X]);return(0,j.jsx)(b,{className:(0,o.Z)(z.root,C),closeAfterTransition:!0,components:{Backdrop:y},componentsProps:{backdrop:{transitionDuration:I,as:f,...v}},disableEscapeKeyDown:W,onClose:O,open:R,ref:t,onClick:e=>{V.current&&(V.current=null,N&&N(e),O&&O(e,"backdropClick"))},ownerState:F,...G,children:(0,j.jsx)(T,{appear:!0,in:R,timeout:I,role:"presentation",...L,children:(0,j.jsx)(w,{className:(0,o.Z)(z.container),onMouseDown:e=>{V.current=e.target===e.currentTarget},ownerState:F,children:(0,j.jsx)(S,{as:B,elevation:24,role:"dialog","aria-describedby":x,"aria-labelledby":X,...E,className:(0,o.Z)(z.paper,E.className),ownerState:F,children:(0,j.jsx)(g.Z.Provider,{value:Y,children:P})})})})})}))},963909:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(747313).createContext({})},983169:(e,t,n)=>{function r(e){return["small","middle","large"].includes(e)}function o(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}n.d(t,{T:()=>o,n:()=>r})}}]);