"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[145],{435145:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var i=t(435045),d=t(270501),l=t(809019),n=t(369099),o=t(585281),s=t(818580),r=t(319159),m=t(835662),c=t(70816),u=t.n(c),h=t(747313),p=t(36251),x=t(661395),v=t(373951),f=t(346417);const g=function(){const[e,a]=h.useState({debut:"",fin:""}),[t,c]=h.useState(!1),{debut:g,fin:b}=e,[S,N]=h.useState(),[w,T]=h.useState("");return(0,f.jsxs)(d.Z,{elevation:4,sx:{padding:"10px"},children:[(0,f.jsxs)(l.ZP,{container:!0,sx:{marginTop:"10px"},children:[(0,f.jsx)(l.ZP,{item:!0,lg:2,sm:3,xs:12,sx:{display:"flex",alignItems:"center",marginTop:"5px",padding:"0px 5px"},children:(0,f.jsx)(r.default,{type:"date",onChange:t=>a({...e,debut:t.target.value}),placeholder:"Date"})}),(0,f.jsx)(l.ZP,{item:!0,lg:2,sm:3,xs:12,sx:{marginTop:"5px",display:"flex",alignItems:"center",paddingRight:"5px"},children:(0,f.jsx)(r.default,{onChange:t=>a({...e,fin:t.target.value}),type:"date",placeholder:"Date"})}),(0,f.jsx)(l.ZP,{item:!0,lg:1,sm:1,xs:1,sx:{marginTop:"5px",display:"flex",alignItems:"center",paddingRight:"5px"},children:(0,f.jsx)(n.Z,{disabled:t,fullWidth:!0,color:"primary",variant:"contained",onClick:()=>(async()=>{c(!0);const a=await m.Z.post(x.mA+"/issuerapport",{debut:g,fin:b},x.vc);if(c(!1),"token expired"===a.data&&(localStorage.removeItem("auth"),window.location.replace("/login")),200===a.status&&a.data.length>0){let m=[];for(let e=0;e<a.data.length;e++){var t,i,d,l,n,o,s,r,h,p,f,S,w,C,D;m.push({id:e,Customer:null===(t=a.data[e])||void 0===t?void 0:t.codeclient,NOM:null===(i=a.data[e])||void 0===i?void 0:i.nomClient,Issue:null===(d=a.data[e])||void 0===d?void 0:d.typePlainte,"NATURE OF ISSUE":null===(l=a.data[e])||void 0===l?void 0:l.plainteSelect,Recommandation:null===(n=a.data[e])||void 0===n?void 0:n.recommandation,"CALL DATE":u()(null===(o=a.data[e])||void 0===o?void 0:o.dateSave).format("DD/MM/YYYY"),"CLOSE DATE":u()(null===(s=a.data[e])||void 0===s?void 0:s.dateClose).format("DD/MM/YYYY"),"CALL TIME":u()(null===(r=a.data[e])||void 0===r?void 0:r.fullDateSave).format("hh:mm:ss"),"CLOSE TIME":u()(null===(h=a.data[e])||void 0===h?void 0:h.dateClose).format("hh:mm:ss"),STATUT:null===(p=a.data[e])||void 0===p?void 0:p.statut,contact:null===(f=a.data[e])||void 0===f?void 0:f.contact,origin:null===(S=a.data[e])||void 0===S?void 0:S.property,"C.O":null===(w=a.data[e])||void 0===w?void 0:w.submitedBy,open:null!==(C=a.data[e])&&void 0!==C&&C.open?"Ouvert":"Fermer",Delai:null===(D=a.data[e])||void 0===D?void 0:D.delai})}N(m),T((0,v.generateNomFile)(e,"No tech"))}})(),children:t?(0,f.jsx)(o.Z,{size:12}):(0,f.jsx)(i.Z,{fontSize:"small"})})}),!t&&(0,f.jsx)(l.ZP,{item:!0,lg:1,sm:1,xs:1,sx:{marginTop:"5px",display:"flex",alignItems:"center"},children:(0,f.jsx)(p.Z,{data:S,title:"",fileName:"".concat(w,".xlsx")})})]}),(0,f.jsx)(l.ZP,{children:S&&(0,f.jsx)(s._$,{rows:S,columns:[{field:"Date_call",headerName:"Date_call",width:90,editable:!1},{field:"Date_close",headerName:"Date_close",width:90,editable:!1},{field:"Time_call",headerName:"Time_call",width:70,editable:!1},{field:"Time_close",headerName:"Time_close",width:70,editable:!1},{field:"NOM",headerName:"Customer_name",width:150,editable:!1},{field:"Nature_Issue",headerName:"Nature_Issue",width:100,editable:!1},{field:"Issue",headerName:"Issue",width:150,editable:!1},{field:"Recommandation",headerName:"Recommandation",width:100,editable:!1},{field:"statut",headerName:"statut",width:70,editable:!1},{field:"submitedBy",headerName:"SubmitedBy",width:70,editable:!1},{field:"Delai",headerName:"Delai",width:70,editable:!1}],initialState:{pagination:{paginationModel:{pageSize:15}}},pageSizeOptions:[15],checkboxSelection:!0,disableRowSelectionOnClick:!0})})]})}}}]);