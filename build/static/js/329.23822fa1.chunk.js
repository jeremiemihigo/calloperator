"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[329],{350723:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(91554),s=i(270501),l=i(585281),a=i(346417);const o=function(e){let{open:t,title:i,taille:o}=e;return(0,a.jsx)(n.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+100},open:t,children:(0,a.jsx)(s.Z,{sx:{width:o||"7rem",display:"flex",padding:"10px",alignItems:"center",justifyContent:"center"},children:(0,a.jsxs)("div",{style:{textAlign:"center"},children:[(0,a.jsx)(l.Z,{size:15,color:"primary"}),(0,a.jsx)("p",{style:{fontSize:"12px"},children:i||"Laading..."})]})})})}},540695:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(346417);const s=function(e){let{texte:t}=e;return(0,n.jsx)("div",{style:{display:"flex",height:"20rem",alignItems:"center",justifyContent:"center"},children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,n.jsx)("img",{src:"data:image/png;base64,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",alt:"attenteImage"})}),(0,n.jsx)("div",{children:(0,n.jsx)("p",{style:{padding:"0px",textAlign:"center",marginTop:"15px",fontSize:"15px",fontWeight:"bolder"},children:t})})]})})}},249555:(e,t,i)=>{i.d(t,{Z:()=>l});const n=i.p+"static/media/loader.a8e321df755614ca01e3.gif";var s=i(346417);const l=function(e){let{width:t,height:i}=e;return(0,s.jsx)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center",width:"100%",marginTop:"30px"},children:(0,s.jsx)("img",{width:t,height:i,src:n,alt:"Loading"})})}},878375:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(557829),s=i(319860),l=i(747313),a=i(346417);const o=e=>{let{text:t,taille:i,...l}=e;const o=(0,s.Z)();let r;switch(t){case"OUT SLA":case"Ouvert":case"Complaint to close":r=o.palette.warning.main;break;case"IN SLA":case"Fermer":case"closed":case"resolved":r=o.palette.success.main;break;default:r=o.palette.secondary.main}return(0,a.jsx)(n.Z,{sx:{width:"100%",height:"50%",textAlign:"center",color:"white",borderRadius:"2px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",bgcolor:r,fontSize:i||12},...l,children:t&&(d=t,d.charAt(0).toUpperCase()+d.slice(1))});var d},r=l.memo(o)},662419:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ot});var n=i(747313),s=i(809019),l=i(261113),a=i(435593),o=i(594500),r=i(585281),d=i(814328),c=i(270501),u=i(416031),h=i.n(u),p=i(661395),m=i(346417);function x(){const{client:e}=n.useContext(a.E),[t,i]=n.useState(),[o,r]=n.useState();return n.useEffect((()=>{i(h().groupBy(e,"statut")),r(Object.keys(h().groupBy(e,"statut")))}),[e]),(0,m.jsx)(s.ZP,{container:!0,children:o&&o.map((e=>(0,m.jsx)(s.ZP,{item:!0,lg:4,xs:12,sm:12,md:6,children:(0,m.jsxs)(c.Z,{sx:{padding:"5px",margin:"3px"},elevation:2,children:[(0,m.jsx)(l.Z,{noWrap:!0,sx:{textAlign:"center"},children:(0,p.fm)(e)}),(0,m.jsx)(l.Z,{noWrap:!0,sx:{textAlign:"center",fontSize:"20px",fontWeight:"bolder"},children:t&&t[""+e].length})]})},e)))})}const v=n.memo(x);var j=i(369099),g=i(835662);function f(){var e,t,i,o,r,u,h,x,v,f;const{setClient:Z,client:y}=n.useContext(a.E),{plainteSelect:C,setSelect:w}=n.useContext(d.U),[b,S]=n.useState(!1);return(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsx)(s.ZP,{item:!0,lg:8,xs:12,sm:4,md:4,children:(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(s.ZP,{sx:{padding:"5px",backgroundColor:"#002d72",color:"#fff"},children:(0,m.jsx)(l.Z,{sx:{fontSize:"12px",fontWeight:"bolder"},noWrap:!0,children:null===C||void 0===C?void 0:C.nomClient})}),(0,m.jsx)(s.ZP,{sx:{padding:"5px"},children:(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:6,md:6,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Ticket number"}),(0,m.jsx)(l.Z,{className:"values",children:C.idPlainte})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:6,md:6,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Type Complaint"}),(0,m.jsx)(l.Z,{className:"values",children:C.typePlainte})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:6,md:6,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"ID"}),(0,m.jsx)(l.Z,{className:"values",children:C.codeclient})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:6,md:6,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Contact"}),(0,m.jsx)(l.Z,{className:"values",children:null===C||void 0===C?void 0:C.contact})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:6,md:6,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"type of intervention"}),(0,m.jsx)(l.Z,{className:"values",children:C.plainteSelect})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:6,md:6,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Comment"}),(0,m.jsx)(l.Z,{className:"values",children:C.recommandation})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:6,md:6,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Shop"}),(0,m.jsx)(l.Z,{className:"values",children:null===C||void 0===C?void 0:C.shop})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:6,md:6,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"openBy"}),(0,m.jsx)(l.Z,{className:"values",children:null===C||void 0===C?void 0:C.submitedBy})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:6,md:6,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Status"}),(0,m.jsx)(l.Z,{className:"values",children:(0,p.fm)(null===C||void 0===C?void 0:C.statut)})]})]})})]})}),(0,m.jsx)(s.ZP,{item:!0,lg:4,children:(0,m.jsxs)(c.Z,{sx:{padding:"10px",marginLeft:"5px"},children:[null!==C&&void 0!==C&&C.adresse?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:"Adresses"}),(0,m.jsxs)("p",{style:{padding:"0px",margin:"0px 0px"},children:["Commune : ",null===C||void 0===C||null===(e=C.adresse)||void 0===e?void 0:e.commune]}),(0,m.jsxs)("p",{style:{padding:"0px",margin:"10px 0px"},children:["Quartier : ",null===C||void 0===C||null===(t=C.adresse)||void 0===t?void 0:t.quartier]}),(0,m.jsxs)("p",{style:{padding:"0px",margin:"0px"},children:["Avenue : ",null===C||void 0===C||null===(i=C.adresse)||void 0===i?void 0:i.avenue]}),(0,m.jsxs)("p",{style:{padding:"0px",margin:"10px 0px"},children:["SAT : ",null===C||void 0===C||null===(o=C.adresse)||void 0===o||null===(r=o.sat)||void 0===r?void 0:r.nom_SAT,"/ ",null===C||void 0===C||null===(u=C.adresse)||void 0===u||null===(h=u.sat)||void 0===h?void 0:h.region,"/ ",null===C||void 0===C||null===(x=C.adresse)||void 0===x||null===(v=x.sat)||void 0===v?void 0:v.shop]}),(0,m.jsxs)("p",{style:{padding:"0px",margin:"0px"},children:["Reference : ",null===C||void 0===C||null===(f=C.adresse)||void 0===f?void 0:f.reference]})]}):(0,m.jsx)("p",{children:"No address"}),(0,m.jsx)(j.Z,{disabled:b,onClick:e=>(async e=>{e.preventDefault(),S(!0);try{const e={ticket:C.idPlainte},t=await g.Z.post(p.mA+"/create_ticket",e,p.vc);200===t.status?(Z(y.map((e=>e._id===t.data._id?t.data:e))),w(5)):S(!1)}catch(t){console.log(t)}})(e),variant:"contained",color:"primary",fullWidth:!0,children:"Create"})]})})]})}const Z=n.memo(f);var y=i(435045),C=i(445389),w=i(181171);const b=(0,w.Z)((0,m.jsx)("path",{d:"M20.19 4H4c-1.1 0-1.99.9-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.81-2-1.81-2zm-2.46 9.3-8.86 2.36-1.66-2.88.93-.25 1.26.99 2.39-.64-2.4-4.16 1.4-.38 4.01 3.74 2.44-.65c.51-.14 1.04.17 1.18.68.13.51-.17 1.04-.69 1.19z"}),"AirplaneTicket"),S=(0,w.Z)((0,m.jsx)("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41 6 19l1.41-1.41L1.83 12 .41 13.41z"}),"DoneAll"),N=(0,w.Z)((0,m.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause"),P=(0,w.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 6h-1.7l-5 9H7c-.83 0-1.5-.67-1.5-1.5S6.17 15 7 15h1.7l5-9H17c.83 0 1.5.67 1.5 1.5S17.83 9 17 9z"}),"Escalator");var k=i(861689),A=i(624631),D=i(803105),z=i(350723),R=i(396180),T=i(952122),I=i(985038),M=i(609731),O=i(74834),W=i(857763);const E=function(e){let{func:t,sending:i}=e;const{setRaisonOngoing:s,raisonOngoing:l}=n.useContext(d.U),[a,o]=R.ZP.useMessage(),r=e=>{var i,n;e.preventDefault(),l?t("ongoing",e):(i="Pourquoi ongoing ?",n="error",a.open({content:i,duration:5,type:n}))};return(0,m.jsxs)("div",{style:{width:"20rem"},children:[o,(0,m.jsx)("div",{style:{marginTop:"10px"},children:(0,m.jsx)(A.Z,{value:l,onChange:e=>s(e.target.value),name:"ongoing",autoComplete:"off",fullWidth:!0,label:"Why Ongoing ?"})}),(0,m.jsx)("div",{style:{marginTop:"10px"},children:(0,m.jsx)(j.Z,{disabled:i,onClick:e=>r(e),fullWidth:!0,variant:"contained",color:"primary",children:"Ongoing"})})]})};function B(e){let{update:t}=e;const{adresse:i,codeclient:c,setCodeclient:u,shopSelect:h,setShopSelect:x,historique:v,setHistorique:f,initiale:Z,raisonOngoing:w,plainteSelect:B,setPlainteSelect:F,setInitiale:L,otherItem:U,item:G,setItem:Y,annuler:H}=n.useContext(d.U),[V,q]=n.useState(""),{client:Q,setClient:_}=n.useContext(a.E),J=(0,o.v9)((e=>{var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.user})),[X,K]=n.useState();n.useEffect((()=>{J.plainte_callcenter&&K("callcenter"),J.plainteShop&&K("shop")}),[J]);const[$,ee]=n.useState(!1),te=(0,o.v9)((e=>{var t;return null===(t=e.shop)||void 0===t?void 0:t.shop})),[ie,ne]=n.useState(!1),{recommandation:se,nomClient:le,contact:ae}=Z,[oe,re]=R.ZP.useMessage(),de=(e,t)=>{oe.open({type:t,content:""+e,duration:10})},ce=(0,o.v9)((e=>e.plainte.plainte.filter((e=>e.property===X||"all"===e.property)))),ue=e=>{const{name:t,value:i}=e.target;L({...Z,[t]:i})};n.useEffect((()=>{f(),x(""),L({recommandation:"",nomClient:"",contact:""})}),[]),n.useEffect((()=>{if(t){let e=te.filter((e=>e.shop===t.shop));L({recommandation:null===t||void 0===t?void 0:t.recommandation,nomClient:null===t||void 0===t?void 0:t.nomClient,contact:null===t||void 0===t?void 0:t.contact}),u(null===t||void 0===t?void 0:t.codeclient),x(e[0])}}),[t]);const[he,pe]=n.useState(!1),[me,xe]=n.useState([]),[ve,je]=n.useState(!1),ge=async(e,t)=>{try{if(t.preventDefault(),null!==J&&void 0!==J&&J.plainteShop&&J.plainteShop!==(null===h||void 0===h?void 0:h.shop))de(`Ce client n'est pas de votre shop << ${null===J||void 0===J?void 0:J.plainteShop} >>`,"error");else if(null!==G&&void 0!==G&&G.adresse&&!i)de("Les nouvelles adresses du client sont obligatoire","error");else{je(!0);const t={codeclient:c,statut:e,delai:"IN SLA",shop:null===h||void 0===h?void 0:h.shop,typePlainte:null===B||void 0===B?void 0:B.title,plainteSelect:G.other?G.oneormany?me.join(";"):null===U||void 0===U?void 0:U.title:null===G||void 0===G?void 0:G.title,recommandation:Z.recommandation,nomClient:le,contact:Z.contact,raisonOngoing:w,adresse:i,open:"closed"!==e,operation:"escalade"===e?"backoffice":void 0},n={typePlainte:null===B||void 0===B?void 0:B.title,plainte:null===G||void 0===G?void 0:G.title,contact:Z.contact,codeclient:c,adresse:i,nomClient:le,shop:null===h||void 0===h?void 0:h.shop,commentaire:Z.recommandation},s=null!==G&&void 0!==G&&G.ticket?n:t,l=null!==G&&void 0!==G&&G.ticket?"shop"===X?"soumission_ticket":"ticker_callcenter":"appel",a=await g.Z.post(`${p.mA}/${l}`,s,p.vc);201===a.status&&(de(a.data,"warning"),je(!1)),200===a.status&&(de("Done","success"),_([a.data,...Q]),je(!1),H())}}catch(n){je(!1),de("Error "+n,"error")}};n.useEffect((()=>{var e,t;v&&(null===v||void 0===v?void 0:v.info.length)>0&&(x(null===(e=v.info[0])||void 0===e?void 0:e.shop),L({...Z,nomClient:null===(t=v.info[0])||void 0===t?void 0:t.nomClient}))}),[v]),n.useEffect((()=>{G&&(["GLVGG","WVW3J"].includes(G.id)&&q("Regularisation"),"RW38Z"===G.id&&q("Desangagement"),"L2N7T"===G.id&&q("Repossession"),"1GS1J"===G.id&&q("Downgrade"),"9NPC7"===G.id&&q("Upgrade"),"TRRIK"===G.id&&q("Information"),"CF5GL"===G.id&&q("Rafraichissement"))}),[G]);const fe=async e=>{try{je(!0);const t={typePlainte:null===B||void 0===B?void 0:B.title,contact:Z.contact,plainte:null===G||void 0===G?void 0:G.title,codeclient:c,type:"Educate_the_customer"===e?"Education":"ticket",statut:e,nomClient:le,shop:null===h||void 0===h?void 0:h.shop,commentaire:Z.recommandation},i=await g.Z.post(p.mA+"/ticker_callcenter",t,p.vc);201===i.status&&(de(i.data,"warning"),je(!1)),200===i.status&&(de("Done","success"),_([...Q,i.data]),je(!1),H())}catch(t){de("Erro "+t,"warning"),je(!1)}},[Ze,ye]=n.useState("");return n.useEffect((()=>{B&&(()=>{if(B){let e=null===B||void 0===B?void 0:B.alltype.filter((e=>e.property===X||"all"===e.property));ye([...e,{_id:"autre",title:"autre",idPlainte:"autre",id:"autre"}])}})()}),[B]),(0,m.jsxs)(m.Fragment,{children:[re,ve&&(0,m.jsx)(z.Z,{open:!0,title:"Please wait...",taille:"10rem"}),(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsx)(s.ZP,{item:!0,lg:10,sx:{paddingRight:"10px"},children:(0,m.jsx)(T.Z,{label:"Code client",setValue:u,value:c,showIcon:!0})}),(0,m.jsx)(s.ZP,{item:!0,lg:2,sx:{display:"flex",alignItems:"center"},children:(0,m.jsx)(k.Z,{title:"confirm the search",children:(0,m.jsx)(j.Z,{onClick:e=>(async e=>{e.preventDefault(),ne(!0);try{const e=await g.Z.get(`${p.mA}/infoclient/${c}`,p.vc);200===e.status&&(f(e.data),ne(!1))}catch(t){console.log(t)}})(e),variant:"contained",color:"primary",children:ie?(0,m.jsx)(r.Z,{size:20,color:"inherit"}):(0,m.jsx)(y.Z,{fontSize:"small"})})})})]}),(0,m.jsx)("div",{style:{marginBottom:"10px"},children:(0,m.jsx)(A.Z,{onChange:e=>ue(e),value:le,style:{marginTop:"10px"},name:"nomClient",autoComplete:"off",fullWidth:!0,label:"customer name"})}),(0,m.jsx)("div",{style:{marginBottom:"10px"},children:te&&(0,m.jsx)(D.Z,{value:h,setValue:x,options:te,title:"Shop",propr:"shop"})}),(0,m.jsx)("div",{style:{marginBottom:"10px"},children:(0,m.jsx)(A.Z,{onChange:e=>ue(e),value:ae,style:{marginTop:"10px"},name:"contact",autoComplete:"off",fullWidth:!0,label:"Contact"})}),(0,m.jsx)("div",{style:{marginBottom:"10px"},children:ce&&(0,m.jsx)(D.Z,{value:B,setValue:F,options:ce,title:"Plainte",propr:"title"})}),(0,m.jsx)("div",{style:{marginBottom:"10px"},children:Ze&&(0,m.jsx)(D.Z,{value:G,setValue:Y,options:Ze,title:"Probleme",propr:"title"})}),G&&G.other&&(null===G||void 0===G?void 0:G.tableother.length)>0&&(0,m.jsx)(O.Z,{data:G,liste:me,setListe:xe}),(0,m.jsx)("div",{}),(0,m.jsx)("div",{style:{marginBottom:"10px"},children:(0,m.jsx)(A.Z,{onChange:e=>ue(e),value:se,style:{marginTop:"10px"},name:"recommandation",autoComplete:"off",fullWidth:!0,label:"Commentaire"})}),(0,m.jsx)(W.Z,{type:V}),G&&(0,m.jsx)(m.Fragment,{children:!["GLVGG","WVW3J","CF5GL","TRRIK","RW38Z","L2N7T","1GS1J","9NPC7"].includes(G.id)&&(0,m.jsxs)("div",{children:[(null===G||void 0===G?void 0:G.ticket)&&"A8MDN"===G.id&&(0,m.jsxs)(j.Z,{onClick:e=>ge(null!==G&&void 0!==G&&G.ticket?"awaiting_confirmation":"closed",e),color:"primary",variant:"contained",children:[null!==G&&void 0!==G&&G.ticket?(0,m.jsx)(b,{fontSize:"small"}):(0,m.jsx)(C.Z,{fontSize:"small"})," ",(0,m.jsx)("span",{style:{marginLeft:"10px"},children:"Demande_de_creation_ticket"})]}),G&&(null===G||void 0===G?void 0:G.ticket)&&"A8MDN"!==G.id&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(j.Z,{onClick:()=>fe("Open_technician_visit"),color:"primary",variant:"contained",children:[(0,m.jsx)(b,{fontSize:"small"}),(0,m.jsx)("span",{style:{marginLeft:"10px"},children:"Ticket_creation"})]}),(0,m.jsx)(j.Z,{sx:{marginLeft:"4px"},onClick:()=>fe("Educate_the_customer"),color:"primary",variant:"contained",children:"Educate_the_customer"})]}),!(null!==G&&void 0!==G&&G.ticket)&&"LI2GP"!==(null===G||void 0===G?void 0:G.id)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(j.Z,{sx:{margin:"0px 5px"},onClick:e=>ge("closed",e),color:"primary",variant:"contained",children:[(0,m.jsx)(S,{fontSize:"small"}),(0,m.jsx)("span",{style:{marginLeft:"10px"},children:"Closes"})]}),(0,m.jsxs)(j.Z,{sx:{margin:"0px 5px"},onClick:()=>pe(!0),color:"secondary",variant:"contained",children:[(0,m.jsx)(N,{fontSize:"small"}),(0,m.jsx)("span",{style:{marginLeft:"10px"},children:"Ongoing"})]})]}),!(null!==G&&void 0!==G&&G.ticket)&&(0,m.jsxs)(j.Z,{onClick:e=>ge("escalade",e),color:"primary",variant:"contained",children:[(0,m.jsx)(P,{fontSize:"small"})," ",(0,m.jsx)("span",{style:{marginLeft:"5px"},children:"Escalade"})]}),(0,m.jsx)(l.Z,{onClick:()=>H(),sx:{marginLeft:"3px",cursor:"pointer",color:"red"},color:"warning",variant:"contained",children:"Annuler"}),(null===G||void 0===G?void 0:G.adresse)&&(0,m.jsx)(l.Z,{component:"span",style:{textAlign:"right",fontSize:"12px",cursor:"pointer",color:"blue",fontWeight:"bolder",marginLeft:"20px",textDecoration:"underline"},onClick:()=>ee(!0),children:"Adresses"})]})}),(0,m.jsx)(I.Z,{open:$,setOpen:ee,title:"New customer addresses",children:(0,m.jsx)(M.Z,{setOpen:ee})}),(0,m.jsx)(I.Z,{open:he,setOpen:pe,title:"Raison",children:(0,m.jsx)(E,{sending:ve,func:ge})})]})}const F=n.memo(B);var L=i(70816),U=i.n(L),G=i(619536);function Y(){const{historique:e}=n.useContext(d.U),t=(0,o.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user}));return(0,m.jsxs)("div",{children:[e&&(null===e||void 0===e?void 0:e.appel.length)>0&&e.appel.map((e=>(0,m.jsxs)(s.ZP,{container:!0,className:"plainte",sx:{marginTop:"10px",padding:"5px"},children:[(0,m.jsxs)(s.ZP,{item:!0,lg:6,className:"infoOne",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Issue"})," : ",null===e||void 0===e?void 0:e.typePlainte]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Type Issue"})," : ",null===e||void 0===e?void 0:e.plainteSelect]}),(0,m.jsxs)("p",{className:e.open?"statut open":"statut",children:[(0,m.jsx)("span",{children:"statut"})," : ",null===e||void 0===e?void 0:e.statut]})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,className:"infoTwo",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"saved by"})," : ",(null===e||void 0===e?void 0:e.submitedBy)+"; ",null===e||void 0===e?void 0:e.property]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"comment"})," : ",null===e||void 0===e?void 0:e.recommandation]}),(0,m.jsx)("p",{children:U()(null===e||void 0===e?void 0:e.fullDateSave).fromNow()})]}),(0,m.jsx)(G.Z,{})]},e._id))),!e&&(0,m.jsx)("div",{className:"images",children:(0,m.jsx)("div",{children:(0,m.jsxs)("p",{children:["Service client Bboxx Bonjour! Je m'appelle ",(0,p.$f)(null===t||void 0===t?void 0:t.nom)," comment puis-je vous aider Monsieur?"]})})})]})}const H=n.memo(Y);var V=i(209478),q=i(358446);function Q(e){let{data:t}=e;const[i,s]=n.useState({options:[],series:[]});n.useEffect((()=>{(()=>{let e=[],i=[],n=h().toArray(Object.keys(h().countBy(t,"submitedBy")));for(let s=0;s<n.length;s++)e.push(n[s]),i.push(t.filter((e=>e.submitedBy===n[s])).length);s({series:i,options:e})})()}),[t]);const l={chart:{id:"basic-bar"},xaxis:{categories:i.options}},a=[{name:"series-1",data:i.series}];return(0,m.jsx)("div",{className:"mixed-chart",children:(0,m.jsx)(q.Z,{options:l,series:a,type:"bar",width:"100%",height:300})})}const _=n.memo(Q);function J(){const{socket:e}=n.useContext(a.E),[t,i]=n.useState(),[s,l]=n.useState([]);n.useEffect((()=>{e&&e.on("appel",(e=>{i(e)}))}),[e]);return n.useEffect((()=>{(async()=>{const e=await g.Z.get(p.mA+"/today",p.vc);200===e.status&&l(e.data)})()}),[]),n.useEffect((()=>{t&&l([t,...s])}),[t]),(0,m.jsxs)("div",{className:"liste",children:[(0,m.jsxs)("p",{className:"pCall",children:[s.length," complaint received"]}),(0,m.jsx)(V.Z,{sx:{mt:2},content:!1,children:(0,m.jsx)(_,{data:s})})]})}const X=n.memo(J);var K=i(557829),$=i(644758),ee=i(301550),te=i(183929),ie=i(116429),ne=i(808425);function se(e){let{property:t}=e;const[i,s]=n.useState({nomClient:"",contact:"",raison:""}),{nomClient:l,contact:a,raison:r}=i,[d,c]=n.useState(!1),u=(0,o.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user})),h=e=>{const{value:t,name:n}=e.target;s({...i,[n]:t})},[x,v]=R.ZP.useMessage(),f=(e,t)=>{x.open({type:t,content:""+e,duration:5})};return(0,m.jsxs)("div",{children:[v,(0,m.jsx)("div",{children:(0,m.jsx)(A.Z,{onChange:e=>h(e),style:{marginTop:"10px"},name:"nomClient",autoComplete:"off",fullWidth:!0,value:l,label:"customer Name"})}),(0,m.jsx)("div",{children:(0,m.jsx)(A.Z,{onChange:e=>h(e),style:{marginTop:"10px"},name:"contact",value:a,autoComplete:"off",fullWidth:!0,label:"Contact"})}),(0,m.jsx)("div",{children:(0,m.jsx)(A.Z,{onChange:e=>h(e),style:{marginTop:"10px"},name:"raison",autoComplete:"off",value:r,fullWidth:!0,label:"Information about"})}),(0,m.jsx)("div",{style:{marginTop:"10px"},children:(0,m.jsxs)(j.Z,{disabled:d,variant:"contained",fullWidth:!0,color:"primary",onClick:e=>(async()=>{try{c(!0);const e={nomClient:i.nomClient,contact:i.contact,about:null===i||void 0===i?void 0:i.raison,origin:t,shop:(null===u||void 0===u?void 0:u.plainteShop)&&u.plainteShop},n=await g.Z.post(p.mA+"/information_customer",e,p.vc);200===n.status?(f("Done","success"),s({nomClient:"",contact:"",raison:""}),c(!1)):(f(n.data,"error"),c(!1))}catch(e){console.log(e)}})(),children:[(0,m.jsx)(ne.Z,{fontSize:"small"})," ",(0,m.jsx)("span",{style:{marginLeft:"10px"},children:"Valider"})]})})]})}const le=n.memo(se);function ae(e){let{property:t}=e;const[i,a]=n.useState(0),r=(0,o.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user})),[d,u]=n.useState("our");return(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsx)(s.ZP,{item:!0,lg:5,xs:12,sm:12,md:6,children:(0,m.jsxs)(c.Z,{elevation:4,sx:{padding:"10px"},children:[(0,m.jsxs)(K.Z,{sx:{display:"flex"},children:[(0,m.jsx)(ee.Z,{onClick:()=>u("our"),component:"fieldset",variant:"standard",children:(0,m.jsx)(ie.Z,{children:(0,m.jsx)(te.Z,{control:(0,m.jsx)($.Z,{checked:"our"===d,name:"gilad"}),label:"Our customer"})})}),(0,m.jsx)(ee.Z,{onClick:()=>u("information"),required:!0,component:"fieldset",variant:"standard",children:(0,m.jsx)(ie.Z,{children:(0,m.jsx)(te.Z,{control:(0,m.jsx)($.Z,{checked:"information"===d,name:"gilad"}),label:"Information"})})}),r&&(0,m.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,m.jsx)("p",{style:{padding:"0px",margin:"0px",fontSize:"13px"},children:r.plainteShop&&""+r.plainteShop})})]}),"our"===d&&(0,m.jsx)(F,{}),"information"===d&&(0,m.jsx)(le,{property:t})]})}),(0,m.jsx)(s.ZP,{item:!0,lg:7,xs:12,sm:12,md:6,children:(0,m.jsxs)(c.Z,{elevation:4,sx:{marginLeft:"10px"},children:[(0,m.jsxs)("div",{className:"titre",children:[(0,m.jsx)(l.Z,{onClick:()=>a(0),children:"Historique d'appels"}),(0,m.jsx)(l.Z,{onClick:()=>a(1),children:"Today"})]}),0===i&&(0,m.jsx)(H,{}),1===i&&(0,m.jsx)(X,{})]})})]})}const oe=n.memo(ae);var re=i(32084),de=i(542420),ce=i(818580),ue=i(540695),he=i(249555),pe=i(878375);function me(){const[e,t]=n.useState(),{client:i}=n.useContext(a.E),{setPlainteSelect:s,setSelect:l}=n.useContext(d.U);n.useEffect((()=>{(async()=>{i&&t(h().filter(i,{operation:"backoffice"}))})()}),[i]);const o=[{field:"codeclient",headerName:"Code client",width:120,editable:!1},{field:"contact",headerName:"Contact",width:80,editable:!1},{field:"statut",headerName:"Statut",width:160,editable:!1,renderCell:e=>(0,m.jsx)(pe.Z,{text:e.row.statut})},{field:"typePlainte",headerName:"Type Plainte",width:150,editable:!1},{field:"plainteSelect",headerName:"Plainte",width:150,editable:!1},{field:"submitedBy",headerName:"Saved By",width:100,editable:!1},{field:"dateSave",headerName:"Date open",width:75,editable:!1,renderCell:e=>U()(e.row.dateSave).format("DD/MM/YYYY")},{field:"dateClose",headerName:"SLA",width:130,editable:!1,renderCell:e=>e.row.open?(0,p.bQ)((e.row.time_delai-((e,t)=>{let i=(new Date(t).getTime()-new Date(e).getTime())/6e4;return i<1?1:i})(e.row.fullDateSave,new Date)).toFixed(0)):(0,m.jsx)(pe.Z,{text:e.row.delai})},{field:"open",headerName:"Type",width:75,editable:!1,renderCell:e=>(0,m.jsx)(pe.Z,{text:e.row.open?"Ouvert":"Fermer"})},{field:"Action",headerName:"Action",width:70,editable:!1,renderCell:e=>(0,m.jsx)(de.Z,{size:"small",color:"primary",onClick:()=>{return t=e.row,s(t),void l(3);var t},children:e.row.message?e.row.message.length:(0,m.jsx)(re.Z,{fontSize:"small"})})}];return(0,m.jsxs)(m.Fragment,{children:[!e&&(0,m.jsx)(he.Z,{width:400,height:400}),e&&e.length>0&&(0,m.jsx)(c.Z,{elevation:4,children:(0,m.jsx)(ce._$,{rows:e,columns:o,initialState:{pagination:{paginationModel:{pageSize:100}}},pageSizeOptions:[100],disableRowSelectionOnClick:!0,getRowId:e=>e._id})}),e&&0===e.length&&(0,m.jsx)(ue.Z,{texte:"No backoffice complaints"})]})}const xe=n.memo(me);var ve=i(258467);function je(e){var t,i,a,o,r,d,u,h,x,v,j,g,f,Z,y,C;let{plainteSelect:w}=e;const[b,S]=n.useState(!1),N=(0,ve.s0)();return(0,m.jsxs)(c.Z,{sx:{marginTop:"10px"},children:[(0,m.jsx)(s.ZP,{sx:{padding:"5px",display:"flex",alignItems:"center",minHeight:"3rem",backgroundColor:"#002d72",color:"#fff"},children:(0,m.jsxs)(l.Z,{sx:{fontSize:"15px",padding:"0px",margin:"0px",fontWeight:"bolder"},noWrap:!0,children:[w.nomClient," ",(0,m.jsx)("span",{style:{background:""+(null!==w&&void 0!==w&&w.open?"green":"red"),borderRadius:"5px",padding:"4px"},children:null!==w&&void 0!==w&&w.open?"Open":"Closed"})]})}),(0,m.jsxs)(s.ZP,{sx:{padding:"5px"},children:[(0,m.jsx)(s.ZP,{className:"month",children:w.codeclient}),(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Type Plainte"}),(0,m.jsx)(l.Z,{className:"values",children:w.typePlainte})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Plainte"}),(0,m.jsx)(l.Z,{className:"values",children:w.plainteSelect})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Commentaire"}),(0,m.jsx)(l.Z,{className:"values",children:w.recommandation})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Delai"}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.delai})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"openBy"}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.submitedBy})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"statut"}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.statut})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"contact"}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.contact})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Month"}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.periode})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Origin"}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.property})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Shop"}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.shop})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Type"}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.type})]}),(null===w||void 0===w?void 0:w.decodeur)&&(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"D\xe9codeur"}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.decodeur})]}),"ongoing"===w.statut&&(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Why ongoing ? "}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.raisonOngoing})]}),(null===w||void 0===w?void 0:w.closeBy)&&(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"CloseBy ? "}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.closeBy})]}),(null===w||void 0===w?void 0:w.editRaison)&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:12,md:12,className:"grid",children:[(0,m.jsx)(l.Z,{className:"title",children:"Why he want to edit ? "}),(0,m.jsx)(l.Z,{className:"values",children:null===w||void 0===w?void 0:w.editRaison}),(0,m.jsx)(l.Z,{component:"p",onClick:e=>(e=>{e.preventDefault(),N("/edit",{state:w})})(e),style:{cursor:"pointer",fontSize:"12px",textDecoration:"underline",marginTop:"10px",color:"blue",fontWeight:"bolder"},children:"Clic here to make change"})]})})]}),(0,m.jsx)(G.Z,{}),(0,m.jsx)(s.ZP,{container:!0,children:(0,m.jsx)(s.ZP,{item:!0,lg:12,xs:12,sm:12,md:12,className:"grid",children:(0,m.jsxs)("div",{children:["Desengagement"===w.statut&&(0,m.jsxs)("div",{className:"downgrade",children:[(0,m.jsx)("p",{className:"downgradeP",children:"Desengagement du client"}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Raison"})," : ",null===w||void 0===w||null===(t=w.desangagement)||void 0===t?void 0:t.raison]}),(0,m.jsx)("a",{rel:"noreferrer",target:"_blank",href:`${p.fX}/${null===w||void 0===w||null===(i=w.desangagement)||void 0===i?void 0:i.filename}`,children:(0,m.jsx)("span",{children:"ouvrir le contrat"})})]}),"Downgrade"===w.statut&&(0,m.jsxs)("div",{className:"downgrade",children:[(0,m.jsx)("p",{className:"downgradeP",children:"Downgrade"}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"num_synchro"})," : ",null===w||void 0===w||null===(a=w.downgrade)||void 0===a?void 0:a.num_synchro]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"kit"})," : ",null===w||void 0===w||null===(o=w.downgrade)||void 0===o?void 0:o.kit]})]}),"Repossession volontaire"===w.statut&&(0,m.jsxs)("div",{className:"downgrade",children:[(0,m.jsx)("p",{className:"downgradeP",children:"Repossession volontaire"}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"num_synchro"})," : ",null===w||void 0===w||null===(r=w.repo_volontaire)||void 0===r?void 0:r.num_synchro]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Materiels"})," :"," ",null===w||void 0===w?void 0:w.repo_volontaire.materiel.map((e=>(0,m.jsx)("span",{children:e},e)))]})]}),"Upgrade"===w.statut&&(0,m.jsxs)("div",{className:"downgrade",children:[(0,m.jsx)("p",{className:"downgradeP",children:"Upgrade"}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Materiel"})," : ",null===w||void 0===w?void 0:w.upgrade]})]}),"Regularisation"===w.statut&&(0,m.jsxs)("div",{className:"downgrade",children:[(0,m.jsx)("p",{className:"downgradeP",children:"Regularisation"}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Jours"})," : ",null===w||void 0===w||null===(d=w.regularisation)||void 0===d?void 0:d.jours," jour(s)"]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"C.U"})," : ",null===w||void 0===w||null===(u=w.regularisation)||void 0===u?void 0:u.cu]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Raison"})," : ",null===w||void 0===w||null===(h=w.regularisation)||void 0===h?void 0:h.raison]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"date_coupure"})," : ",U()(null===w||void 0===w||null===(x=w.regularisation)||void 0===x?void 0:x.date_coupure).format("DD/MM/YYYY")]})]}),"Changement de Shop"===w.plainteSelect&&(0,m.jsxs)("div",{className:"downgrade",children:[(0,m.jsx)("p",{className:"downgradeP",children:"Changement de Shop"}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Shop"})," : ",null===w||void 0===w||null===(v=w.adresse)||void 0===v?void 0:v.shop]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Commune"})," : ",null===w||void 0===w||null===(j=w.adresse)||void 0===j?void 0:j.commune]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Quartier"})," : ",null===w||void 0===w||null===(g=w.adresse)||void 0===g?void 0:g.quartier]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Avenue"})," : ",null===w||void 0===w||null===(f=w.adresse)||void 0===f?void 0:f.avenue]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Reference"})," : ",null===w||void 0===w||null===(Z=w.adresse)||void 0===Z?void 0:Z.reference]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"SAT"})," : ",null===w||void 0===w||null===(y=w.adresse)||void 0===y||null===(C=y.sat)||void 0===C?void 0:C.nom_SAT]})]})]})})})]}),b&&(0,m.jsx)(I.Z,{open:b,setOpen:S,title:"Edit",children:(0,m.jsx)(F,{update:w})})]})}const ge=n.memo(je);function fe(){var e,t,i,r,u,h,x,v,f,Z;const{plainteSelect:y,setSelect:C}=n.useContext(d.U),w=(0,o.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user})),[b,S]=n.useState([]),[N,P]=n.useState(""),{client:k,setClient:D}=n.useContext(a.E),[z,T]=n.useState(!1);n.useEffect((()=>{null!==y&&void 0!==y&&y.message&&(null===y||void 0===y?void 0:y.message.length)>0&&S(null===y||void 0===y?void 0:y.message)}),[y]);const I=(e,t)=>{let i=(new Date(t).getTime()-new Date(e).getTime())/6e4;return i<1?1:i},[M,O]=R.ZP.useMessage(),W=(e,t)=>{M.open({type:t,content:""+e,duration:10})};return(0,m.jsxs)(m.Fragment,{children:[O,(0,m.jsxs)(s.ZP,{container:!0,sx:{marginTop:"10px"},children:[(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:4,md:4,children:[(0,m.jsx)(ge,{plainteSelect:y}),(0,m.jsx)(c.Z,{sx:{padding:"10px",marginTop:"4px"},children:(0,m.jsxs)("div",{className:"adresseInfo",children:[(0,m.jsx)("p",{className:"adresseP",children:"Customer Informations"}),(null===y||void 0===y||null===(e=y.adresse)||void 0===e?void 0:e.contact)&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Contact"})," : "+(null===y||void 0===y||null===(t=y.adresse)||void 0===t?void 0:t.contact)]}),(null===y||void 0===y?void 0:y.decodeur)&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"D\xe9codeur"})," : "+(null===y||void 0===y?void 0:y.decodeur)]}),(null===y||void 0===y||null===(i=y.adresse)||void 0===i?void 0:i.commune)&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Commune "})," : "+(null===y||void 0===y||null===(r=y.adresse)||void 0===r?void 0:r.commune)]}),(null===y||void 0===y||null===(u=y.adresse)||void 0===u?void 0:u.quartier)&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Quartier "})," : "+(null===y||void 0===y||null===(h=y.adresse)||void 0===h?void 0:h.quartier)]}),(null===y||void 0===y||null===(x=y.adresse)||void 0===x?void 0:x.avenue)&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Avenue "})," : "+(null===y||void 0===y||null===(v=y.adresse)||void 0===v?void 0:v.avenue)]}),(null===y||void 0===y||null===(f=y.adresse)||void 0===f?void 0:f.reference)&&(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Reference "})," : "+(null===y||void 0===y||null===(Z=y.adresse)||void 0===Z?void 0:Z.reference)]})]})}),(0,m.jsx)(c.Z,{sx:{padding:"10px",marginTop:"4px"},children:y&&(null===y||void 0===y?void 0:y.resultat.length)>0&&(null===y||void 0===y?void 0:y.resultat.map((e=>(0,m.jsx)("div",{className:"resultat",children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"last_status : "}),null===e||void 0===e?void 0:e.laststatus]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"change_to : "}),null===e||void 0===e?void 0:e.changeto]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Do_by : "}),null===e||void 0===e?void 0:e.nomAgent]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"SLA : "}),null===e||void 0===e?void 0:e.delai]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Comment : "}),null===e||void 0===e?void 0:e.commentaire]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Date : "}),U()(null===e||void 0===e?void 0:e.fullDate).format("DD/MM/YYYY hh:mm")]})]})},e._id))))})]}),(0,m.jsxs)(s.ZP,{item:!0,lg:6,xs:12,sm:8,md:8,children:[(0,m.jsxs)(c.Z,{className:"papierConv",elevation:3,children:["ID : ",null===y||void 0===y?void 0:y.idPlainte]}),(0,m.jsx)("div",{children:b&&b.map((e=>(0,m.jsx)(c.Z,{elevation:3,className:"papierConv",children:(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsx)(s.ZP,{item:!0,lg:2,className:"userP",children:(0,m.jsx)("div",{children:(0,m.jsx)(l.Z,{noWrap:!0,component:"p",children:e.agent===w.nom?"Moi":(0,p.$f)(e.agent)})})}),(0,m.jsx)(s.ZP,{item:!0,lg:10,className:"body_content",children:(0,m.jsx)("p",{children:e.content})})]})},e._id)))}),null!==y&&void 0!==y&&y.open?(0,m.jsx)("div",{className:"forme",children:(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsx)(s.ZP,{item:!0,lg:8,xs:8,sm:8,md:8,children:(0,m.jsx)(A.Z,{value:N,onChange:e=>P(e.target.value),autoComplete:"off",fullWidth:!0,label:"Message"})}),(0,m.jsx)(s.ZP,{item:!0,lg:2,xs:2,sm:2,md:2,sx:{paddingLeft:"1px"},children:(0,m.jsx)(j.Z,{fullWidth:!0,disabled:z,color:"primary",variant:"contained",onClick:e=>(async e=>{try{e.preventDefault(),T(!0);const t=await g.Z.post(p.mA+"/message",{idPlainte:null===y||void 0===y?void 0:y.idPlainte,content:N},p.vc);200===t.status&&(S([...b,t.data]),P(""),T(!1))}catch(t){console.log(t)}})(e),children:"Save"})}),(null===w||void 0===w?void 0:w.backOffice_plainte)&&(0,m.jsx)(s.ZP,{item:!0,lg:2,xs:2,sm:2,md:2,sx:{paddingLeft:"5px"},children:(0,m.jsx)(j.Z,{fullWidth:!0,disabled:z,color:"primary",variant:"contained",onClick:e=>(async()=>{try{T(!0);const e=await g.Z.post(`${p.mA}/updateappel`,{id:y._id,data:{open:!1,closeBy:null===w||void 0===w?void 0:w.nom,delai:y.time_delai-I(y.fullDateSave,new Date)>0?"IN SLA":"OUT SLA"}},p.vc);200===e.status&&(W("Done","success"),D(k.map((t=>t._id===e.data._id?e.data:t))),T(!1),C(2)),201===e.status&&(W(""+e.data,"error"),T(!1))}catch(e){W(""+e,"error")}})(),children:"Close"})})]})}):(0,m.jsx)("p",{style:{textAlign:"center",color:"red",fontWeight:"bolder"},children:"The_complaint_is_already_closed"})]})]})]})}const Ze=n.memo(fe);var ye=i(371207),Ce=i(397400),we=i(189843);function be(){const[e,t]=n.useState(),{socket:i,client:s}=n.useContext(a.E),{setPlainteSelect:l,setSelect:o}=n.useContext(d.U);n.useEffect((()=>{(async()=>{t(s.filter((e=>"awaiting_confirmation"===e.statut)))})()}),[]);const[r,u]=n.useState({isOpen:!1,title:"",subTitle:""}),[h,x]=n.useState();n.useEffect((()=>{i&&i.on("appel",(e=>{x(e)}))}),[i]),n.useEffect((()=>{if(h&&"escalade"===h.statut){t([h,...e]);new Audio(Ce).play()}}),[h]);const v=[{field:"codeclient",headerName:"Code client",width:120,editable:!1},{field:"idPlainte",headerName:"ID",width:75,editable:!1},{field:"shop",headerName:"Shop",width:100,editable:!1},{field:"contact",headerName:"Contact",width:80,editable:!1},{field:"statut",headerName:"Statut",width:150,editable:!1,renderCell:e=>(0,m.jsx)(pe.Z,{text:e.row.statut})},{field:"typePlainte",headerName:"Type d'interventions",width:130,editable:!1},{field:"plainteSelect",headerName:"Issue du client",width:150,editable:!1},{field:"submitedBy",headerName:"Cr\xe9es par ",width:100,editable:!1},{field:"dateClose",headerName:"SLA",width:120,editable:!1,renderCell:e=>(0,p.bQ)((e.row.time_delai-((e,t)=>{let i=(new Date(t).getTime()-new Date(e).getTime())/6e4;return i<1?1:i})(e.row.fullDateSave,new Date)).toFixed(0))},{field:"Action",headerName:"Action",width:70,editable:!1,renderCell:e=>(0,m.jsx)(de.Z,{size:"small",color:"primary",onClick:()=>{return t=e.row,l(t),void o(6);var t},children:(0,m.jsx)(ye.Z,{fontSize:"small"})})}];return(0,m.jsxs)(m.Fragment,{children:[!e&&(0,m.jsx)(he.Z,{width:400,height:400}),e&&0===e.length&&(0,m.jsx)(ue.Z,{texte:"No relocation pending"}),e&&e.length>0&&(0,m.jsx)(c.Z,{elevation:4,children:(0,m.jsx)(ce._$,{rows:e,columns:v,initialState:{pagination:{paginationModel:{pageSize:20}}},pageSizeOptions:[20],disableRowSelectionOnClick:!0,getRowId:e=>e._id})}),(0,m.jsx)(we.Z,{confirmDialog:r,setConfirmDialog:u})]})}const Se=n.memo(be);function Ne(){const[e,t]=n.useState(),{setPlainteSelect:i,setSelect:s}=n.useContext(d.U);n.useEffect((()=>{(async()=>{try{const e=await g.Z.get(p.mA+"/mybackoffice",p.vc);t(e.data)}catch(e){console.log(e)}})()}),[]);const l=[{field:"codeclient",headerName:"Code client",width:120,editable:!1},{field:"contact",headerName:"Contact",width:80,editable:!1},{field:"statut",headerName:"Statut",width:160,editable:!1,renderCell:e=>(0,m.jsx)(pe.Z,{text:e.row.statut})},{field:"typePlainte",headerName:"Type Plainte",width:150,editable:!1},{field:"plainteSelect",headerName:"Plainte",width:150,editable:!1},{field:"submitedBy",headerName:"Saved By",width:100,editable:!1},{field:"dateSave",headerName:"Date open",width:75,editable:!1,renderCell:e=>U()(e.row.dateSave).format("DD/MM hh:mm")},{field:"dateClose",headerName:"SLA",width:75,editable:!1,renderCell:e=>e.row.open?(0,p.bQ)((e.row.time_delai-((e,t)=>{let i=(new Date(t).getTime()-new Date(e).getTime())/6e4;return i<1?1:i})(e.row.fullDateSave,new Date)).toFixed(0)):(0,m.jsx)(pe.Z,{text:e.row.delai})},{field:"sla",headerName:"Type",width:75,editable:!1,renderCell:e=>(0,m.jsx)(pe.Z,{text:e.row.open?"Ouvert":"Fermer"})},{field:"Action",headerName:"Action",width:70,editable:!1,renderCell:e=>(0,m.jsx)(de.Z,{size:"small",color:"primary",onClick:()=>{return t=e.row,i(t),void s(3);var t},children:(0,m.jsx)(re.Z,{fontSize:"small"})})}];return(0,m.jsxs)(m.Fragment,{children:[!e&&(0,m.jsx)(he.Z,{width:400,height:400}),e&&0===e.length&&(0,m.jsx)("p",{style:{textAlign:"center",color:"blue",fontWeight:"bolder"},children:"No request"}),e&&e.length>0&&(0,m.jsx)(c.Z,{elevation:4,children:(0,m.jsx)(ce._$,{rows:e,columns:l,initialState:{pagination:{paginationModel:{pageSize:20}}},pageSizeOptions:[20],disableRowSelectionOnClick:!0,getRowId:e=>e._id})})]})}const Pe=n.memo(Ne),ke=(0,w.Z)((0,m.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined");var Ae=i(649914),De=i(241727);function ze(){var e;const[t,i]=n.useState(""),a=(0,o.v9)((e=>e.user.user)),[r,d]=n.useState(),[u,h]=R.ZP.useMessage(),[x,v]=n.useState(!1),f=async e=>{e.preventDefault(),v(!0),d();const i=await g.Z.get(p.mA+"/onecomplaint/"+t,p.vc);var n,s;200===i.status?(d(i.data[0]),v(!1)):(n=""+i.data,s="error",u.open({type:s,content:""+n,duration:5}),v(!1))};return(0,m.jsxs)(m.Fragment,{children:[h,x&&(0,m.jsx)(z.Z,{open:!0,title:"Please wait...",taille:"10rem"}),(0,m.jsx)(c.Z,{elevation:2,sx:{padding:"10px"},children:(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsx)(s.ZP,{item:!0,lg:8,children:(0,m.jsx)(ee.Z,{sx:{width:"100%"},children:(0,m.jsx)(Ae.Z,{size:"small",id:"header-search",startAdornment:(0,m.jsx)(De.Z,{position:"start",sx:{mr:-.5},children:(0,m.jsx)(ke,{})}),"aria-describedby":"header-search-text",inputProps:{"aria-label":"weight"},value:t,onChange:e=>i(e.target.value),placeholder:"ID Complaint"})})}),(0,m.jsx)(s.ZP,{item:!0,lg:2,sx:{paddingLeft:"10px"},children:(0,m.jsxs)(j.Z,{onClick:e=>f(e),variant:"contained",color:"primary",children:[(0,m.jsx)(y.Z,{fontSize:"small"})," Recherche"]})})]})}),r&&(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsxs)(s.ZP,{item:!0,lg:7,xs:12,sm:4,md:4,children:[(0,m.jsx)(ge,{plainteSelect:r}),(0,m.jsx)(c.Z,{sx:{padding:"10px",marginTop:"4px"},children:r&&(null===r||void 0===r||null===(e=r.resultat)||void 0===e?void 0:e.length)>0&&(null===r||void 0===r?void 0:r.resultat.map((e=>(0,m.jsx)("div",{className:"resultat",children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"last_status : "}),null===e||void 0===e?void 0:e.laststatus]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"change_to : "}),null===e||void 0===e?void 0:e.changeto]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Do_by : "}),null===e||void 0===e?void 0:e.nomAgent]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"SLA : "}),null===e||void 0===e?void 0:e.delai]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Comment : "}),null===e||void 0===e?void 0:e.commentaire]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:"Date : "}),U()(null===e||void 0===e?void 0:e.fullDate).format("DD/MM/YYYY hh:mm")]})]})},e._id))))})]}),(0,m.jsx)(s.ZP,{item:!0,lg:5,children:(0,m.jsx)("div",{children:(null===r||void 0===r?void 0:r.message)&&(null===r||void 0===r?void 0:r.message.map((e=>(0,m.jsx)(c.Z,{elevation:2,className:"papierConv",children:(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsx)(s.ZP,{item:!0,lg:2,className:"userP",children:(0,m.jsx)("div",{children:(0,m.jsx)(l.Z,{noWrap:!0,component:"p",children:e.agent===a.nom?"Moi":(0,p.$f)(e.agent)})})}),(0,m.jsxs)(s.ZP,{item:!0,lg:10,className:"body_content",children:[(0,m.jsx)("p",{children:e.content}),(0,m.jsx)("p",{style:{fontSize:"10px"},children:U()(e.createdAt).fromNow()})]})]})},e._id))))})})]})]})}const Re=n.memo(ze),Te=(0,w.Z)((0,m.jsx)("path",{d:"M21 3H3v18h18V3zm-2.5 6h-3.2l-5 9H5.5v-3h3.2l5-9h4.8v3z"}),"EscalatorSharp");const Ie=function(e){let{row:t}=e;const[i,s]=n.useState(""),l=(0,o.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user})),{client:r,setClient:d}=n.useContext(a.E),[c,u]=R.ZP.useMessage(),h=(e,t)=>{c.open({type:t,content:""+e,duration:10})};return(0,m.jsxs)("div",{style:{width:"20rem"},children:[u,(0,m.jsx)("div",{style:{margin:"10px 0px"},children:(0,m.jsx)(A.Z,{value:i,onChange:e=>s(e.target.value),name:"raison",autoComplete:"off",fullWidth:!0,label:"Raison"})}),(0,m.jsx)("div",{children:(0,m.jsxs)(j.Z,{onClick:e=>(async e=>{e.preventDefault();try{if(l.nom!==t.submitedBy)h(`seulement ${t.submitedBy} peut effectuer cette operation`,"error");else{const{_id:e}=t,n=await g.Z.post(p.mA+"/updateappel",{data:{id:e,data:{operation:"backoffice",open:!0,editRaison:i,statut:"To_Modify"}}},p.vc);200===n.status&&(h("Done","success"),d(r.map((e=>e._id===n.data._id?n.data:e)))),201===n.status&&h(""+n.data,"error")}}catch(n){console.log(n)}})(e),variant:"contained",color:"primary",fullWidth:!0,children:[(0,m.jsx)(ye.Z,{fontSize:"small"})," ",(0,m.jsx)("span",{style:{marginLeft:"10px"},children:"Escalade"})]})})]})};function Me(){const[e,t]=n.useState(),{client:i,setClient:s}=n.useContext(a.E),{setPlainteSelect:l,setSelect:r}=n.useContext(d.U),c=(0,o.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user}));n.useEffect((()=>{(async()=>{i&&t(i.filter((e=>"appel"===e.type&&"escalade"!==e.statut)))})()}),[i]);const[u,h]=R.ZP.useMessage(),x=(e,t)=>{u.open({type:t,content:""+e,duration:5})},v=async(e,t)=>{try{if(c.nom!==e.submitedBy)x(`seulement ${e.submitedBy} peut effectuer cette operation`,"error");else{const{_id:n}=e,l="escalade"===t?{id:n,data:{operation:"backoffice",statut:t}}:{id:n,data:{statut:t,open:!1}},a=await axios.post(`${p.mA}/updateappel`,l,p.vc);200===a.status?(x("Done","success"),s(i.map((e=>e._id===a.data._id?a.data:e)))):x(""+a.data,"error")}}catch(n){x(""+n,"error")}},[j,g]=n.useState(!1),[f,Z]=n.useState(),y=[{field:"codeclient",headerName:"Code client",width:120,editable:!1},{field:"shop",headerName:"Shop",width:100,editable:!1},{field:"property",headerName:"Provenance",width:80,editable:!1},{field:"statut",headerName:"Statut",width:120,editable:!1,renderCell:e=>(0,m.jsx)(pe.Z,{onClick:()=>"ongoing"===e.row.statut&&"backoffice"!==e.row.operation&&v(e.row,"closed"),text:e.row.statut})},{field:"typePlainte",headerName:"Type Plainte",width:100,editable:!1},{field:"plainteSelect",headerName:"Plainte",width:150,editable:!1},{field:"submitedBy",headerName:"Saved By",width:100,editable:!1,renderCell:e=>(0,p.$f)(e.row.submitedBy)},{field:"recommandation",headerName:"recommandation",width:120,editable:!1},{field:"raisonOngoing",headerName:"Why ongoing",width:100,editable:!1},{field:"delai",headerName:"Delai",width:80,editable:!1,renderCell:e=>(0,m.jsx)(pe.Z,{text:e.row.delai,taille:10})},{field:"dateSave",headerName:"Date open",width:75,editable:!1,renderCell:e=>U()(e.row.dateSave).format("DD-MM-YYYY")},{field:"Action",headerName:"Action",width:150,editable:!1,renderCell:e=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(k.Z,{title:"Suivi",children:(0,m.jsx)(de.Z,{sx:{marginRight:"5px"},size:"small",color:"primary",onClick:()=>(e=>{l(e),r(3)})(e.row),children:e.row.message?e.row.message.length:0})}),"ongoing"===e.row.statut&&(0,m.jsx)(k.Z,{title:"Escalader vers le Backoffice",children:(0,m.jsx)(de.Z,{onClick:()=>v(e.row,"escalade"),sx:{marginRight:"5px"},size:"small",color:"primary",children:(0,m.jsx)(Te,{fontSize:"small"})})}),(0,m.jsx)(k.Z,{title:"Edit",children:(0,m.jsx)(de.Z,{onClick:t=>((e,t)=>{e.preventDefault(),Z(t),g(!0)})(t,e.row),sx:{margin:"5px"},size:"small",color:"secondary",children:(0,m.jsx)(ye.Z,{fontSize:"small"})})})]})}];return(0,m.jsxs)("div",{children:[h,!e&&(0,m.jsx)(he.Z,{width:400,height:400}),e&&0===e.length&&(0,m.jsx)(ue.Z,{texte:"No pending non-technical complaints"}),e&&e.length>0&&(0,m.jsx)("div",{style:{width:"100%"},children:(0,m.jsx)(ce._$,{rows:e,columns:y,initialState:{pagination:{paginationModel:{pageSize:100}}},pageSizeOptions:[100],disableRowSelectionOnClick:!0,getRowId:e=>e._id})}),(0,m.jsx)(I.Z,{open:j,setOpen:g,title:"Why do you want to edit ?",children:(0,m.jsx)(Ie,{row:f})})]})}const Oe=n.memo(Me);function We(e){let{clients:t}=e;const i=(0,o.v9)((e=>{var i;return null===(i=e.agent)||void 0===i?void 0:i.agent.filter((e=>{var i;return(null===(i=e.shop[0])||void 0===i?void 0:i.shop)===(null===t||void 0===t?void 0:t.shop)&&"tech"===e.fonction}))})),[s,l]=n.useState(""),[r,d]=n.useState(""),{client:c,setClient:u}=n.useContext(a.E),[h,x]=R.ZP.useMessage(),v=(e,t)=>{h.open({type:t,content:""+e,duration:5})};return(0,m.jsxs)("div",{style:{width:"20rem"},children:[x,(0,m.jsx)("div",{style:{marginTop:"10px"},children:i&&(0,m.jsx)(D.Z,{value:s,setValue:l,options:i,title:"Technicien",propr:"nom"})}),(0,m.jsx)("div",{style:{marginBottom:"10px"},children:(0,m.jsx)(A.Z,{onChange:e=>d(e.target.value),style:{marginTop:"10px"},name:"numSynchro",autoComplete:"off",fullWidth:!0,value:r,label:"Numero synchro"})}),(0,m.jsx)("div",{children:(0,m.jsx)(j.Z,{onClick:e=>(async e=>{e.preventDefault();try{const e=await g.Z.post(`${p.mA}/assign_tech_ticket`,{num_ticket:null===t||void 0===t?void 0:t.idPlainte,codeAgent:null===s||void 0===s?void 0:s.codeAgent,numSynchro:r},p.vc);200===e.status&&(v("Technician assigned","success"),l(""),d(""),u(c.map((t=>t._id===e.data._id?e.data:t)))),201===e.status&&v("Assignment error","error")}catch(i){v(""+i,"success")}})(e),fullWidth:!0,color:"primary",variant:"contained",children:"Valider"})})]})}const Ee=n.memo(We);const Be=function(e){let{idPlainte:t}=e;const[i,s]=n.useState(""),{client:l,setClient:o}=n.useContext(a.E);n.useEffect((()=>{s("")}),[t]);const[r,d]=R.ZP.useMessage(),c=(e,t)=>{r.open({type:t,content:""+e,duration:5})},[u,h]=n.useState(!1);return(0,m.jsxs)("div",{style:{width:"20rem"},children:[d,(0,m.jsx)("div",{style:{marginTop:"10px"},children:(0,m.jsx)(A.Z,{value:i,onChange:e=>s(e.target.value),name:"raison",autoComplete:"off",fullWidth:!0,label:"Raison de Fermeture"})}),(0,m.jsx)("div",{style:{marginTop:"10px"},children:(0,m.jsx)(j.Z,{disabled:u,onClick:e=>(async e=>{try{e.preventDefault(),h(!0);const n=await g.Z.post(p.mA+"/fermeture_plainte",{idPlainte:t,raison:i},p.vc);200===n.status&&(c("Done","success"),o(l.map((e=>e.idPlainte===n.data.idPlainte?n.data:e))),h(!1),s("")),201===n.status&&(c(""+n.data,"error"),h(!1))}catch(n){c(""+n,"error"),h(!1)}})(e),fullWidth:!0,variant:"contained",color:"primary",children:"Escalader"})})]})};var Fe=i(528756);function Le(e){let{clients:t}=e;const[i,s]=n.useState(""),[l,o]=n.useState(""),{client:r,setClient:d}=n.useContext(a.E),[c,u]=n.useState(!1),[h,x]=R.ZP.useMessage(),v=(e,t)=>{h.open({type:t,content:""+e,duration:5})};return(0,m.jsxs)("div",{style:{width:"20rem"},children:[x,(0,m.jsx)("div",{style:{marginTop:"5px"},children:(0,m.jsx)(Fe.Z,{label:"Statut",data:[{id:1,title:"Resolved",value:"resolved"},{id:2,title:"Not Resolved",value:"Open_technician_visit"}],value:i,setValue:s})}),(0,m.jsx)("div",{style:{marginBottom:"10px"},children:(0,m.jsx)(A.Z,{onChange:e=>o(e.target.value),value:l,style:{marginTop:"10px"},name:"commentaire",autoComplete:"off",fullWidth:!0,label:"commentaire"})}),(0,m.jsx)("div",{children:(0,m.jsx)(j.Z,{disabled:c,onClick:e=>(async e=>{e.preventDefault();try{u(!0);const e={num_ticket:null===t||void 0===t?void 0:t.idPlainte,statut:i,commentaire:l,open:"resolved"!==i},n=await g.Z.post(`${p.mA}/verification_ticket`,e,p.vc);if(200===n.status){if("resolved"===n.data.statut)v("You can only refresh the page","success");else{let e=r.map((e=>e._id===n.data._id?n.data:e));d(e)}o(""),s(""),u(!1)}else v(""+n.data,"error")}catch(n){v(""+n,"error")}})(e),variant:"contained",color:"primary",fullWidth:!0,children:"Next"})})]})}const Ue=n.memo(Le);var Ge=i(306282),Ye=i(872665),He=i(968728),Ve=i(911198),qe=i(869262),Qe=i(429428),_e=i(116759),Je=i(51405),Xe=i(617592),Ke=i(913392);const $e=(0,Xe.ZP)((e=>(0,m.jsx)(_e.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:(0,Ke.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function et(e){let{client:t,validation:i,openChat:s,apresAssistance:l,openForm:a,fermeture:r}=e;const[d,c]=n.useState(null),u=Boolean(d),h=(0,o.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user})),p=()=>{c(null)};return(0,m.jsxs)("div",{children:[(0,m.jsx)(j.Z,{id:""+t._id,"aria-controls":u?""+t._id:void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0,variant:"contained",disableElevation:!0,onClick:e=>{c(e.currentTarget)},endIcon:(0,m.jsx)(Qe.default,{}),children:"Options"}),(0,m.jsx)($e,{id:""+t._id,MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:d,open:u,onClose:p,children:(0,m.jsxs)("div",{children:[["Open_technician_visit","Not_resolved"].includes(t.statut)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(Je.Z,{onClick:e=>{a(e,t),p()},disableRipple:!0,children:[(0,m.jsx)(Ge.default,{}),"Assign a technician"]}),(0,m.jsxs)(Je.Z,{onClick:()=>{l(t),p()},disableRipple:!0,children:[(0,m.jsx)(Ye.default,{}),"Send to call center"]})]}),"Complaint to close"!==t.statut&&t.open&&(0,m.jsxs)(Je.Z,{onClick:()=>{r(t.idPlainte),p()},disableRipple:!0,children:[(0,m.jsx)(Ve.default,{}),"Request for closure"]}),"resolved_awaiting_confirmation"===t.statut&&((null===h||void 0===h?void 0:h.synchro_shop)&&(null===h||void 0===h?void 0:h.synchro_shop.length)>0||"superUser"===h.fonction)&&(0,m.jsxs)(Je.Z,{onClick:()=>{i(t),p()},disableRipple:!0,children:[(0,m.jsx)(He.default,{}),"Check the action"]}),(0,m.jsxs)(Je.Z,{onClick:e=>{s(t,e),p()},disableRipple:!0,children:[(0,m.jsx)(qe.default,{}),"Detail"]})]})})]})}const tt=n.memo(et);function it(){const[e,t]=n.useState(),{loadingClient:i,client:s,setClient:l}=n.useContext(a.E),{setPlainteSelect:o,setSelect:r}=n.useContext(d.U),[u,h]=n.useState(!1),[x,v]=n.useState(),j=e=>{v(e),h(!0)};n.useEffect((()=>{s&&t(s.filter((e=>"ticket"===e.type)))}),[s]);const[f,Z]=R.ZP.useMessage(),y=(e,t)=>{f.open({type:t,content:""+e,duration:5})},[C,w]=n.useState(!1),[b,S]=n.useState(),N=(e,t)=>{e.preventDefault(),S(t),w(!0)},[P,k]=n.useState(!1),A=async e=>{try{if(e.technicien){k(!0);const t=await g.Z.post(`${p.mA}/assistance_ticket`,{num_ticket:e.idPlainte},p.vc);200===t.status?(y("Done","success"),l(s.map((e=>e._id===t.data._id?t.data:e))),k(!1)):(y(""+t.data,"error"),k(!1))}else y("The ticket is not assigned to a technician","error")}catch(t){console.log(t)}},[D,T]=n.useState(!1),[M,O]=n.useState(),W=e=>{O(e),T(!0)},E=(e,t)=>{t.preventDefault(),o(e),r(3)};function B(e){let[t,i]=(0,n.useState)(e);if(n.useEffect((()=>{const e=setInterval((()=>{i((e=>e>0?e-1:0))}),1e3);return()=>clearInterval(e)}),[e]),t<=0)return(0,m.jsx)("p",{style:{background:"red",padding:"0px",margin:"0px",height:"50%",fontSize:"12px",color:"white",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"OUT SLA"});{const e=Math.floor(t/86400),i=Math.floor(t%86400/3600),n=Math.floor(t%3600/60),s=t%60;return(0,m.jsx)("p",{style:{background:"green",padding:"0px",margin:"0px",height:"50%",fontSize:"12px",color:"white",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:`\n        ${e+"jr"} ${i+"h"} ${n+"m"} ${s+"s"}\n        `})}}const F=[{field:"codeclient",headerName:"Code client",width:110,editable:!1},{field:"idPlainte",headerName:"Num_ticket",width:90,editable:!1},{field:"actionSynchro",headerName:"Synchro",width:90,editable:!1,renderCell:e=>{var t,i;return null===(t=e.row)||void 0===t||null===(i=t.technicien)||void 0===i?void 0:i.numSynchro}},{field:"statut",headerName:"Statut",width:200,editable:!1,renderCell:e=>(0,m.jsx)(pe.Z,{text:e.row.statut})},{field:"plainteSelect",headerName:"Issue",width:150,editable:!1},{field:"shop",headerName:"Shop",width:120,editable:!1},{field:"Tech",headerName:"Tech",width:80,editable:!1,renderCell:e=>{var t;return null===(t=e.row.technicien)||void 0===t?void 0:t.codeTech}},{field:"dateSave",headerName:"Date open",width:75,editable:!1,renderCell:e=>U()(e.row.dateSave).format("DD-MM-YYYY")},{field:"submitedBy",headerName:"Saved by",width:90,editable:!1,renderCell:e=>e.row.submitedBy},{field:"SLA",headerName:"SLA",width:130,editable:!1,renderCell:e=>{var t;return(0,m.jsx)(m.Fragment,{children:e.row.open?B(60*(e.row.time_delai-(0,p.h$)(e.row.fullDateSave,new Date).toFixed(0))):(0,m.jsx)(pe.Z,{text:null===(t=e.row)||void 0===t?void 0:t.delai})})}},{field:"action",headerName:"Action",width:150,editable:!1,renderCell:e=>(0,m.jsx)(tt,{client:e.row,openChat:E,validation:W,apresAssistance:A,openForm:N,fermeture:j})}];return(0,m.jsxs)("div",{children:[Z,P&&(0,m.jsx)(z.Z,{open:!0,title:"Please wait",taille:"10rem"}),i&&(0,m.jsx)(he.Z,{width:400,height:400}),!i&&e&&e.length>0&&(0,m.jsx)(c.Z,{elevation:4,children:(0,m.jsx)(ce._$,{rows:e,columns:F,initialState:{pagination:{paginationModel:{pageSize:100}}},pageSizeOptions:[100],disableRowSelectionOnClick:!0,getRowId:e=>e._id})}),!i&&e&&0===e.length&&(0,m.jsx)(ue.Z,{texte:"No pending technical complaints"}),b&&(0,m.jsx)(I.Z,{open:C,setOpen:w,title:"Affectation tech",children:(0,m.jsx)(Ee,{clients:b})}),M&&(0,m.jsx)(I.Z,{open:D,setOpen:T,title:"Check",children:(0,m.jsx)(Ue,{clients:M,close:T})}),(0,m.jsx)(I.Z,{open:u,setOpen:h,title:"Fermeture",children:(0,m.jsx)(Be,{idPlainte:x})})]})}const nt=n.memo(it);function st(){const{select:e,setSelect:t,annuler:i}=n.useContext(d.U),{client:c}=n.useContext(a.E),u=(0,o.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user})),[h,p]=n.useState();return n.useEffect((()=>{u.plainte_callcenter&&p("callcenter"),u.plainteShop&&p("shop")}),[u]),(0,m.jsxs)(s.ZP,{children:[(0,m.jsxs)(s.ZP,{className:"divAppel",component:"div",children:[(0,m.jsx)(s.ZP,{onClick:()=>{i(),t(7)},className:`${7===e&&"select"} titres`,children:(0,m.jsx)("p",{children:"Dashboard"})}),u&&(u.plainte_callcenter||u.plainteShop)&&(0,m.jsx)(s.ZP,{onClick:()=>{i(),t(1)},className:`${1===e&&"select"} titres`,children:(0,m.jsx)("p",{children:"Create one"})}),(0,m.jsxs)(s.ZP,{onClick:()=>{i(),t(0)},className:`${0===e&&"select"} titres`,sx:{width:"10rem"},children:[(0,m.jsx)(l.Z,{component:"p",noWrap:!0,children:"No technical Issues"}),(0,m.jsxs)(l.Z,{component:"p",className:"nbre",children:[c&&c.length>0&&c.filter((e=>"appel"===e.type&&"escalade"!==e.statut)).length,c&&0===c.length&&(0,m.jsx)(r.Z,{size:10})]})]}),(0,m.jsxs)(s.ZP,{onClick:()=>{i(),t(5)},className:`${5===e&&"select"} titres`,sx:{width:"10rem"},children:[(0,m.jsx)(l.Z,{component:"p",noWrap:!0,children:"Technical Issues"}),(0,m.jsxs)(l.Z,{component:"p",className:"nbre",children:[c&&c.length>0&&c.filter((e=>"ticket"===e.type)).length,c&&0==c.length&&(0,m.jsx)(r.Z,{size:10})]})]}),u.backOffice_plainte&&(0,m.jsxs)(s.ZP,{onClick:()=>{i(),t(2)},className:`${2===e&&"select"} titres`,children:[(0,m.jsx)(l.Z,{component:"p",children:"Back office"}),(0,m.jsxs)(l.Z,{component:"p",className:"nbre",children:[c&&c.length>0&&c.filter((e=>"backoffice"===(null===e||void 0===e?void 0:e.operation))).length,c&&0==c.length&&(0,m.jsx)(r.Z,{size:10})]})]}),!u.backOffice_plainte&&(0,m.jsx)(s.ZP,{onClick:()=>{i(),t(8)},className:`${8===e&&"select"} titres`,children:(0,m.jsx)(l.Z,{component:"p",children:"Back office"})}),("co"===u.fonction||"superUser"===u.fonction)&&(0,m.jsxs)(s.ZP,{onClick:()=>{i(),t(4)},className:`${4===e&&"select"} titres`,children:[(0,m.jsx)(l.Z,{component:"p",children:"Relocation"}),(0,m.jsxs)(l.Z,{component:"p",className:"nbre",children:[c&&c.length>0&&c.filter((e=>"awaiting_confirmation"===(null===e||void 0===e?void 0:e.statut))).length,c&&0===c.length&&(0,m.jsx)(r.Z,{size:10,color:"inherit"})]})]}),(0,m.jsx)(s.ZP,{onClick:()=>{i(),t(9)},className:`${9===e&&"select"} titres`,children:(0,m.jsx)(l.Z,{component:"p",children:"Search"})})]}),0===e&&(0,m.jsx)(Oe,{}),1===e&&h&&(0,m.jsx)(oe,{property:h}),2===e&&(0,m.jsx)(xe,{}),3===e&&(0,m.jsx)(Ze,{}),4===e&&(0,m.jsx)(Se,{}),5===e&&(0,m.jsx)(nt,{}),6===e&&(0,m.jsx)(Z,{}),7===e&&(0,m.jsx)(v,{}),8===e&&(0,m.jsx)(Pe,{}),9===e&&(0,m.jsx)(Re,{})]})}const lt=n.memo(st);function at(){return(0,m.jsx)(d.Z,{children:(0,m.jsx)(lt,{})})}const ot=n.memo(at)},542420:(e,t,i)=>{i.d(t,{Z:()=>v});var n=i(747313),s=i(683061),l=i(608007),a=i(338743),o=i(691615),r=i(577342),d=i(814363),c=i(601167);function u(e){return(0,c.ZP)("MuiFab",e)}const h=(0,d.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var p=i(617592),m=i(346417);const x=(0,p.ZP)(a.Z,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,p.FO)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t[`size${(0,o.Z)(i.size)}`],"inherit"===i.color&&t.colorInherit,t[(0,o.Z)(i.size)],t[i.color]]}})((e=>{let{theme:t,ownerState:i}=e;var n,s;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(n=(s=t.palette).getContrastText)?void 0:n.call(s,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${h.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},..."small"===i.size&&{width:40,height:40},..."medium"===i.size&&{width:48,height:48},..."extended"===i.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},..."extended"===i.variant&&"small"===i.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},..."extended"===i.variant&&"medium"===i.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},..."inherit"===i.color&&{color:"inherit"}}}),(e=>{let{theme:t,ownerState:i}=e;return{..."inherit"!==i.color&&"default"!==i.color&&null!=(t.vars||t).palette[i.color]&&{color:(t.vars||t).palette[i.color].contrastText,backgroundColor:(t.vars||t).palette[i.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[i.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[i.color].main}}}}}),(e=>{let{theme:t}=e;return{[`&.${h.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),v=n.forwardRef((function(e,t){const i=(0,r.Z)({props:e,name:"MuiFab"}),{children:n,className:a,color:d="default",component:c="button",disabled:h=!1,disableFocusRipple:p=!1,focusVisibleClassName:v,size:j="large",variant:g="circular",...f}=i,Z={...i,color:d,component:c,disabled:h,disableFocusRipple:p,size:j,variant:g},y=(e=>{const{color:t,variant:i,classes:n,size:s}=e,a={root:["root",i,`size${(0,o.Z)(s)}`,"inherit"===t?"colorInherit":t]},r=(0,l.Z)(a,u,n);return{...n,...r}})(Z);return(0,m.jsx)(x,{className:(0,s.Z)(y.root,a),component:c,disabled:h,focusRipple:!p,focusVisibleClassName:(0,s.Z)(y.focusVisible,v),ownerState:Z,ref:t,...f,classes:y,children:n})}))},116429:(e,t,i)=>{i.d(t,{Z:()=>x});var n=i(747313),s=i(683061),l=i(608007),a=i(617592),o=i(577342),r=i(814363),d=i(601167);function c(e){return(0,d.ZP)("MuiFormGroup",e)}(0,r.Z)("MuiFormGroup",["root","row","error"]);var u=i(799008),h=i(880300),p=i(346417);const m=(0,a.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.row&&t.row]}})((e=>{let{ownerState:t}=e;return{display:"flex",flexDirection:"column",flexWrap:"wrap",...t.row&&{flexDirection:"row"}}})),x=n.forwardRef((function(e,t){const i=(0,o.Z)({props:e,name:"MuiFormGroup"}),{className:n,row:a=!1,...r}=i,d=(0,u.Z)(),x=(0,h.Z)({props:i,muiFormControl:d,states:["error"]}),v={...i,row:a,error:x.error},j=(e=>{const{classes:t,row:i,error:n}=e,s={root:["root",i&&"row",n&&"error"]};return(0,l.Z)(s,c,t)})(v);return(0,p.jsx)(m,{className:(0,s.Z)(j.root,n),ownerState:v,ref:t,...r})}))}}]);